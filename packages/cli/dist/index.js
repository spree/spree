#!/usr/bin/env node
import { createRequire as __createRequire } from "node:module";
const require = __createRequire(import.meta.url);
var of=Object.create;var vi=Object.defineProperty;var sf=Object.getOwnPropertyDescriptor;var af=Object.getOwnPropertyNames;var uf=Object.getPrototypeOf,cf=Object.prototype.hasOwnProperty;var j=(e=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(e,{get:(t,r)=>(typeof require<"u"?require:t)[r]}):e)(function(e){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+e+'" is not supported')});var g=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var lf=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of af(t))!cf.call(e,o)&&o!==r&&vi(e,o,{get:()=>t[o],enumerable:!(n=sf(t,o))||n.enumerable});return e};var q=(e,t,r)=>(r=e!=null?of(uf(e)):{},lf(t||!e||!e.__esModule?vi(r,"default",{value:e,enumerable:!0}):r,e));var ot=g(sn=>{"use strict";var $t=class extends Error{constructor(t,r,n){super(n),Error.captureStackTrace(this,this.constructor),this.name=this.constructor.name,this.code=r,this.exitCode=t,this.nestedError=void 0}},on=class extends $t{constructor(t){super(1,"commander.invalidArgument",t),Error.captureStackTrace(this,this.constructor),this.name=this.constructor.name}};sn.CommanderError=$t;sn.InvalidArgumentError=on});var Bt=g(un=>{"use strict";var{InvalidArgumentError:df}=ot(),an=class{constructor(t,r){switch(this.description=r||"",this.variadic=!1,this.parseArg=void 0,this.defaultValue=void 0,this.defaultValueDescription=void 0,this.argChoices=void 0,t[0]){case"<":this.required=!0,this._name=t.slice(1,-1);break;case"[":this.required=!1,this._name=t.slice(1,-1);break;default:this.required=!0,this._name=t;break}this._name.length>3&&this._name.slice(-3)==="..."&&(this.variadic=!0,this._name=this._name.slice(0,-3))}name(){return this._name}_concatValue(t,r){return r===this.defaultValue||!Array.isArray(r)?[t]:r.concat(t)}default(t,r){return this.defaultValue=t,this.defaultValueDescription=r,this}argParser(t){return this.parseArg=t,this}choices(t){return this.argChoices=t.slice(),this.parseArg=(r,n)=>{if(!this.argChoices.includes(r))throw new df(`Allowed choices are ${this.argChoices.join(", ")}.`);return this.variadic?this._concatValue(r,n):r},this}argRequired(){return this.required=!0,this}argOptional(){return this.required=!1,this}};function ff(e){let t=e.name()+(e.variadic===!0?"...":"");return e.required?"<"+t+">":"["+t+"]"}un.Argument=an;un.humanReadableArgName=ff});var dn=g(ln=>{"use strict";var{humanReadableArgName:mf}=Bt(),cn=class{constructor(){this.helpWidth=void 0,this.minWidthToWrap=40,this.sortSubcommands=!1,this.sortOptions=!1,this.showGlobalOptions=!1}prepareContext(t){this.helpWidth=this.helpWidth??t.helpWidth??80}visibleCommands(t){let r=t.commands.filter(o=>!o._hidden),n=t._getHelpCommand();return n&&!n._hidden&&r.push(n),this.sortSubcommands&&r.sort((o,s)=>o.name().localeCompare(s.name())),r}compareOptions(t,r){let n=o=>o.short?o.short.replace(/^-/,""):o.long.replace(/^--/,"");return n(t).localeCompare(n(r))}visibleOptions(t){let r=t.options.filter(o=>!o.hidden),n=t._getHelpOption();if(n&&!n.hidden){let o=n.short&&t._findOption(n.short),s=n.long&&t._findOption(n.long);!o&&!s?r.push(n):n.long&&!s?r.push(t.createOption(n.long,n.description)):n.short&&!o&&r.push(t.createOption(n.short,n.description))}return this.sortOptions&&r.sort(this.compareOptions),r}visibleGlobalOptions(t){if(!this.showGlobalOptions)return[];let r=[];for(let n=t.parent;n;n=n.parent){let o=n.options.filter(s=>!s.hidden);r.push(...o)}return this.sortOptions&&r.sort(this.compareOptions),r}visibleArguments(t){return t._argsDescription&&t.registeredArguments.forEach(r=>{r.description=r.description||t._argsDescription[r.name()]||""}),t.registeredArguments.find(r=>r.description)?t.registeredArguments:[]}subcommandTerm(t){let r=t.registeredArguments.map(n=>mf(n)).join(" ");return t._name+(t._aliases[0]?"|"+t._aliases[0]:"")+(t.options.length?" [options]":"")+(r?" "+r:"")}optionTerm(t){return t.flags}argumentTerm(t){return t.name()}longestSubcommandTermLength(t,r){return r.visibleCommands(t).reduce((n,o)=>Math.max(n,this.displayWidth(r.styleSubcommandTerm(r.subcommandTerm(o)))),0)}longestOptionTermLength(t,r){return r.visibleOptions(t).reduce((n,o)=>Math.max(n,this.displayWidth(r.styleOptionTerm(r.optionTerm(o)))),0)}longestGlobalOptionTermLength(t,r){return r.visibleGlobalOptions(t).reduce((n,o)=>Math.max(n,this.displayWidth(r.styleOptionTerm(r.optionTerm(o)))),0)}longestArgumentTermLength(t,r){return r.visibleArguments(t).reduce((n,o)=>Math.max(n,this.displayWidth(r.styleArgumentTerm(r.argumentTerm(o)))),0)}commandUsage(t){let r=t._name;t._aliases[0]&&(r=r+"|"+t._aliases[0]);let n="";for(let o=t.parent;o;o=o.parent)n=o.name()+" "+n;return n+r+" "+t.usage()}commandDescription(t){return t.description()}subcommandDescription(t){return t.summary()||t.description()}optionDescription(t){let r=[];return t.argChoices&&r.push(`choices: ${t.argChoices.map(n=>JSON.stringify(n)).join(", ")}`),t.defaultValue!==void 0&&(t.required||t.optional||t.isBoolean()&&typeof t.defaultValue=="boolean")&&r.push(`default: ${t.defaultValueDescription||JSON.stringify(t.defaultValue)}`),t.presetArg!==void 0&&t.optional&&r.push(`preset: ${JSON.stringify(t.presetArg)}`),t.envVar!==void 0&&r.push(`env: ${t.envVar}`),r.length>0?`${t.description} (${r.join(", ")})`:t.description}argumentDescription(t){let r=[];if(t.argChoices&&r.push(`choices: ${t.argChoices.map(n=>JSON.stringify(n)).join(", ")}`),t.defaultValue!==void 0&&r.push(`default: ${t.defaultValueDescription||JSON.stringify(t.defaultValue)}`),r.length>0){let n=`(${r.join(", ")})`;return t.description?`${t.description} ${n}`:n}return t.description}formatHelp(t,r){let n=r.padWidth(t,r),o=r.helpWidth??80;function s(d,f){return r.formatItem(d,n,f,r)}let i=[`${r.styleTitle("Usage:")} ${r.styleUsage(r.commandUsage(t))}`,""],a=r.commandDescription(t);a.length>0&&(i=i.concat([r.boxWrap(r.styleCommandDescription(a),o),""]));let u=r.visibleArguments(t).map(d=>s(r.styleArgumentTerm(r.argumentTerm(d)),r.styleArgumentDescription(r.argumentDescription(d))));u.length>0&&(i=i.concat([r.styleTitle("Arguments:"),...u,""]));let c=r.visibleOptions(t).map(d=>s(r.styleOptionTerm(r.optionTerm(d)),r.styleOptionDescription(r.optionDescription(d))));if(c.length>0&&(i=i.concat([r.styleTitle("Options:"),...c,""])),r.showGlobalOptions){let d=r.visibleGlobalOptions(t).map(f=>s(r.styleOptionTerm(r.optionTerm(f)),r.styleOptionDescription(r.optionDescription(f))));d.length>0&&(i=i.concat([r.styleTitle("Global Options:"),...d,""]))}let l=r.visibleCommands(t).map(d=>s(r.styleSubcommandTerm(r.subcommandTerm(d)),r.styleSubcommandDescription(r.subcommandDescription(d))));return l.length>0&&(i=i.concat([r.styleTitle("Commands:"),...l,""])),i.join(`
`)}displayWidth(t){return $i(t).length}styleTitle(t){return t}styleUsage(t){return t.split(" ").map(r=>r==="[options]"?this.styleOptionText(r):r==="[command]"?this.styleSubcommandText(r):r[0]==="["||r[0]==="<"?this.styleArgumentText(r):this.styleCommandText(r)).join(" ")}styleCommandDescription(t){return this.styleDescriptionText(t)}styleOptionDescription(t){return this.styleDescriptionText(t)}styleSubcommandDescription(t){return this.styleDescriptionText(t)}styleArgumentDescription(t){return this.styleDescriptionText(t)}styleDescriptionText(t){return t}styleOptionTerm(t){return this.styleOptionText(t)}styleSubcommandTerm(t){return t.split(" ").map(r=>r==="[options]"?this.styleOptionText(r):r[0]==="["||r[0]==="<"?this.styleArgumentText(r):this.styleSubcommandText(r)).join(" ")}styleArgumentTerm(t){return this.styleArgumentText(t)}styleOptionText(t){return t}styleArgumentText(t){return t}styleSubcommandText(t){return t}styleCommandText(t){return t}padWidth(t,r){return Math.max(r.longestOptionTermLength(t,r),r.longestGlobalOptionTermLength(t,r),r.longestSubcommandTermLength(t,r),r.longestArgumentTermLength(t,r))}preformatted(t){return/\n[^\S\r\n]/.test(t)}formatItem(t,r,n,o){let i=" ".repeat(2);if(!n)return i+t;let a=t.padEnd(r+t.length-o.displayWidth(t)),u=2,l=(this.helpWidth??80)-r-u-2,d;return l<this.minWidthToWrap||o.preformatted(n)?d=n:d=o.boxWrap(n,l).replace(/\n/g,`
`+" ".repeat(r+u)),i+a+" ".repeat(u)+d.replace(/\n/g,`
${i}`)}boxWrap(t,r){if(r<this.minWidthToWrap)return t;let n=t.split(/\r\n|\n/),o=/[\s]*[^\s]+/g,s=[];return n.forEach(i=>{let a=i.match(o);if(a===null){s.push("");return}let u=[a.shift()],c=this.displayWidth(u[0]);a.forEach(l=>{let d=this.displayWidth(l);if(c+d<=r){u.push(l),c+=d;return}s.push(u.join(""));let f=l.trimStart();u=[f],c=this.displayWidth(f)}),s.push(u.join(""))}),s.join(`
`)}};function $i(e){let t=/\x1b\[\d*(;\d*)*m/g;return e.replace(t,"")}ln.Help=cn;ln.stripColor=$i});var Dn=g(pn=>{"use strict";var{InvalidArgumentError:pf}=ot(),fn=class{constructor(t,r){this.flags=t,this.description=r||"",this.required=t.includes("<"),this.optional=t.includes("["),this.variadic=/\w\.\.\.[>\]]$/.test(t),this.mandatory=!1;let n=Df(t);this.short=n.shortFlag,this.long=n.longFlag,this.negate=!1,this.long&&(this.negate=this.long.startsWith("--no-")),this.defaultValue=void 0,this.defaultValueDescription=void 0,this.presetArg=void 0,this.envVar=void 0,this.parseArg=void 0,this.hidden=!1,this.argChoices=void 0,this.conflictsWith=[],this.implied=void 0}default(t,r){return this.defaultValue=t,this.defaultValueDescription=r,this}preset(t){return this.presetArg=t,this}conflicts(t){return this.conflictsWith=this.conflictsWith.concat(t),this}implies(t){let r=t;return typeof t=="string"&&(r={[t]:!0}),this.implied=Object.assign(this.implied||{},r),this}env(t){return this.envVar=t,this}argParser(t){return this.parseArg=t,this}makeOptionMandatory(t=!0){return this.mandatory=!!t,this}hideHelp(t=!0){return this.hidden=!!t,this}_concatValue(t,r){return r===this.defaultValue||!Array.isArray(r)?[t]:r.concat(t)}choices(t){return this.argChoices=t.slice(),this.parseArg=(r,n)=>{if(!this.argChoices.includes(r))throw new pf(`Allowed choices are ${this.argChoices.join(", ")}.`);return this.variadic?this._concatValue(r,n):r},this}name(){return this.long?this.long.replace(/^--/,""):this.short.replace(/^-/,"")}attributeName(){return this.negate?Bi(this.name().replace(/^no-/,"")):Bi(this.name())}is(t){return this.short===t||this.long===t}isBoolean(){return!this.required&&!this.optional&&!this.negate}},mn=class{constructor(t){this.positiveOptions=new Map,this.negativeOptions=new Map,this.dualOptions=new Set,t.forEach(r=>{r.negate?this.negativeOptions.set(r.attributeName(),r):this.positiveOptions.set(r.attributeName(),r)}),this.negativeOptions.forEach((r,n)=>{this.positiveOptions.has(n)&&this.dualOptions.add(n)})}valueFromOption(t,r){let n=r.attributeName();if(!this.dualOptions.has(n))return!0;let o=this.negativeOptions.get(n).presetArg,s=o!==void 0?o:!1;return r.negate===(s===t)}};function Bi(e){return e.split("-").reduce((t,r)=>t+r[0].toUpperCase()+r.slice(1))}function Df(e){let t,r,n=/^-[^-]$/,o=/^--[^-]/,s=e.split(/[ |,]+/).concat("guard");if(n.test(s[0])&&(t=s.shift()),o.test(s[0])&&(r=s.shift()),!t&&n.test(s[0])&&(t=s.shift()),!t&&o.test(s[0])&&(t=r,r=s.shift()),s[0].startsWith("-")){let i=s[0],a=`option creation failed due to '${i}' in option flags '${e}'`;throw/^-[^-][^-]/.test(i)?new Error(`${a}
- a short flag is a single dash and a single character
  - either use a single dash and a single character (for a short flag)
  - or use a double dash for a long option (and can have two, like '--ws, --workspace')`):n.test(i)?new Error(`${a}
- too many short flags`):o.test(i)?new Error(`${a}
- too many long flags`):new Error(`${a}
- unrecognised flag format`)}if(t===void 0&&r===void 0)throw new Error(`option creation failed due to no flags found in '${e}'.`);return{shortFlag:t,longFlag:r}}pn.Option=fn;pn.DualOptions=mn});var Ri=g(Ii=>{"use strict";function hf(e,t){if(Math.abs(e.length-t.length)>3)return Math.max(e.length,t.length);let r=[];for(let n=0;n<=e.length;n++)r[n]=[n];for(let n=0;n<=t.length;n++)r[0][n]=n;for(let n=1;n<=t.length;n++)for(let o=1;o<=e.length;o++){let s=1;e[o-1]===t[n-1]?s=0:s=1,r[o][n]=Math.min(r[o-1][n]+1,r[o][n-1]+1,r[o-1][n-1]+s),o>1&&n>1&&e[o-1]===t[n-2]&&e[o-2]===t[n-1]&&(r[o][n]=Math.min(r[o][n],r[o-2][n-2]+1))}return r[e.length][t.length]}function gf(e,t){if(!t||t.length===0)return"";t=Array.from(new Set(t));let r=e.startsWith("--");r&&(e=e.slice(2),t=t.map(i=>i.slice(2)));let n=[],o=3,s=.4;return t.forEach(i=>{if(i.length<=1)return;let a=hf(e,i),u=Math.max(e.length,i.length);(u-a)/u>s&&(a<o?(o=a,n=[i]):a===o&&n.push(i))}),n.sort((i,a)=>i.localeCompare(a)),r&&(n=n.map(i=>`--${i}`)),n.length>1?`
(Did you mean one of ${n.join(", ")}?)`:n.length===1?`
(Did you mean ${n[0]}?)`:""}Ii.suggestSimilar=gf});var ki=g(En=>{"use strict";var bf=j("events").EventEmitter,hn=j("child_process"),ue=j("path"),It=j("fs"),C=j("process"),{Argument:Cf,humanReadableArgName:Ef}=Bt(),{CommanderError:gn}=ot(),{Help:yf,stripColor:xf}=dn(),{Option:Mi,DualOptions:wf}=Dn(),{suggestSimilar:Pi}=Ri(),bn=class e extends bf{constructor(t){super(),this.commands=[],this.options=[],this.parent=null,this._allowUnknownOption=!1,this._allowExcessArguments=!1,this.registeredArguments=[],this._args=this.registeredArguments,this.args=[],this.rawArgs=[],this.processedArgs=[],this._scriptPath=null,this._name=t||"",this._optionValues={},this._optionValueSources={},this._storeOptionsAsProperties=!1,this._actionHandler=null,this._executableHandler=!1,this._executableFile=null,this._executableDir=null,this._defaultCommandName=null,this._exitCallback=null,this._aliases=[],this._combineFlagAndOptionalValue=!0,this._description="",this._summary="",this._argsDescription=void 0,this._enablePositionalOptions=!1,this._passThroughOptions=!1,this._lifeCycleHooks={},this._showHelpAfterError=!1,this._showSuggestionAfterError=!0,this._savedState=null,this._outputConfiguration={writeOut:r=>C.stdout.write(r),writeErr:r=>C.stderr.write(r),outputError:(r,n)=>n(r),getOutHelpWidth:()=>C.stdout.isTTY?C.stdout.columns:void 0,getErrHelpWidth:()=>C.stderr.isTTY?C.stderr.columns:void 0,getOutHasColors:()=>Cn()??(C.stdout.isTTY&&C.stdout.hasColors?.()),getErrHasColors:()=>Cn()??(C.stderr.isTTY&&C.stderr.hasColors?.()),stripColor:r=>xf(r)},this._hidden=!1,this._helpOption=void 0,this._addImplicitHelpCommand=void 0,this._helpCommand=void 0,this._helpConfiguration={}}copyInheritedSettings(t){return this._outputConfiguration=t._outputConfiguration,this._helpOption=t._helpOption,this._helpCommand=t._helpCommand,this._helpConfiguration=t._helpConfiguration,this._exitCallback=t._exitCallback,this._storeOptionsAsProperties=t._storeOptionsAsProperties,this._combineFlagAndOptionalValue=t._combineFlagAndOptionalValue,this._allowExcessArguments=t._allowExcessArguments,this._enablePositionalOptions=t._enablePositionalOptions,this._showHelpAfterError=t._showHelpAfterError,this._showSuggestionAfterError=t._showSuggestionAfterError,this}_getCommandAndAncestors(){let t=[];for(let r=this;r;r=r.parent)t.push(r);return t}command(t,r,n){let o=r,s=n;typeof o=="object"&&o!==null&&(s=o,o=null),s=s||{};let[,i,a]=t.match(/([^ ]+) *(.*)/),u=this.createCommand(i);return o&&(u.description(o),u._executableHandler=!0),s.isDefault&&(this._defaultCommandName=u._name),u._hidden=!!(s.noHelp||s.hidden),u._executableFile=s.executableFile||null,a&&u.arguments(a),this._registerCommand(u),u.parent=this,u.copyInheritedSettings(this),o?this:u}createCommand(t){return new e(t)}createHelp(){return Object.assign(new yf,this.configureHelp())}configureHelp(t){return t===void 0?this._helpConfiguration:(this._helpConfiguration=t,this)}configureOutput(t){return t===void 0?this._outputConfiguration:(Object.assign(this._outputConfiguration,t),this)}showHelpAfterError(t=!0){return typeof t!="string"&&(t=!!t),this._showHelpAfterError=t,this}showSuggestionAfterError(t=!0){return this._showSuggestionAfterError=!!t,this}addCommand(t,r){if(!t._name)throw new Error(`Command passed to .addCommand() must have a name
- specify the name in Command constructor or using .name()`);return r=r||{},r.isDefault&&(this._defaultCommandName=t._name),(r.noHelp||r.hidden)&&(t._hidden=!0),this._registerCommand(t),t.parent=this,t._checkForBrokenPassThrough(),this}createArgument(t,r){return new Cf(t,r)}argument(t,r,n,o){let s=this.createArgument(t,r);return typeof n=="function"?s.default(o).argParser(n):s.default(n),this.addArgument(s),this}arguments(t){return t.trim().split(/ +/).forEach(r=>{this.argument(r)}),this}addArgument(t){let r=this.registeredArguments.slice(-1)[0];if(r&&r.variadic)throw new Error(`only the last argument can be variadic '${r.name()}'`);if(t.required&&t.defaultValue!==void 0&&t.parseArg===void 0)throw new Error(`a default value for a required argument is never used: '${t.name()}'`);return this.registeredArguments.push(t),this}helpCommand(t,r){if(typeof t=="boolean")return this._addImplicitHelpCommand=t,this;t=t??"help [command]";let[,n,o]=t.match(/([^ ]+) *(.*)/),s=r??"display help for command",i=this.createCommand(n);return i.helpOption(!1),o&&i.arguments(o),s&&i.description(s),this._addImplicitHelpCommand=!0,this._helpCommand=i,this}addHelpCommand(t,r){return typeof t!="object"?(this.helpCommand(t,r),this):(this._addImplicitHelpCommand=!0,this._helpCommand=t,this)}_getHelpCommand(){return this._addImplicitHelpCommand??(this.commands.length&&!this._actionHandler&&!this._findCommand("help"))?(this._helpCommand===void 0&&this.helpCommand(void 0,void 0),this._helpCommand):null}hook(t,r){let n=["preSubcommand","preAction","postAction"];if(!n.includes(t))throw new Error(`Unexpected value for event passed to hook : '${t}'.
Expecting one of '${n.join("', '")}'`);return this._lifeCycleHooks[t]?this._lifeCycleHooks[t].push(r):this._lifeCycleHooks[t]=[r],this}exitOverride(t){return t?this._exitCallback=t:this._exitCallback=r=>{if(r.code!=="commander.executeSubCommandAsync")throw r},this}_exit(t,r,n){this._exitCallback&&this._exitCallback(new gn(t,r,n)),C.exit(t)}action(t){let r=n=>{let o=this.registeredArguments.length,s=n.slice(0,o);return this._storeOptionsAsProperties?s[o]=this:s[o]=this.opts(),s.push(this),t.apply(this,s)};return this._actionHandler=r,this}createOption(t,r){return new Mi(t,r)}_callParseArg(t,r,n,o){try{return t.parseArg(r,n)}catch(s){if(s.code==="commander.invalidArgument"){let i=`${o} ${s.message}`;this.error(i,{exitCode:s.exitCode,code:s.code})}throw s}}_registerOption(t){let r=t.short&&this._findOption(t.short)||t.long&&this._findOption(t.long);if(r){let n=t.long&&this._findOption(t.long)?t.long:t.short;throw new Error(`Cannot add option '${t.flags}'${this._name&&` to command '${this._name}'`} due to conflicting flag '${n}'
-  already used by option '${r.flags}'`)}this.options.push(t)}_registerCommand(t){let r=o=>[o.name()].concat(o.aliases()),n=r(t).find(o=>this._findCommand(o));if(n){let o=r(this._findCommand(n)).join("|"),s=r(t).join("|");throw new Error(`cannot add command '${s}' as already have command '${o}'`)}this.commands.push(t)}addOption(t){this._registerOption(t);let r=t.name(),n=t.attributeName();if(t.negate){let s=t.long.replace(/^--no-/,"--");this._findOption(s)||this.setOptionValueWithSource(n,t.defaultValue===void 0?!0:t.defaultValue,"default")}else t.defaultValue!==void 0&&this.setOptionValueWithSource(n,t.defaultValue,"default");let o=(s,i,a)=>{s==null&&t.presetArg!==void 0&&(s=t.presetArg);let u=this.getOptionValue(n);s!==null&&t.parseArg?s=this._callParseArg(t,s,u,i):s!==null&&t.variadic&&(s=t._concatValue(s,u)),s==null&&(t.negate?s=!1:t.isBoolean()||t.optional?s=!0:s=""),this.setOptionValueWithSource(n,s,a)};return this.on("option:"+r,s=>{let i=`error: option '${t.flags}' argument '${s}' is invalid.`;o(s,i,"cli")}),t.envVar&&this.on("optionEnv:"+r,s=>{let i=`error: option '${t.flags}' value '${s}' from env '${t.envVar}' is invalid.`;o(s,i,"env")}),this}_optionEx(t,r,n,o,s){if(typeof r=="object"&&r instanceof Mi)throw new Error("To add an Option object use addOption() instead of option() or requiredOption()");let i=this.createOption(r,n);if(i.makeOptionMandatory(!!t.mandatory),typeof o=="function")i.default(s).argParser(o);else if(o instanceof RegExp){let a=o;o=(u,c)=>{let l=a.exec(u);return l?l[0]:c},i.default(s).argParser(o)}else i.default(o);return this.addOption(i)}option(t,r,n,o){return this._optionEx({},t,r,n,o)}requiredOption(t,r,n,o){return this._optionEx({mandatory:!0},t,r,n,o)}combineFlagAndOptionalValue(t=!0){return this._combineFlagAndOptionalValue=!!t,this}allowUnknownOption(t=!0){return this._allowUnknownOption=!!t,this}allowExcessArguments(t=!0){return this._allowExcessArguments=!!t,this}enablePositionalOptions(t=!0){return this._enablePositionalOptions=!!t,this}passThroughOptions(t=!0){return this._passThroughOptions=!!t,this._checkForBrokenPassThrough(),this}_checkForBrokenPassThrough(){if(this.parent&&this._passThroughOptions&&!this.parent._enablePositionalOptions)throw new Error(`passThroughOptions cannot be used for '${this._name}' without turning on enablePositionalOptions for parent command(s)`)}storeOptionsAsProperties(t=!0){if(this.options.length)throw new Error("call .storeOptionsAsProperties() before adding options");if(Object.keys(this._optionValues).length)throw new Error("call .storeOptionsAsProperties() before setting option values");return this._storeOptionsAsProperties=!!t,this}getOptionValue(t){return this._storeOptionsAsProperties?this[t]:this._optionValues[t]}setOptionValue(t,r){return this.setOptionValueWithSource(t,r,void 0)}setOptionValueWithSource(t,r,n){return this._storeOptionsAsProperties?this[t]=r:this._optionValues[t]=r,this._optionValueSources[t]=n,this}getOptionValueSource(t){return this._optionValueSources[t]}getOptionValueSourceWithGlobals(t){let r;return this._getCommandAndAncestors().forEach(n=>{n.getOptionValueSource(t)!==void 0&&(r=n.getOptionValueSource(t))}),r}_prepareUserArgs(t,r){if(t!==void 0&&!Array.isArray(t))throw new Error("first parameter to parse must be array or undefined");if(r=r||{},t===void 0&&r.from===void 0){C.versions?.electron&&(r.from="electron");let o=C.execArgv??[];(o.includes("-e")||o.includes("--eval")||o.includes("-p")||o.includes("--print"))&&(r.from="eval")}t===void 0&&(t=C.argv),this.rawArgs=t.slice();let n;switch(r.from){case void 0:case"node":this._scriptPath=t[1],n=t.slice(2);break;case"electron":C.defaultApp?(this._scriptPath=t[1],n=t.slice(2)):n=t.slice(1);break;case"user":n=t.slice(0);break;case"eval":n=t.slice(1);break;default:throw new Error(`unexpected parse option { from: '${r.from}' }`)}return!this._name&&this._scriptPath&&this.nameFromFilename(this._scriptPath),this._name=this._name||"program",n}parse(t,r){this._prepareForParse();let n=this._prepareUserArgs(t,r);return this._parseCommand([],n),this}async parseAsync(t,r){this._prepareForParse();let n=this._prepareUserArgs(t,r);return await this._parseCommand([],n),this}_prepareForParse(){this._savedState===null?this.saveStateBeforeParse():this.restoreStateBeforeParse()}saveStateBeforeParse(){this._savedState={_name:this._name,_optionValues:{...this._optionValues},_optionValueSources:{...this._optionValueSources}}}restoreStateBeforeParse(){if(this._storeOptionsAsProperties)throw new Error(`Can not call parse again when storeOptionsAsProperties is true.
- either make a new Command for each call to parse, or stop storing options as properties`);this._name=this._savedState._name,this._scriptPath=null,this.rawArgs=[],this._optionValues={...this._savedState._optionValues},this._optionValueSources={...this._savedState._optionValueSources},this.args=[],this.processedArgs=[]}_checkForMissingExecutable(t,r,n){if(It.existsSync(t))return;let o=r?`searched for local subcommand relative to directory '${r}'`:"no directory for search for local subcommand, use .executableDir() to supply a custom directory",s=`'${t}' does not exist
 - if '${n}' is not meant to be an executable command, remove description parameter from '.command()' and use '.description()' instead
 - if the default executable name is not suitable, use the executableFile option to supply a custom name or path
 - ${o}`;throw new Error(s)}_executeSubCommand(t,r){r=r.slice();let n=!1,o=[".js",".ts",".tsx",".mjs",".cjs"];function s(l,d){let f=ue.resolve(l,d);if(It.existsSync(f))return f;if(o.includes(ue.extname(d)))return;let m=o.find(D=>It.existsSync(`${f}${D}`));if(m)return`${f}${m}`}this._checkForMissingMandatoryOptions(),this._checkForConflictingOptions();let i=t._executableFile||`${this._name}-${t._name}`,a=this._executableDir||"";if(this._scriptPath){let l;try{l=It.realpathSync(this._scriptPath)}catch{l=this._scriptPath}a=ue.resolve(ue.dirname(l),a)}if(a){let l=s(a,i);if(!l&&!t._executableFile&&this._scriptPath){let d=ue.basename(this._scriptPath,ue.extname(this._scriptPath));d!==this._name&&(l=s(a,`${d}-${t._name}`))}i=l||i}n=o.includes(ue.extname(i));let u;C.platform!=="win32"?n?(r.unshift(i),r=Li(C.execArgv).concat(r),u=hn.spawn(C.argv[0],r,{stdio:"inherit"})):u=hn.spawn(i,r,{stdio:"inherit"}):(this._checkForMissingExecutable(i,a,t._name),r.unshift(i),r=Li(C.execArgv).concat(r),u=hn.spawn(C.execPath,r,{stdio:"inherit"})),u.killed||["SIGUSR1","SIGUSR2","SIGTERM","SIGINT","SIGHUP"].forEach(d=>{C.on(d,()=>{u.killed===!1&&u.exitCode===null&&u.kill(d)})});let c=this._exitCallback;u.on("close",l=>{l=l??1,c?c(new gn(l,"commander.executeSubCommandAsync","(close)")):C.exit(l)}),u.on("error",l=>{if(l.code==="ENOENT")this._checkForMissingExecutable(i,a,t._name);else if(l.code==="EACCES")throw new Error(`'${i}' not executable`);if(!c)C.exit(1);else{let d=new gn(1,"commander.executeSubCommandAsync","(error)");d.nestedError=l,c(d)}}),this.runningCommand=u}_dispatchSubcommand(t,r,n){let o=this._findCommand(t);o||this.help({error:!0}),o._prepareForParse();let s;return s=this._chainOrCallSubCommandHook(s,o,"preSubcommand"),s=this._chainOrCall(s,()=>{if(o._executableHandler)this._executeSubCommand(o,r.concat(n));else return o._parseCommand(r,n)}),s}_dispatchHelpCommand(t){t||this.help();let r=this._findCommand(t);return r&&!r._executableHandler&&r.help(),this._dispatchSubcommand(t,[],[this._getHelpOption()?.long??this._getHelpOption()?.short??"--help"])}_checkNumberOfArguments(){this.registeredArguments.forEach((t,r)=>{t.required&&this.args[r]==null&&this.missingArgument(t.name())}),!(this.registeredArguments.length>0&&this.registeredArguments[this.registeredArguments.length-1].variadic)&&this.args.length>this.registeredArguments.length&&this._excessArguments(this.args)}_processArguments(){let t=(n,o,s)=>{let i=o;if(o!==null&&n.parseArg){let a=`error: command-argument value '${o}' is invalid for argument '${n.name()}'.`;i=this._callParseArg(n,o,s,a)}return i};this._checkNumberOfArguments();let r=[];this.registeredArguments.forEach((n,o)=>{let s=n.defaultValue;n.variadic?o<this.args.length?(s=this.args.slice(o),n.parseArg&&(s=s.reduce((i,a)=>t(n,a,i),n.defaultValue))):s===void 0&&(s=[]):o<this.args.length&&(s=this.args[o],n.parseArg&&(s=t(n,s,n.defaultValue))),r[o]=s}),this.processedArgs=r}_chainOrCall(t,r){return t&&t.then&&typeof t.then=="function"?t.then(()=>r()):r()}_chainOrCallHooks(t,r){let n=t,o=[];return this._getCommandAndAncestors().reverse().filter(s=>s._lifeCycleHooks[r]!==void 0).forEach(s=>{s._lifeCycleHooks[r].forEach(i=>{o.push({hookedCommand:s,callback:i})})}),r==="postAction"&&o.reverse(),o.forEach(s=>{n=this._chainOrCall(n,()=>s.callback(s.hookedCommand,this))}),n}_chainOrCallSubCommandHook(t,r,n){let o=t;return this._lifeCycleHooks[n]!==void 0&&this._lifeCycleHooks[n].forEach(s=>{o=this._chainOrCall(o,()=>s(this,r))}),o}_parseCommand(t,r){let n=this.parseOptions(r);if(this._parseOptionsEnv(),this._parseOptionsImplied(),t=t.concat(n.operands),r=n.unknown,this.args=t.concat(r),t&&this._findCommand(t[0]))return this._dispatchSubcommand(t[0],t.slice(1),r);if(this._getHelpCommand()&&t[0]===this._getHelpCommand().name())return this._dispatchHelpCommand(t[1]);if(this._defaultCommandName)return this._outputHelpIfRequested(r),this._dispatchSubcommand(this._defaultCommandName,t,r);this.commands.length&&this.args.length===0&&!this._actionHandler&&!this._defaultCommandName&&this.help({error:!0}),this._outputHelpIfRequested(n.unknown),this._checkForMissingMandatoryOptions(),this._checkForConflictingOptions();let o=()=>{n.unknown.length>0&&this.unknownOption(n.unknown[0])},s=`command:${this.name()}`;if(this._actionHandler){o(),this._processArguments();let i;return i=this._chainOrCallHooks(i,"preAction"),i=this._chainOrCall(i,()=>this._actionHandler(this.processedArgs)),this.parent&&(i=this._chainOrCall(i,()=>{this.parent.emit(s,t,r)})),i=this._chainOrCallHooks(i,"postAction"),i}if(this.parent&&this.parent.listenerCount(s))o(),this._processArguments(),this.parent.emit(s,t,r);else if(t.length){if(this._findCommand("*"))return this._dispatchSubcommand("*",t,r);this.listenerCount("command:*")?this.emit("command:*",t,r):this.commands.length?this.unknownCommand():(o(),this._processArguments())}else this.commands.length?(o(),this.help({error:!0})):(o(),this._processArguments())}_findCommand(t){if(t)return this.commands.find(r=>r._name===t||r._aliases.includes(t))}_findOption(t){return this.options.find(r=>r.is(t))}_checkForMissingMandatoryOptions(){this._getCommandAndAncestors().forEach(t=>{t.options.forEach(r=>{r.mandatory&&t.getOptionValue(r.attributeName())===void 0&&t.missingMandatoryOptionValue(r)})})}_checkForConflictingLocalOptions(){let t=this.options.filter(n=>{let o=n.attributeName();return this.getOptionValue(o)===void 0?!1:this.getOptionValueSource(o)!=="default"});t.filter(n=>n.conflictsWith.length>0).forEach(n=>{let o=t.find(s=>n.conflictsWith.includes(s.attributeName()));o&&this._conflictingOption(n,o)})}_checkForConflictingOptions(){this._getCommandAndAncestors().forEach(t=>{t._checkForConflictingLocalOptions()})}parseOptions(t){let r=[],n=[],o=r,s=t.slice();function i(u){return u.length>1&&u[0]==="-"}let a=null;for(;s.length;){let u=s.shift();if(u==="--"){o===n&&o.push(u),o.push(...s);break}if(a&&!i(u)){this.emit(`option:${a.name()}`,u);continue}if(a=null,i(u)){let c=this._findOption(u);if(c){if(c.required){let l=s.shift();l===void 0&&this.optionMissingArgument(c),this.emit(`option:${c.name()}`,l)}else if(c.optional){let l=null;s.length>0&&!i(s[0])&&(l=s.shift()),this.emit(`option:${c.name()}`,l)}else this.emit(`option:${c.name()}`);a=c.variadic?c:null;continue}}if(u.length>2&&u[0]==="-"&&u[1]!=="-"){let c=this._findOption(`-${u[1]}`);if(c){c.required||c.optional&&this._combineFlagAndOptionalValue?this.emit(`option:${c.name()}`,u.slice(2)):(this.emit(`option:${c.name()}`),s.unshift(`-${u.slice(2)}`));continue}}if(/^--[^=]+=/.test(u)){let c=u.indexOf("="),l=this._findOption(u.slice(0,c));if(l&&(l.required||l.optional)){this.emit(`option:${l.name()}`,u.slice(c+1));continue}}if(i(u)&&(o=n),(this._enablePositionalOptions||this._passThroughOptions)&&r.length===0&&n.length===0){if(this._findCommand(u)){r.push(u),s.length>0&&n.push(...s);break}else if(this._getHelpCommand()&&u===this._getHelpCommand().name()){r.push(u),s.length>0&&r.push(...s);break}else if(this._defaultCommandName){n.push(u),s.length>0&&n.push(...s);break}}if(this._passThroughOptions){o.push(u),s.length>0&&o.push(...s);break}o.push(u)}return{operands:r,unknown:n}}opts(){if(this._storeOptionsAsProperties){let t={},r=this.options.length;for(let n=0;n<r;n++){let o=this.options[n].attributeName();t[o]=o===this._versionOptionName?this._version:this[o]}return t}return this._optionValues}optsWithGlobals(){return this._getCommandAndAncestors().reduce((t,r)=>Object.assign(t,r.opts()),{})}error(t,r){this._outputConfiguration.outputError(`${t}
`,this._outputConfiguration.writeErr),typeof this._showHelpAfterError=="string"?this._outputConfiguration.writeErr(`${this._showHelpAfterError}
`):this._showHelpAfterError&&(this._outputConfiguration.writeErr(`
`),this.outputHelp({error:!0}));let n=r||{},o=n.exitCode||1,s=n.code||"commander.error";this._exit(o,s,t)}_parseOptionsEnv(){this.options.forEach(t=>{if(t.envVar&&t.envVar in C.env){let r=t.attributeName();(this.getOptionValue(r)===void 0||["default","config","env"].includes(this.getOptionValueSource(r)))&&(t.required||t.optional?this.emit(`optionEnv:${t.name()}`,C.env[t.envVar]):this.emit(`optionEnv:${t.name()}`))}})}_parseOptionsImplied(){let t=new wf(this.options),r=n=>this.getOptionValue(n)!==void 0&&!["default","implied"].includes(this.getOptionValueSource(n));this.options.filter(n=>n.implied!==void 0&&r(n.attributeName())&&t.valueFromOption(this.getOptionValue(n.attributeName()),n)).forEach(n=>{Object.keys(n.implied).filter(o=>!r(o)).forEach(o=>{this.setOptionValueWithSource(o,n.implied[o],"implied")})})}missingArgument(t){let r=`error: missing required argument '${t}'`;this.error(r,{code:"commander.missingArgument"})}optionMissingArgument(t){let r=`error: option '${t.flags}' argument missing`;this.error(r,{code:"commander.optionMissingArgument"})}missingMandatoryOptionValue(t){let r=`error: required option '${t.flags}' not specified`;this.error(r,{code:"commander.missingMandatoryOptionValue"})}_conflictingOption(t,r){let n=i=>{let a=i.attributeName(),u=this.getOptionValue(a),c=this.options.find(d=>d.negate&&a===d.attributeName()),l=this.options.find(d=>!d.negate&&a===d.attributeName());return c&&(c.presetArg===void 0&&u===!1||c.presetArg!==void 0&&u===c.presetArg)?c:l||i},o=i=>{let a=n(i),u=a.attributeName();return this.getOptionValueSource(u)==="env"?`environment variable '${a.envVar}'`:`option '${a.flags}'`},s=`error: ${o(t)} cannot be used with ${o(r)}`;this.error(s,{code:"commander.conflictingOption"})}unknownOption(t){if(this._allowUnknownOption)return;let r="";if(t.startsWith("--")&&this._showSuggestionAfterError){let o=[],s=this;do{let i=s.createHelp().visibleOptions(s).filter(a=>a.long).map(a=>a.long);o=o.concat(i),s=s.parent}while(s&&!s._enablePositionalOptions);r=Pi(t,o)}let n=`error: unknown option '${t}'${r}`;this.error(n,{code:"commander.unknownOption"})}_excessArguments(t){if(this._allowExcessArguments)return;let r=this.registeredArguments.length,n=r===1?"":"s",s=`error: too many arguments${this.parent?` for '${this.name()}'`:""}. Expected ${r} argument${n} but got ${t.length}.`;this.error(s,{code:"commander.excessArguments"})}unknownCommand(){let t=this.args[0],r="";if(this._showSuggestionAfterError){let o=[];this.createHelp().visibleCommands(this).forEach(s=>{o.push(s.name()),s.alias()&&o.push(s.alias())}),r=Pi(t,o)}let n=`error: unknown command '${t}'${r}`;this.error(n,{code:"commander.unknownCommand"})}version(t,r,n){if(t===void 0)return this._version;this._version=t,r=r||"-V, --version",n=n||"output the version number";let o=this.createOption(r,n);return this._versionOptionName=o.attributeName(),this._registerOption(o),this.on("option:"+o.name(),()=>{this._outputConfiguration.writeOut(`${t}
`),this._exit(0,"commander.version",t)}),this}description(t,r){return t===void 0&&r===void 0?this._description:(this._description=t,r&&(this._argsDescription=r),this)}summary(t){return t===void 0?this._summary:(this._summary=t,this)}alias(t){if(t===void 0)return this._aliases[0];let r=this;if(this.commands.length!==0&&this.commands[this.commands.length-1]._executableHandler&&(r=this.commands[this.commands.length-1]),t===r._name)throw new Error("Command alias can't be the same as its name");let n=this.parent?._findCommand(t);if(n){let o=[n.name()].concat(n.aliases()).join("|");throw new Error(`cannot add alias '${t}' to command '${this.name()}' as already have command '${o}'`)}return r._aliases.push(t),this}aliases(t){return t===void 0?this._aliases:(t.forEach(r=>this.alias(r)),this)}usage(t){if(t===void 0){if(this._usage)return this._usage;let r=this.registeredArguments.map(n=>Ef(n));return[].concat(this.options.length||this._helpOption!==null?"[options]":[],this.commands.length?"[command]":[],this.registeredArguments.length?r:[]).join(" ")}return this._usage=t,this}name(t){return t===void 0?this._name:(this._name=t,this)}nameFromFilename(t){return this._name=ue.basename(t,ue.extname(t)),this}executableDir(t){return t===void 0?this._executableDir:(this._executableDir=t,this)}helpInformation(t){let r=this.createHelp(),n=this._getOutputContext(t);r.prepareContext({error:n.error,helpWidth:n.helpWidth,outputHasColors:n.hasColors});let o=r.formatHelp(this,r);return n.hasColors?o:this._outputConfiguration.stripColor(o)}_getOutputContext(t){t=t||{};let r=!!t.error,n,o,s;return r?(n=a=>this._outputConfiguration.writeErr(a),o=this._outputConfiguration.getErrHasColors(),s=this._outputConfiguration.getErrHelpWidth()):(n=a=>this._outputConfiguration.writeOut(a),o=this._outputConfiguration.getOutHasColors(),s=this._outputConfiguration.getOutHelpWidth()),{error:r,write:a=>(o||(a=this._outputConfiguration.stripColor(a)),n(a)),hasColors:o,helpWidth:s}}outputHelp(t){let r;typeof t=="function"&&(r=t,t=void 0);let n=this._getOutputContext(t),o={error:n.error,write:n.write,command:this};this._getCommandAndAncestors().reverse().forEach(i=>i.emit("beforeAllHelp",o)),this.emit("beforeHelp",o);let s=this.helpInformation({error:n.error});if(r&&(s=r(s),typeof s!="string"&&!Buffer.isBuffer(s)))throw new Error("outputHelp callback must return a string or a Buffer");n.write(s),this._getHelpOption()?.long&&this.emit(this._getHelpOption().long),this.emit("afterHelp",o),this._getCommandAndAncestors().forEach(i=>i.emit("afterAllHelp",o))}helpOption(t,r){return typeof t=="boolean"?(t?this._helpOption=this._helpOption??void 0:this._helpOption=null,this):(t=t??"-h, --help",r=r??"display help for command",this._helpOption=this.createOption(t,r),this)}_getHelpOption(){return this._helpOption===void 0&&this.helpOption(void 0,void 0),this._helpOption}addHelpOption(t){return this._helpOption=t,this}help(t){this.outputHelp(t);let r=Number(C.exitCode??0);r===0&&t&&typeof t!="function"&&t.error&&(r=1),this._exit(r,"commander.help","(outputHelp)")}addHelpText(t,r){let n=["beforeAll","before","after","afterAll"];if(!n.includes(t))throw new Error(`Unexpected value for position to addHelpText.
Expecting one of '${n.join("', '")}'`);let o=`${t}Help`;return this.on(o,s=>{let i;typeof r=="function"?i=r({error:s.error,command:s.command}):i=r,i&&s.write(`${i}
`)}),this}_outputHelpIfRequested(t){let r=this._getHelpOption();r&&t.find(o=>r.is(o))&&(this.outputHelp(),this._exit(0,"commander.helpDisplayed","(outputHelp)"))}};function Li(e){return e.map(t=>{if(!t.startsWith("--inspect"))return t;let r,n="127.0.0.1",o="9229",s;return(s=t.match(/^(--inspect(-brk)?)$/))!==null?r=s[1]:(s=t.match(/^(--inspect(-brk|-port)?)=([^:]+)$/))!==null?(r=s[1],/^\d+$/.test(s[3])?o=s[3]:n=s[3]):(s=t.match(/^(--inspect(-brk|-port)?)=([^:]+):(\d+)$/))!==null&&(r=s[1],n=s[3],o=s[4]),r&&o!=="0"?`${r}=${n}:${parseInt(o)+1}`:t})}function Cn(){if(C.env.NO_COLOR||C.env.FORCE_COLOR==="0"||C.env.FORCE_COLOR==="false")return!1;if(C.env.FORCE_COLOR||C.env.CLICOLOR_FORCE!==void 0)return!0}En.Command=bn;En.useColor=Cn});var Wi=g(W=>{"use strict";var{Argument:ji}=Bt(),{Command:yn}=ki(),{CommanderError:Ff,InvalidArgumentError:Ni}=ot(),{Help:Sf}=dn(),{Option:Ui}=Dn();W.program=new yn;W.createCommand=e=>new yn(e);W.createOption=(e,t)=>new Ui(e,t);W.createArgument=(e,t)=>new ji(e,t);W.Command=yn;W.Option=Ui;W.Argument=ji;W.Help=Sf;W.CommanderError=Ff;W.InvalidArgumentError=Ni;W.InvalidOptionArgumentError=Ni});var Se=g((ly,xn)=>{"use strict";var Mt=process||{},Hi=Mt.argv||[],Rt=Mt.env||{},Af=!(Rt.NO_COLOR||Hi.includes("--no-color"))&&(!!Rt.FORCE_COLOR||Hi.includes("--color")||Mt.platform==="win32"||(Mt.stdout||{}).isTTY&&Rt.TERM!=="dumb"||!!Rt.CI),_f=(e,t,r=e)=>n=>{let o=""+n,s=o.indexOf(t,e.length);return~s?e+Of(o,t,r,s)+t:e+o+t},Of=(e,t,r,n)=>{let o="",s=0;do o+=e.substring(s,n)+r,s=n+t.length,n=e.indexOf(t,s);while(~n);return o+e.substring(s)},zi=(e=Af)=>{let t=e?_f:()=>String;return{isColorSupported:e,reset:t("\x1B[0m","\x1B[0m"),bold:t("\x1B[1m","\x1B[22m","\x1B[22m\x1B[1m"),dim:t("\x1B[2m","\x1B[22m","\x1B[22m\x1B[2m"),italic:t("\x1B[3m","\x1B[23m"),underline:t("\x1B[4m","\x1B[24m"),inverse:t("\x1B[7m","\x1B[27m"),hidden:t("\x1B[8m","\x1B[28m"),strikethrough:t("\x1B[9m","\x1B[29m"),black:t("\x1B[30m","\x1B[39m"),red:t("\x1B[31m","\x1B[39m"),green:t("\x1B[32m","\x1B[39m"),yellow:t("\x1B[33m","\x1B[39m"),blue:t("\x1B[34m","\x1B[39m"),magenta:t("\x1B[35m","\x1B[39m"),cyan:t("\x1B[36m","\x1B[39m"),white:t("\x1B[37m","\x1B[39m"),gray:t("\x1B[90m","\x1B[39m"),bgBlack:t("\x1B[40m","\x1B[49m"),bgRed:t("\x1B[41m","\x1B[49m"),bgGreen:t("\x1B[42m","\x1B[49m"),bgYellow:t("\x1B[43m","\x1B[49m"),bgBlue:t("\x1B[44m","\x1B[49m"),bgMagenta:t("\x1B[45m","\x1B[49m"),bgCyan:t("\x1B[46m","\x1B[49m"),bgWhite:t("\x1B[47m","\x1B[49m"),blackBright:t("\x1B[90m","\x1B[39m"),redBright:t("\x1B[91m","\x1B[39m"),greenBright:t("\x1B[92m","\x1B[39m"),yellowBright:t("\x1B[93m","\x1B[39m"),blueBright:t("\x1B[94m","\x1B[39m"),magentaBright:t("\x1B[95m","\x1B[39m"),cyanBright:t("\x1B[96m","\x1B[39m"),whiteBright:t("\x1B[97m","\x1B[39m"),bgBlackBright:t("\x1B[100m","\x1B[49m"),bgRedBright:t("\x1B[101m","\x1B[49m"),bgGreenBright:t("\x1B[102m","\x1B[49m"),bgYellowBright:t("\x1B[103m","\x1B[49m"),bgBlueBright:t("\x1B[104m","\x1B[49m"),bgMagentaBright:t("\x1B[105m","\x1B[49m"),bgCyanBright:t("\x1B[106m","\x1B[49m"),bgWhiteBright:t("\x1B[107m","\x1B[49m")}};xn.exports=zi();xn.exports.createColors=zi});var Fn=g((dy,qi)=>{"use strict";var wn={to(e,t){return t?`\x1B[${t+1};${e+1}H`:`\x1B[${e+1}G`},move(e,t){let r="";return e<0?r+=`\x1B[${-e}D`:e>0&&(r+=`\x1B[${e}C`),t<0?r+=`\x1B[${-t}A`:t>0&&(r+=`\x1B[${t}B`),r},up:(e=1)=>`\x1B[${e}A`,down:(e=1)=>`\x1B[${e}B`,forward:(e=1)=>`\x1B[${e}C`,backward:(e=1)=>`\x1B[${e}D`,nextLine:(e=1)=>"\x1B[E".repeat(e),prevLine:(e=1)=>"\x1B[F".repeat(e),left:"\x1B[G",hide:"\x1B[?25l",show:"\x1B[?25h",save:"\x1B7",restore:"\x1B8"},Tf={up:(e=1)=>"\x1B[S".repeat(e),down:(e=1)=>"\x1B[T".repeat(e)},vf={screen:"\x1B[2J",up:(e=1)=>"\x1B[1J".repeat(e),down:(e=1)=>"\x1B[J".repeat(e),line:"\x1B[2K",lineEnd:"\x1B[K",lineStart:"\x1B[1K",lines(e){let t="";for(let r=0;r<e;r++)t+=this.line+(r<e-1?wn.up():"");return e&&(t+=wn.left),t}};qi.exports={cursor:wn,scroll:Tf,erase:vf,beep:"\x07"}});var Xs=g((gw,Js)=>{"use strict";Js.exports=Ks;Ks.sync=gp;var qs=j("fs");function hp(e,t){var r=t.pathExt!==void 0?t.pathExt:process.env.PATHEXT;if(!r||(r=r.split(";"),r.indexOf("")!==-1))return!0;for(var n=0;n<r.length;n++){var o=r[n].toLowerCase();if(o&&e.substr(-o.length).toLowerCase()===o)return!0}return!1}function Ys(e,t,r){return!e.isSymbolicLink()&&!e.isFile()?!1:hp(t,r)}function Ks(e,t,r){qs.stat(e,function(n,o){r(n,n?!1:Ys(o,e,t))})}function gp(e,t){return Ys(qs.statSync(e),e,t)}});var ra=g((bw,ta)=>{"use strict";ta.exports=Qs;Qs.sync=bp;var Zs=j("fs");function Qs(e,t,r){Zs.stat(e,function(n,o){r(n,n?!1:ea(o,t))})}function bp(e,t){return ea(Zs.statSync(e),t)}function ea(e,t){return e.isFile()&&Cp(e,t)}function Cp(e,t){var r=e.mode,n=e.uid,o=e.gid,s=t.uid!==void 0?t.uid:process.getuid&&process.getuid(),i=t.gid!==void 0?t.gid:process.getgid&&process.getgid(),a=parseInt("100",8),u=parseInt("010",8),c=parseInt("001",8),l=a|u,d=r&c||r&u&&o===i||r&a&&n===s||r&l&&s===0;return d}});var oa=g((Ew,na)=>{"use strict";var Cw=j("fs"),or;process.platform==="win32"||global.TESTING_WINDOWS?or=Xs():or=ra();na.exports=Hn;Hn.sync=Ep;function Hn(e,t,r){if(typeof t=="function"&&(r=t,t={}),!r){if(typeof Promise!="function")throw new TypeError("callback not provided");return new Promise(function(n,o){Hn(e,t||{},function(s,i){s?o(s):n(i)})})}or(e,t||{},function(n,o){n&&(n.code==="EACCES"||t&&t.ignoreErrors)&&(n=null,o=!1),r(n,o)})}function Ep(e,t){try{return or.sync(e,t||{})}catch(r){if(t&&t.ignoreErrors||r.code==="EACCES")return!1;throw r}}});var da=g((yw,la)=>{"use strict";var Ne=process.platform==="win32"||process.env.OSTYPE==="cygwin"||process.env.OSTYPE==="msys",ia=j("path"),yp=Ne?";":":",sa=oa(),aa=e=>Object.assign(new Error(`not found: ${e}`),{code:"ENOENT"}),ua=(e,t)=>{let r=t.colon||yp,n=e.match(/\//)||Ne&&e.match(/\\/)?[""]:[...Ne?[process.cwd()]:[],...(t.path||process.env.PATH||"").split(r)],o=Ne?t.pathExt||process.env.PATHEXT||".EXE;.CMD;.BAT;.COM":"",s=Ne?o.split(r):[""];return Ne&&e.indexOf(".")!==-1&&s[0]!==""&&s.unshift(""),{pathEnv:n,pathExt:s,pathExtExe:o}},ca=(e,t,r)=>{typeof t=="function"&&(r=t,t={}),t||(t={});let{pathEnv:n,pathExt:o,pathExtExe:s}=ua(e,t),i=[],a=c=>new Promise((l,d)=>{if(c===n.length)return t.all&&i.length?l(i):d(aa(e));let f=n[c],m=/^".*"$/.test(f)?f.slice(1,-1):f,D=ia.join(m,e),b=!m&&/^\.[\\\/]/.test(e)?e.slice(0,2)+D:D;l(u(b,c,0))}),u=(c,l,d)=>new Promise((f,m)=>{if(d===o.length)return f(a(l+1));let D=o[d];sa(c+D,{pathExt:s},(b,F)=>{if(!b&&F)if(t.all)i.push(c+D);else return f(c+D);return f(u(c,l,d+1))})});return r?a(0).then(c=>r(null,c),r):a(0)},xp=(e,t)=>{t=t||{};let{pathEnv:r,pathExt:n,pathExtExe:o}=ua(e,t),s=[];for(let i=0;i<r.length;i++){let a=r[i],u=/^".*"$/.test(a)?a.slice(1,-1):a,c=ia.join(u,e),l=!u&&/^\.[\\\/]/.test(e)?e.slice(0,2)+c:c;for(let d=0;d<n.length;d++){let f=l+n[d];try{if(sa.sync(f,{pathExt:o}))if(t.all)s.push(f);else return f}catch{}}}if(t.all&&s.length)return s;if(t.nothrow)return null;throw aa(e)};la.exports=ca;ca.sync=xp});var ma=g((xw,zn)=>{"use strict";var fa=(e={})=>{let t=e.env||process.env;return(e.platform||process.platform)!=="win32"?"PATH":Object.keys(t).reverse().find(n=>n.toUpperCase()==="PATH")||"Path"};zn.exports=fa;zn.exports.default=fa});var ga=g((ww,ha)=>{"use strict";var pa=j("path"),wp=da(),Fp=ma();function Da(e,t){let r=e.options.env||process.env,n=process.cwd(),o=e.options.cwd!=null,s=o&&process.chdir!==void 0&&!process.chdir.disabled;if(s)try{process.chdir(e.options.cwd)}catch{}let i;try{i=wp.sync(e.command,{path:r[Fp({env:r})],pathExt:t?pa.delimiter:void 0})}catch{}finally{s&&process.chdir(n)}return i&&(i=pa.resolve(o?e.options.cwd:"",i)),i}function Sp(e){return Da(e)||Da(e,!0)}ha.exports=Sp});var ba=g((Fw,Yn)=>{"use strict";var qn=/([()\][%!^"`<>&|;, *?])/g;function Ap(e){return e=e.replace(qn,"^$1"),e}function _p(e,t){return e=`${e}`,e=e.replace(/(?=(\\+?)?)\1"/g,'$1$1\\"'),e=e.replace(/(?=(\\+?)?)\1$/,"$1$1"),e=`"${e}"`,e=e.replace(qn,"^$1"),t&&(e=e.replace(qn,"^$1")),e}Yn.exports.command=Ap;Yn.exports.argument=_p});var Ea=g((Sw,Ca)=>{"use strict";Ca.exports=/^#!(.*)/});var xa=g((Aw,ya)=>{"use strict";var Op=Ea();ya.exports=(e="")=>{let t=e.match(Op);if(!t)return null;let[r,n]=t[0].replace(/#! ?/,"").split(" "),o=r.split("/").pop();return o==="env"?n:n?`${o} ${n}`:o}});var Fa=g((_w,wa)=>{"use strict";var Kn=j("fs"),Tp=xa();function vp(e){let r=Buffer.alloc(150),n;try{n=Kn.openSync(e,"r"),Kn.readSync(n,r,0,150,0),Kn.closeSync(n)}catch{}return Tp(r.toString())}wa.exports=vp});var Oa=g((Ow,_a)=>{"use strict";var $p=j("path"),Sa=ga(),Aa=ba(),Bp=Fa(),Ip=process.platform==="win32",Rp=/\.(?:com|exe)$/i,Mp=/node_modules[\\/].bin[\\/][^\\/]+\.cmd$/i;function Pp(e){e.file=Sa(e);let t=e.file&&Bp(e.file);return t?(e.args.unshift(e.file),e.command=t,Sa(e)):e.file}function Lp(e){if(!Ip)return e;let t=Pp(e),r=!Rp.test(t);if(e.options.forceShell||r){let n=Mp.test(t);e.command=$p.normalize(e.command),e.command=Aa.command(e.command),e.args=e.args.map(s=>Aa.argument(s,n));let o=[e.command].concat(e.args).join(" ");e.args=["/d","/s","/c",`"${o}"`],e.command=process.env.comspec||"cmd.exe",e.options.windowsVerbatimArguments=!0}return e}function kp(e,t,r){t&&!Array.isArray(t)&&(r=t,t=null),t=t?t.slice(0):[],r=Object.assign({},r);let n={command:e,args:t,options:r,file:void 0,original:{command:e,args:t}};return r.shell?n:Lp(n)}_a.exports=kp});var $a=g((Tw,va)=>{"use strict";var Jn=process.platform==="win32";function Xn(e,t){return Object.assign(new Error(`${t} ${e.command} ENOENT`),{code:"ENOENT",errno:"ENOENT",syscall:`${t} ${e.command}`,path:e.command,spawnargs:e.args})}function jp(e,t){if(!Jn)return;let r=e.emit;e.emit=function(n,o){if(n==="exit"){let s=Ta(o,t);if(s)return r.call(e,"error",s)}return r.apply(e,arguments)}}function Ta(e,t){return Jn&&e===1&&!t.file?Xn(t.original,"spawn"):null}function Np(e,t){return Jn&&e===1&&!t.file?Xn(t.original,"spawnSync"):null}va.exports={hookChildProcess:jp,verifyENOENT:Ta,verifyENOENTSync:Np,notFoundError:Xn}});var Ra=g((vw,Ue)=>{"use strict";var Ba=j("child_process"),Zn=Oa(),Qn=$a();function Ia(e,t,r){let n=Zn(e,t,r),o=Ba.spawn(n.command,n.args,n.options);return Qn.hookChildProcess(o,n),o}function Up(e,t,r){let n=Zn(e,t,r),o=Ba.spawnSync(n.command,n.args,n.options);return o.error=o.error||Qn.verifyENOENTSync(o.status,n),o}Ue.exports=Ia;Ue.exports.spawn=Ia;Ue.exports.sync=Up;Ue.exports._parse=Zn;Ue.exports._enoent=Qn});var pi=g(et=>{"use strict";Object.defineProperty(et,"__esModule",{value:!0});et.DEFAULT_COLOR_MAP=void 0;et.DEFAULT_COLOR_MAP={red:"\x1B[31m",green:"\x1B[32m",yellow:"\x1B[33m",blue:"\x1B[34m",magenta:"\x1B[35m",cyan:"\x1B[36m",white:"\x1B[37m",white_bold:"\x1B[01m",reset:"\x1B[0m"};var mi=class{constructor(t=et.DEFAULT_COLOR_MAP){this.text="",this.colorMap=t}addCharsWithColor(t,r){let n=this.colorMap[t];this.text+=n!==void 0?`${n}${r}${this.colorMap.reset}`:r}renderConsole(){return this.text}};et.default=mi});var At=g($=>{"use strict";Object.defineProperty($,"__esModule",{value:!0});$.DEFAULT_HEADER_ALIGNMENT=$.DEFAULT_ROW_ALIGNMENT=$.DEFAULT_HEADER_FONT_COLOR=$.DEFAULT_ROW_FONT_COLOR=$.COLORS=$.ALIGNMENTS=$.DEFAULT_TABLE_STYLE=$.DEFAULT_ROW_SEPARATOR=$.DEFAULT_COLUMN_LEN=void 0;$.DEFAULT_COLUMN_LEN=20;$.DEFAULT_ROW_SEPARATOR=!1;$.DEFAULT_TABLE_STYLE={headerTop:{left:"\u250C",mid:"\u252C",right:"\u2510",other:"\u2500"},headerBottom:{left:"\u251C",mid:"\u253C",right:"\u2524",other:"\u2500"},tableBottom:{left:"\u2514",mid:"\u2534",right:"\u2518",other:"\u2500"},vertical:"\u2502",rowSeparator:{left:"\u251C",mid:"\u253C",right:"\u2524",other:"\u2500"}};$.ALIGNMENTS=["right","left","center"];$.COLORS=["red","green","yellow","white","blue","magenta","cyan","white_bold","reset"];$.DEFAULT_ROW_FONT_COLOR="white";$.DEFAULT_HEADER_FONT_COLOR="white_bold";$.DEFAULT_ROW_ALIGNMENT="right";$.DEFAULT_HEADER_ALIGNMENT="center"});var Id=g(Di=>{"use strict";Object.defineProperty(Di,"__esModule",{value:!0});var WC=[{first:768,last:879},{first:1155,last:1158},{first:1160,last:1161},{first:1425,last:1469},{first:1471,last:1471},{first:1473,last:1474},{first:1476,last:1477},{first:1479,last:1479},{first:1536,last:1539},{first:1552,last:1557},{first:1611,last:1630},{first:1648,last:1648},{first:1750,last:1764},{first:1767,last:1768},{first:1770,last:1773},{first:1807,last:1807},{first:1809,last:1809},{first:1840,last:1866},{first:1958,last:1968},{first:2027,last:2035},{first:2305,last:2306},{first:2364,last:2364},{first:2369,last:2376},{first:2381,last:2381},{first:2385,last:2388},{first:2402,last:2403},{first:2433,last:2433},{first:2492,last:2492},{first:2497,last:2500},{first:2509,last:2509},{first:2530,last:2531},{first:2561,last:2562},{first:2620,last:2620},{first:2625,last:2626},{first:2631,last:2632},{first:2635,last:2637},{first:2672,last:2673},{first:2689,last:2690},{first:2748,last:2748},{first:2753,last:2757},{first:2759,last:2760},{first:2765,last:2765},{first:2786,last:2787},{first:2817,last:2817},{first:2876,last:2876},{first:2879,last:2879},{first:2881,last:2883},{first:2893,last:2893},{first:2902,last:2902},{first:2946,last:2946},{first:3008,last:3008},{first:3021,last:3021},{first:3134,last:3136},{first:3142,last:3144},{first:3146,last:3149},{first:3157,last:3158},{first:3260,last:3260},{first:3263,last:3263},{first:3270,last:3270},{first:3276,last:3277},{first:3298,last:3299},{first:3393,last:3395},{first:3405,last:3405},{first:3530,last:3530},{first:3538,last:3540},{first:3542,last:3542},{first:3633,last:3633},{first:3636,last:3642},{first:3655,last:3662},{first:3761,last:3761},{first:3764,last:3769},{first:3771,last:3772},{first:3784,last:3789},{first:3864,last:3865},{first:3893,last:3893},{first:3895,last:3895},{first:3897,last:3897},{first:3953,last:3966},{first:3968,last:3972},{first:3974,last:3975},{first:3984,last:3991},{first:3993,last:4028},{first:4038,last:4038},{first:4141,last:4144},{first:4146,last:4146},{first:4150,last:4151},{first:4153,last:4153},{first:4184,last:4185},{first:4448,last:4607},{first:4959,last:4959},{first:5906,last:5908},{first:5938,last:5940},{first:5970,last:5971},{first:6002,last:6003},{first:6068,last:6069},{first:6071,last:6077},{first:6086,last:6086},{first:6089,last:6099},{first:6109,last:6109},{first:6155,last:6157},{first:6313,last:6313},{first:6432,last:6434},{first:6439,last:6440},{first:6450,last:6450},{first:6457,last:6459},{first:6679,last:6680},{first:6912,last:6915},{first:6964,last:6964},{first:6966,last:6970},{first:6972,last:6972},{first:6978,last:6978},{first:7019,last:7027},{first:7616,last:7626},{first:7678,last:7679},{first:8203,last:8207},{first:8234,last:8238},{first:8288,last:8291},{first:8298,last:8303},{first:8400,last:8431},{first:12330,last:12335},{first:12441,last:12442},{first:43014,last:43014},{first:43019,last:43019},{first:43045,last:43046},{first:64286,last:64286},{first:65024,last:65039},{first:65056,last:65059},{first:65279,last:65279},{first:65529,last:65531},{first:68097,last:68099},{first:68101,last:68102},{first:68108,last:68111},{first:68152,last:68154},{first:68159,last:68159},{first:119143,last:119145},{first:119155,last:119170},{first:119173,last:119179},{first:119210,last:119213},{first:119362,last:119364},{first:917505,last:917505},{first:917536,last:917631},{first:917760,last:917999}];Di.default=WC});var Rd=g(hi=>{"use strict";Object.defineProperty(hi,"__esModule",{value:!0});var VC=(e,t,r)=>{let n=0,o,s=r;if(e<t[0].first||e>t[s].last)return 0;for(;s>=n;)if(o=Math.floor((n+s)/2),e>t[o].last)n=o+1;else if(e<t[o].first)s=o-1;else return 1;return 0};hi.default=VC});var gi=g(_t=>{"use strict";var Pd=_t&&_t.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(_t,"__esModule",{value:!0});var Md=Pd(Id()),GC=Pd(Rd()),HC=e=>e===0?0:e<32||e>=127&&e<160?-1:(0,GC.default)(e,Md.default,Md.default.length-1)?0:1+ +(e>=4352&&(e<=4447||e===9001||e===9002||e>=11904&&e<=42191&&e!==12351||e>=44032&&e<=55203||e>=63744&&e<=64255||e>=65040&&e<=65049||e>=65072&&e<=65135||e>=65280&&e<=65376||e>=65504&&e<=65510||e>=131072&&e<=196605||e>=196608&&e<=262141));_t.default=HC});var Ld=g(Ot=>{"use strict";var zC=Ot&&Ot.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ot,"__esModule",{value:!0});var qC=zC(gi()),YC=e=>{let t=0;for(let r=0;r<e.length;r++){let n=e.charCodeAt(r),o=(0,qC.default)(n);if(o<0)return-1;t+=o}return t};Ot.default=YC});var jd=g(xe=>{"use strict";var kd=xe&&xe.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(xe,"__esModule",{value:!0});xe.wcswidth=xe.wcwidth=void 0;var KC=kd(Ld());xe.wcswidth=KC.default;var JC=kd(gi());xe.wcwidth=JC.default});var bi=g(Re=>{"use strict";Object.defineProperty(Re,"__esModule",{value:!0});Re.findWidthInConsole=Re.stripAnsi=void 0;var XC=jd(),ZC=/\x1b\[\d{1,3}(;\d{1,3})*m/g,QC=e=>e.replace(ZC,"");Re.stripAnsi=QC;var eE=(e,t)=>{let r=0;return e=(0,Re.stripAnsi)(e),t&&Object.entries(t).forEach(([n,o])=>{let s=new RegExp(n,"g");r+=(e.match(s)||[]).length*o,e=e.replace(n,"")}),r+=(0,XC.wcswidth)(e),r};Re.findWidthInConsole=eE});var Ei=g(se=>{"use strict";Object.defineProperty(se,"__esModule",{value:!0});se.biggestWordInSentence=se.textWithPadding=se.splitTextIntoTextsOfMinLen=void 0;var Ci=bi(),tE=(e,t,r)=>{let n=[];return e.split(/[\n\r]/).forEach(s=>{let i=s.split(" "),a=[],u=0;i.forEach(c=>{let l=(0,Ci.findWidthInConsole)(c,r);u+l<=t?(u+=l+1,a.push(c)):(a.length>0&&n.push(a.join(" ")),a=[c],u=l+1)}),n.push(a.join(" "))}),n};se.splitTextIntoTextsOfMinLen=tE;var rE=(e,t,r,n)=>{let o=(0,Ci.findWidthInConsole)(e,n),s=Math.floor((r-o)/2),i=r-s-o;if(r<o){let a=(0,se.splitTextIntoTextsOfMinLen)(e,r);return a.length===1?e:a.map(u=>(0,se.textWithPadding)(u,t,r,n)).join(`
`)}switch(t){case"left":return e.concat(" ".repeat(r-o));case"center":return" ".repeat(s).concat(e).concat(" ".repeat(i));default:return" ".repeat(r-o).concat(e)}};se.textWithPadding=rE;var nE=(e,t)=>e.split(" ").reduce((r,n)=>Math.max(r,(0,Ci.findWidthInConsole)(n,t)),0);se.biggestWordInSentence=nE});var Tt=g(x=>{"use strict";Object.defineProperty(x,"__esModule",{value:!0});x.getWidthLimitedColumnsArray=x.createHeaderAsRow=x.renderTableHorizontalBorders=x.findLenOfColumn=x.createRow=x.createColumFromOnlyName=x.createTableHorizontalBorders=x.convertRawRowOptionsToStandard=x.evaluateCellText=x.cellText=void 0;var Nd=bi(),yi=Ei(),xi=At(),tt=(e,t)=>Math.max(e,t),oE=e=>e==null?"":`${e}`;x.cellText=oE;var iE=(e,t)=>t?`${t(e)}`:(0,x.cellText)(e);x.evaluateCellText=iE;var sE=e=>{if(e)return{color:e.color,separator:e.separator||xi.DEFAULT_ROW_SEPARATOR}};x.convertRawRowOptionsToStandard=sE;var aE=({left:e,mid:t,right:r,other:n},o)=>{let s=e;return o.forEach(i=>{s+=n.repeat(i+2),s+=t}),s=s.slice(0,-t.length),s+=r,s};x.createTableHorizontalBorders=aE;var uE=e=>({name:e,title:e});x.createColumFromOnlyName=uE;var cE=(e,t,r)=>({color:e,separator:r,text:t});x.createRow=cE;var lE=(e,t,r)=>{let n=e.name,o=e.title,s=e.transform,i=tt(0,e?.minLen||0);return e.maxLen?(i=tt(i,tt(e.maxLen,(0,yi.biggestWordInSentence)(o,r))),i=t.reduce((a,u)=>tt(a,(0,yi.biggestWordInSentence)((0,x.evaluateCellText)(u.text[n],s),r)),i),i):(i=tt(i,(0,Nd.findWidthInConsole)(o,r)),t.forEach(a=>{i=tt(i,(0,Nd.findWidthInConsole)((0,x.evaluateCellText)(a.text[n],s),r))}),i)};x.findLenOfColumn=lE;var dE=(e,t)=>(0,x.createTableHorizontalBorders)(e,t);x.renderTableHorizontalBorders=dE;var fE=(e,t)=>{let r=xi.DEFAULT_HEADER_FONT_COLOR,n=e(r,{},!1);return t.forEach(o=>{n.text[o.name]=o.title}),n};x.createHeaderAsRow=fE;var mE=(e,t,r)=>{let n={};return e.forEach(o=>{n[o.name]=(0,yi.splitTextIntoTextsOfMinLen)((0,x.cellText)(t.text[o.name]),o.length||xi.DEFAULT_COLUMN_LEN,r)}),n};x.getWidthLimitedColumnsArray=mE});var Ud=g(me=>{"use strict";Object.defineProperty(me,"__esModule",{value:!0});me.rawColumnToInternalColumn=me.objIfExists=void 0;var pE=At(),DE=(e,t)=>t?{[e]:t}:{};me.objIfExists=DE;var hE=(e,t)=>{var r;return Object.assign(Object.assign(Object.assign(Object.assign({name:e.name,title:(r=e.title)!==null&&r!==void 0?r:e.name},(0,me.objIfExists)("color",e.color||t?.color)),(0,me.objIfExists)("maxLen",e.maxLen||t?.maxLen)),(0,me.objIfExists)("minLen",e.minLen||t?.minLen)),{alignment:e.alignment||t?.alignment||pE.DEFAULT_ROW_ALIGNMENT,transform:e.transform})};me.rawColumnToInternalColumn=hE});var Wd=g(rt=>{"use strict";Object.defineProperty(rt,"__esModule",{value:!0});rt.preProcessRows=rt.preProcessColumns=void 0;var gE=Tt(),bE=e=>{e.computedColumns.length&&e.computedColumns.forEach(t=>{e.columns.some(n=>n.name===t.name)||(e.addColumn(Object.assign(Object.assign({},t),e.defaultColumnOptions)),e.rows.forEach((n,o,s)=>{let i=s.map(a=>a.text);n.text[t.name]=t.function(n.text,o,i)}))})},CE=e=>{e.enabledColumns.length&&(e.columns=e.columns.filter(t=>e.enabledColumns.includes(t.name)))},EE=e=>{e.disabledColumns.length&&(e.columns=e.columns.filter(t=>!e.disabledColumns.includes(t.name)))},yE=e=>{e.columns.forEach(t=>{t.length=(0,gE.findLenOfColumn)(t,e.rows,e.charLength)})},xE=e=>{bE(e),EE(e),CE(e),yE(e)};rt.preProcessColumns=xE;var wE=e=>{let t=e.rows.filter(r=>e.filterFunction(r.text)).sort((r,n)=>e.sortFunction(r.text,n.text));e.rows=t};rt.preProcessRows=wE});var wi=g(H=>{"use strict";var Gd=H&&H.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(H,"__esModule",{value:!0});H.printSimpleTable=H.renderSimpleTable=H.renderTable=void 0;var Hd=Gd(pi()),zd=Ei(),ee=At(),we=Tt(),FE=Gd(Fi()),Vd=Wd(),SE=(e,t,r,n,o,s,i,a)=>{let u=new Hd.default(i);return u.addCharsWithColor("",e.vertical),t.forEach(c=>{let d=r<n[c.name].length?(0,we.cellText)(n[c.name][r]):"";u.addCharsWithColor(ee.DEFAULT_ROW_FONT_COLOR," "),u.addCharsWithColor(o&&ee.DEFAULT_HEADER_FONT_COLOR||c.color||s.color,(0,zd.textWithPadding)(d,c.alignment||ee.DEFAULT_ROW_ALIGNMENT,c.length||ee.DEFAULT_COLUMN_LEN,a)),u.addCharsWithColor("",` ${e.vertical}`)}),u.renderConsole()},qd=(e,t,r,n,o,s)=>{let i=(0,we.getWidthLimitedColumnsArray)(t,r,s),a=Object.values(i).reduce((c,l)=>Math.max(c,l.length),0),u=[];for(let c=0;c<a;c+=1){let l=SE(e,t,c,i,o,r,n,s);u.push(l)}return u},AE=(e,t)=>{let r=JSON.parse(JSON.stringify(e)),n={};return t.filter(o=>!!o.transform).forEach(o=>{n[o.name]=o.transform}),Object.keys(n).forEach(o=>{r.text[o]=n[o](r.text[o])}),r},_E=(e,t)=>{let r=[],n=AE(t,e.columns);return r=r.concat(qd(e.tableStyle,e.columns,n,e.colorMap,void 0,e.charLength)),r},OE=e=>{let t=[];if(e.title===void 0)return t;let r=()=>{let s=(i,a)=>i+a+2+1;return e.columns.map(i=>i.length||ee.DEFAULT_COLUMN_LEN).reduce(s,1)},n=(0,zd.textWithPadding)(e.title,ee.DEFAULT_HEADER_ALIGNMENT,r()),o=new Hd.default(e.colorMap);return o.addCharsWithColor(ee.DEFAULT_HEADER_FONT_COLOR,n),t.push(o.renderConsole()),t},TE=e=>{let t=[];t.push((0,we.renderTableHorizontalBorders)(e.tableStyle.headerTop,e.columns.map(n=>n.length||ee.DEFAULT_COLUMN_LEN)));let r=(0,we.createHeaderAsRow)(we.createRow,e.columns);return t=t.concat(qd(e.tableStyle,e.columns,r,e.colorMap,!0)),t.push((0,we.renderTableHorizontalBorders)(e.tableStyle.headerBottom,e.columns.map(n=>n.length||ee.DEFAULT_COLUMN_LEN))),t},vE=e=>{let t=[];return t.push((0,we.renderTableHorizontalBorders)(e.tableStyle.tableBottom,e.columns.map(r=>r.length||ee.DEFAULT_COLUMN_LEN))),t},$E=(e,t)=>{let r=[],n=e.rows.length-1;return e.rows.indexOf(t)!==n&&t.separator&&r.push((0,we.renderTableHorizontalBorders)(e.tableStyle.rowSeparator,e.columns.map(s=>s.length||ee.DEFAULT_COLUMN_LEN))),r},BE=e=>{(0,Vd.preProcessColumns)(e),(0,Vd.preProcessRows)(e);let t=[];return OE(e).forEach(r=>t.push(r)),TE(e).forEach(r=>t.push(r)),e.rows.forEach(r=>{_E(e,r).forEach(n=>t.push(n)),$E(e,r).forEach(n=>t.push(n))}),vE(e).forEach(r=>t.push(r)),t.join(`
`)};H.renderTable=BE;var IE=(e,t)=>{let r=new FE.default(t);return r.addRows(e),(0,H.renderTable)(r)};H.renderSimpleTable=IE;var RE=(e,t)=>{console.log((0,H.renderSimpleTable)(e,t))};H.printSimpleTable=RE});var Fi=g(Oi=>{"use strict";Object.defineProperty(Oi,"__esModule",{value:!0});var ME=pi(),rn=At(),Si=Tt(),Ai=Ud(),PE=wi(),LE=()=>0,kE=()=>!0,_i=class{initSimple(t){this.columns=t.map(r=>({name:r,title:r,alignment:rn.DEFAULT_ROW_ALIGNMENT}))}initDetailed(t){var r;this.title=t?.title||this.title,this.tableStyle=Object.assign(Object.assign({},this.tableStyle),t?.style),this.sortFunction=t?.sort||this.sortFunction,this.filterFunction=t?.filter||this.filterFunction,this.enabledColumns=t?.enabledColumns||this.enabledColumns,this.disabledColumns=t?.disabledColumns||this.disabledColumns,this.computedColumns=t?.computedColumns||this.computedColumns,this.columns=((r=t?.columns)===null||r===void 0?void 0:r.map(n=>(0,Ai.rawColumnToInternalColumn)(n,t?.defaultColumnOptions)))||this.columns,this.rowSeparator=t?.rowSeparator||this.rowSeparator,this.charLength=t?.charLength||this.charLength,this.defaultColumnOptions=t?.defaultColumnOptions||this.defaultColumnOptions,t?.shouldDisableColors?this.colorMap={}:t?.colorMap&&(this.colorMap=Object.assign(Object.assign({},this.colorMap),t.colorMap)),t.rows!==void 0&&this.addRows(t.rows)}constructor(t){this.rows=[],this.columns=[],this.title=void 0,this.tableStyle=rn.DEFAULT_TABLE_STYLE,this.filterFunction=kE,this.sortFunction=LE,this.enabledColumns=[],this.disabledColumns=[],this.computedColumns=[],this.rowSeparator=rn.DEFAULT_ROW_SEPARATOR,this.colorMap=ME.DEFAULT_COLOR_MAP,this.charLength={},this.defaultColumnOptions=void 0,this.transforms={},t instanceof Array?this.initSimple(t):typeof t=="object"&&this.initDetailed(t)}createColumnFromRow(t){let r=this.columns.map(n=>n.name);Object.keys(t).forEach(n=>{r.includes(n)||this.columns.push((0,Ai.rawColumnToInternalColumn)((0,Si.createColumFromOnlyName)(n),this.defaultColumnOptions))})}addColumn(t){let r=typeof t=="string"?(0,Si.createColumFromOnlyName)(t):t;this.columns.push((0,Ai.rawColumnToInternalColumn)(r,this.defaultColumnOptions))}addColumns(t){t.forEach(r=>{this.addColumn(r)})}addRow(t,r){this.createColumnFromRow(t),this.rows.push((0,Si.createRow)(r?.color||rn.DEFAULT_ROW_FONT_COLOR,t,r?.separator!==void 0?r?.separator:this.rowSeparator))}addRows(t,r){t.forEach(n=>{this.addRow(n,r)})}renderTable(){return(0,PE.renderTable)(this)}};Oi.default=_i});var Kd=g(vt=>{"use strict";var jE=vt&&vt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(vt,"__esModule",{value:!0});var NE=jE(Fi()),Yd=Tt(),Ti=class{constructor(t){this.table=new NE.default(t)}addColumn(t){return this.table.addColumn(t),this}addColumns(t){return this.table.addColumns(t),this}addRow(t,r){return this.table.addRow(t,(0,Yd.convertRawRowOptionsToStandard)(r)),this}addRows(t,r){return this.table.addRows(t,(0,Yd.convertRawRowOptionsToStandard)(r)),this}printTable(){let t=this.table.renderTable();console.log(t)}render(){return this.table.renderTable()}};vt.default=Ti});var Xd=g(ae=>{"use strict";var UE=ae&&ae.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ae,"__esModule",{value:!0});ae.renderTable=ae.printTable=ae.Table=void 0;var WE=UE(Kd());ae.Table=WE.default;var Jd=wi();Object.defineProperty(ae,"printTable",{enumerable:!0,get:function(){return Jd.printSimpleTable}});Object.defineProperty(ae,"renderTable",{enumerable:!0,get:function(){return Jd.renderSimpleTable}})});var Vi=q(Wi(),1),{program:QE,createCommand:ey,createArgument:ty,createOption:ry,CommanderError:ny,InvalidArgumentError:oy,InvalidOptionArgumentError:iy,Command:Gi,Argument:sy,Option:ay,Help:uy}=Vi.default;var nf=q(Se(),1);import{stripVTControlCharacters as $n}from"util";var P=q(Fn(),1),it=q(Se(),1);import{stdin as ns,stdout as os}from"process";import*as he from"readline";import Yi from"readline";import{Writable as $f}from"stream";function Bf({onlyFirst:e=!1}={}){let t=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?(?:\\u0007|\\u001B\\u005C|\\u009C))","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PR-TZcf-nq-uy=><~]))"].join("|");return new RegExp(t,e?void 0:"g")}var If=Bf();function is(e){if(typeof e!="string")throw new TypeError(`Expected a \`string\`, got \`${typeof e}\``);return e.replace(If,"")}function ss(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var as={exports:{}};(function(e){var t={};e.exports=t,t.eastAsianWidth=function(n){var o=n.charCodeAt(0),s=n.length==2?n.charCodeAt(1):0,i=o;return 55296<=o&&o<=56319&&56320<=s&&s<=57343&&(o&=1023,s&=1023,i=o<<10|s,i+=65536),i==12288||65281<=i&&i<=65376||65504<=i&&i<=65510?"F":i==8361||65377<=i&&i<=65470||65474<=i&&i<=65479||65482<=i&&i<=65487||65490<=i&&i<=65495||65498<=i&&i<=65500||65512<=i&&i<=65518?"H":4352<=i&&i<=4447||4515<=i&&i<=4519||4602<=i&&i<=4607||9001<=i&&i<=9002||11904<=i&&i<=11929||11931<=i&&i<=12019||12032<=i&&i<=12245||12272<=i&&i<=12283||12289<=i&&i<=12350||12353<=i&&i<=12438||12441<=i&&i<=12543||12549<=i&&i<=12589||12593<=i&&i<=12686||12688<=i&&i<=12730||12736<=i&&i<=12771||12784<=i&&i<=12830||12832<=i&&i<=12871||12880<=i&&i<=13054||13056<=i&&i<=19903||19968<=i&&i<=42124||42128<=i&&i<=42182||43360<=i&&i<=43388||44032<=i&&i<=55203||55216<=i&&i<=55238||55243<=i&&i<=55291||63744<=i&&i<=64255||65040<=i&&i<=65049||65072<=i&&i<=65106||65108<=i&&i<=65126||65128<=i&&i<=65131||110592<=i&&i<=110593||127488<=i&&i<=127490||127504<=i&&i<=127546||127552<=i&&i<=127560||127568<=i&&i<=127569||131072<=i&&i<=194367||177984<=i&&i<=196605||196608<=i&&i<=262141?"W":32<=i&&i<=126||162<=i&&i<=163||165<=i&&i<=166||i==172||i==175||10214<=i&&i<=10221||10629<=i&&i<=10630?"Na":i==161||i==164||167<=i&&i<=168||i==170||173<=i&&i<=174||176<=i&&i<=180||182<=i&&i<=186||188<=i&&i<=191||i==198||i==208||215<=i&&i<=216||222<=i&&i<=225||i==230||232<=i&&i<=234||236<=i&&i<=237||i==240||242<=i&&i<=243||247<=i&&i<=250||i==252||i==254||i==257||i==273||i==275||i==283||294<=i&&i<=295||i==299||305<=i&&i<=307||i==312||319<=i&&i<=322||i==324||328<=i&&i<=331||i==333||338<=i&&i<=339||358<=i&&i<=359||i==363||i==462||i==464||i==466||i==468||i==470||i==472||i==474||i==476||i==593||i==609||i==708||i==711||713<=i&&i<=715||i==717||i==720||728<=i&&i<=731||i==733||i==735||768<=i&&i<=879||913<=i&&i<=929||931<=i&&i<=937||945<=i&&i<=961||963<=i&&i<=969||i==1025||1040<=i&&i<=1103||i==1105||i==8208||8211<=i&&i<=8214||8216<=i&&i<=8217||8220<=i&&i<=8221||8224<=i&&i<=8226||8228<=i&&i<=8231||i==8240||8242<=i&&i<=8243||i==8245||i==8251||i==8254||i==8308||i==8319||8321<=i&&i<=8324||i==8364||i==8451||i==8453||i==8457||i==8467||i==8470||8481<=i&&i<=8482||i==8486||i==8491||8531<=i&&i<=8532||8539<=i&&i<=8542||8544<=i&&i<=8555||8560<=i&&i<=8569||i==8585||8592<=i&&i<=8601||8632<=i&&i<=8633||i==8658||i==8660||i==8679||i==8704||8706<=i&&i<=8707||8711<=i&&i<=8712||i==8715||i==8719||i==8721||i==8725||i==8730||8733<=i&&i<=8736||i==8739||i==8741||8743<=i&&i<=8748||i==8750||8756<=i&&i<=8759||8764<=i&&i<=8765||i==8776||i==8780||i==8786||8800<=i&&i<=8801||8804<=i&&i<=8807||8810<=i&&i<=8811||8814<=i&&i<=8815||8834<=i&&i<=8835||8838<=i&&i<=8839||i==8853||i==8857||i==8869||i==8895||i==8978||9312<=i&&i<=9449||9451<=i&&i<=9547||9552<=i&&i<=9587||9600<=i&&i<=9615||9618<=i&&i<=9621||9632<=i&&i<=9633||9635<=i&&i<=9641||9650<=i&&i<=9651||9654<=i&&i<=9655||9660<=i&&i<=9661||9664<=i&&i<=9665||9670<=i&&i<=9672||i==9675||9678<=i&&i<=9681||9698<=i&&i<=9701||i==9711||9733<=i&&i<=9734||i==9737||9742<=i&&i<=9743||9748<=i&&i<=9749||i==9756||i==9758||i==9792||i==9794||9824<=i&&i<=9825||9827<=i&&i<=9829||9831<=i&&i<=9834||9836<=i&&i<=9837||i==9839||9886<=i&&i<=9887||9918<=i&&i<=9919||9924<=i&&i<=9933||9935<=i&&i<=9953||i==9955||9960<=i&&i<=9983||i==10045||i==10071||10102<=i&&i<=10111||11093<=i&&i<=11097||12872<=i&&i<=12879||57344<=i&&i<=63743||65024<=i&&i<=65039||i==65533||127232<=i&&i<=127242||127248<=i&&i<=127277||127280<=i&&i<=127337||127344<=i&&i<=127386||917760<=i&&i<=917999||983040<=i&&i<=1048573||1048576<=i&&i<=1114109?"A":"N"},t.characterLength=function(n){var o=this.eastAsianWidth(n);return o=="F"||o=="W"||o=="A"?2:1};function r(n){return n.match(/[\uD800-\uDBFF][\uDC00-\uDFFF]|[^\uD800-\uDFFF]/g)||[]}t.length=function(n){for(var o=r(n),s=0,i=0;i<o.length;i++)s=s+this.characterLength(o[i]);return s},t.slice=function(n,o,s){textLen=t.length(n),o=o||0,s=s||1,o<0&&(o=textLen+o),s<0&&(s=textLen+s);for(var i="",a=0,u=r(n),c=0;c<u.length;c++){var l=u[c],d=t.length(l);if(a>=o-(d==2?1:0))if(a+d<=s)i+=l;else break;a+=d}return i}})(as);var Rf=as.exports,Mf=ss(Rf),Pf=function(){return/\uD83C\uDFF4\uDB40\uDC67\uDB40\uDC62(?:\uDB40\uDC77\uDB40\uDC6C\uDB40\uDC73|\uDB40\uDC73\uDB40\uDC63\uDB40\uDC74|\uDB40\uDC65\uDB40\uDC6E\uDB40\uDC67)\uDB40\uDC7F|(?:\uD83E\uDDD1\uD83C\uDFFF\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFF\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB-\uDFFE])|(?:\uD83E\uDDD1\uD83C\uDFFE\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFE\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB-\uDFFD\uDFFF])|(?:\uD83E\uDDD1\uD83C\uDFFD\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFD\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])|(?:\uD83E\uDDD1\uD83C\uDFFC\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFC\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB\uDFFD-\uDFFF])|(?:\uD83E\uDDD1\uD83C\uDFFB\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFB\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFC-\uDFFF])|\uD83D\uDC68(?:\uD83C\uDFFB(?:\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFF]))|\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFC-\uDFFF])|[\u2695\u2696\u2708]\uFE0F|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD]))?|(?:\uD83C[\uDFFC-\uDFFF])\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFF]))|\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83D\uDC68|(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFE])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFE\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFD\uDFFF])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFC\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFD-\uDFFF])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|(?:\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])\uFE0F|\u200D(?:(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D[\uDC66\uDC67])|\uD83D[\uDC66\uDC67])|\uD83C\uDFFF|\uD83C\uDFFE|\uD83C\uDFFD|\uD83C\uDFFC)?|(?:\uD83D\uDC69(?:\uD83C\uDFFB\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69])|(?:\uD83C[\uDFFC-\uDFFF])\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69]))|\uD83E\uDDD1(?:\uD83C[\uDFFB-\uDFFF])\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1)(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|\uD83D\uDC69(?:\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFE\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFC\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFB\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD]))|\uD83E\uDDD1(?:\u200D(?:\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFE\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFC\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFB\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD]))|\uD83D\uDC69\u200D\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D[\uDC66\uDC67])|\uD83D\uDC69\u200D\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|(?:\uD83D\uDC41\uFE0F\u200D\uD83D\uDDE8|\uD83E\uDDD1(?:\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708]|\uD83C\uDFFB\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])|\uD83D\uDC69(?:\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708]|\uD83C\uDFFB\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])|\uD83D\uDE36\u200D\uD83C\uDF2B|\uD83C\uDFF3\uFE0F\u200D\u26A7|\uD83D\uDC3B\u200D\u2744|(?:(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC6F|\uD83E[\uDD3C\uDDDE\uDDDF])\u200D[\u2640\u2642]|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]|\uD83C\uDFF4\u200D\u2620|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD])\u200D[\u2640\u2642]|[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u2328\u23CF\u23ED-\u23EF\u23F1\u23F2\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB\u25FC\u2600-\u2604\u260E\u2611\u2618\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u2692\u2694-\u2697\u2699\u269B\u269C\u26A0\u26A7\u26B0\u26B1\u26C8\u26CF\u26D1\u26D3\u26E9\u26F0\u26F1\u26F4\u26F7\u26F8\u2702\u2708\u2709\u270F\u2712\u2714\u2716\u271D\u2721\u2733\u2734\u2744\u2747\u2763\u27A1\u2934\u2935\u2B05-\u2B07\u3030\u303D\u3297\u3299]|\uD83C[\uDD70\uDD71\uDD7E\uDD7F\uDE02\uDE37\uDF21\uDF24-\uDF2C\uDF36\uDF7D\uDF96\uDF97\uDF99-\uDF9B\uDF9E\uDF9F\uDFCD\uDFCE\uDFD4-\uDFDF\uDFF5\uDFF7]|\uD83D[\uDC3F\uDCFD\uDD49\uDD4A\uDD6F\uDD70\uDD73\uDD76-\uDD79\uDD87\uDD8A-\uDD8D\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA\uDECB\uDECD-\uDECF\uDEE0-\uDEE5\uDEE9\uDEF0\uDEF3])\uFE0F|\uD83C\uDFF3\uFE0F\u200D\uD83C\uDF08|\uD83D\uDC69\u200D\uD83D\uDC67|\uD83D\uDC69\u200D\uD83D\uDC66|\uD83D\uDE35\u200D\uD83D\uDCAB|\uD83D\uDE2E\u200D\uD83D\uDCA8|\uD83D\uDC15\u200D\uD83E\uDDBA|\uD83E\uDDD1(?:\uD83C\uDFFF|\uD83C\uDFFE|\uD83C\uDFFD|\uD83C\uDFFC|\uD83C\uDFFB)?|\uD83D\uDC69(?:\uD83C\uDFFF|\uD83C\uDFFE|\uD83C\uDFFD|\uD83C\uDFFC|\uD83C\uDFFB)?|\uD83C\uDDFD\uD83C\uDDF0|\uD83C\uDDF6\uD83C\uDDE6|\uD83C\uDDF4\uD83C\uDDF2|\uD83D\uDC08\u200D\u2B1B|\u2764\uFE0F\u200D(?:\uD83D\uDD25|\uD83E\uDE79)|\uD83D\uDC41\uFE0F|\uD83C\uDFF3\uFE0F|\uD83C\uDDFF(?:\uD83C[\uDDE6\uDDF2\uDDFC])|\uD83C\uDDFE(?:\uD83C[\uDDEA\uDDF9])|\uD83C\uDDFC(?:\uD83C[\uDDEB\uDDF8])|\uD83C\uDDFB(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA])|\uD83C\uDDFA(?:\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF])|\uD83C\uDDF9(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF])|\uD83C\uDDF8(?:\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF])|\uD83C\uDDF7(?:\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC])|\uD83C\uDDF5(?:\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE])|\uD83C\uDDF3(?:\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF])|\uD83C\uDDF2(?:\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF])|\uD83C\uDDF1(?:\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE])|\uD83C\uDDF0(?:\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF])|\uD83C\uDDEF(?:\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5])|\uD83C\uDDEE(?:\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9])|\uD83C\uDDED(?:\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA])|\uD83C\uDDEC(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE])|\uD83C\uDDEB(?:\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7])|\uD83C\uDDEA(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA])|\uD83C\uDDE9(?:\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF])|\uD83C\uDDE8(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF])|\uD83C\uDDE7(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF])|\uD83C\uDDE6(?:\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF])|[#\*0-9]\uFE0F\u20E3|\u2764\uFE0F|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])|\uD83C\uDFF4|(?:[\u270A\u270B]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDC8F\uDC91\uDCAA\uDD7A\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD0C\uDD0F\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD34\uDD36\uDD77\uDDB5\uDDB6\uDDBB\uDDD2\uDDD3\uDDD5])(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u270C\u270D]|\uD83D[\uDD74\uDD90])(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])|[\u270A\u270B]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC08\uDC15\uDC3B\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDC8F\uDC91\uDCAA\uDD7A\uDD95\uDD96\uDE2E\uDE35\uDE36\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD0C\uDD0F\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD34\uDD36\uDD77\uDDB5\uDDB6\uDDBB\uDDD2\uDDD3\uDDD5]|\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD]|\uD83D\uDC6F|\uD83E[\uDD3C\uDDDE\uDDDF]|[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF84\uDF86-\uDF93\uDFA0-\uDFC1\uDFC5\uDFC6\uDFC8\uDFC9\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC07\uDC09-\uDC14\uDC16-\uDC3A\uDC3C-\uDC3E\uDC40\uDC44\uDC45\uDC51-\uDC65\uDC6A\uDC79-\uDC7B\uDC7D-\uDC80\uDC84\uDC88-\uDC8E\uDC90\uDC92-\uDCA9\uDCAB-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDDA4\uDDFB-\uDE2D\uDE2F-\uDE34\uDE37-\uDE44\uDE48-\uDE4A\uDE80-\uDEA2\uDEA4-\uDEB3\uDEB7-\uDEBF\uDEC1-\uDEC5\uDED0-\uDED2\uDED5-\uDED7\uDEEB\uDEEC\uDEF4-\uDEFC\uDFE0-\uDFEB]|\uD83E[\uDD0D\uDD0E\uDD10-\uDD17\uDD1D\uDD20-\uDD25\uDD27-\uDD2F\uDD3A\uDD3F-\uDD45\uDD47-\uDD76\uDD78\uDD7A-\uDDB4\uDDB7\uDDBA\uDDBC-\uDDCB\uDDD0\uDDE0-\uDDFF\uDE70-\uDE74\uDE78-\uDE7A\uDE80-\uDE86\uDE90-\uDEA8\uDEB0-\uDEB6\uDEC0-\uDEC2\uDED0-\uDED6]|(?:[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u270A\u270B\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF93\uDFA0-\uDFCA\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF4\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC3E\uDC40\uDC42-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDD7A\uDD95\uDD96\uDDA4\uDDFB-\uDE4F\uDE80-\uDEC5\uDECC\uDED0-\uDED2\uDED5-\uDED7\uDEEB\uDEEC\uDEF4-\uDEFC\uDFE0-\uDFEB]|\uD83E[\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDD78\uDD7A-\uDDCB\uDDCD-\uDDFF\uDE70-\uDE74\uDE78-\uDE7A\uDE80-\uDE86\uDE90-\uDEA8\uDEB0-\uDEB6\uDEC0-\uDEC2\uDED0-\uDED6])|(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26A7\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDED5-\uDED7\uDEE0-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEFC\uDFE0-\uDFEB]|\uD83E[\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDD78\uDD7A-\uDDCB\uDDCD-\uDDFF\uDE70-\uDE74\uDE78-\uDE7A\uDE80-\uDE86\uDE90-\uDEA8\uDEB0-\uDEB6\uDEC0-\uDEC2\uDED0-\uDED6])\uFE0F|(?:[\u261D\u26F9\u270A-\u270D]|\uD83C[\uDF85\uDFC2-\uDFC4\uDFC7\uDFCA-\uDFCC]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66-\uDC78\uDC7C\uDC81-\uDC83\uDC85-\uDC87\uDC8F\uDC91\uDCAA\uDD74\uDD75\uDD7A\uDD90\uDD95\uDD96\uDE45-\uDE47\uDE4B-\uDE4F\uDEA3\uDEB4-\uDEB6\uDEC0\uDECC]|\uD83E[\uDD0C\uDD0F\uDD18-\uDD1F\uDD26\uDD30-\uDD39\uDD3C-\uDD3E\uDD77\uDDB5\uDDB6\uDDB8\uDDB9\uDDBB\uDDCD-\uDDCF\uDDD1-\uDDDD])/g},Lf=ss(Pf);function st(e,t={}){if(typeof e!="string"||e.length===0||(t={ambiguousIsNarrow:!0,...t},e=is(e),e.length===0))return 0;e=e.replace(Lf(),"  ");let r=t.ambiguousIsNarrow?1:2,n=0;for(let o of e){let s=o.codePointAt(0);if(!(s<=31||s>=127&&s<=159||s>=768&&s<=879))switch(Mf.eastAsianWidth(o)){case"F":case"W":n+=2;break;case"A":n+=r;break;default:n+=1}}return n}var Sn=10,Ki=(e=0)=>t=>`\x1B[${t+e}m`,Ji=(e=0)=>t=>`\x1B[${38+e};5;${t}m`,Xi=(e=0)=>(t,r,n)=>`\x1B[${38+e};2;${t};${r};${n}m`,S={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],overline:[53,55],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],gray:[90,39],grey:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgGray:[100,49],bgGrey:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};Object.keys(S.modifier);var kf=Object.keys(S.color),jf=Object.keys(S.bgColor);[...kf,...jf];function Nf(){let e=new Map;for(let[t,r]of Object.entries(S)){for(let[n,o]of Object.entries(r))S[n]={open:`\x1B[${o[0]}m`,close:`\x1B[${o[1]}m`},r[n]=S[n],e.set(o[0],o[1]);Object.defineProperty(S,t,{value:r,enumerable:!1})}return Object.defineProperty(S,"codes",{value:e,enumerable:!1}),S.color.close="\x1B[39m",S.bgColor.close="\x1B[49m",S.color.ansi=Ki(),S.color.ansi256=Ji(),S.color.ansi16m=Xi(),S.bgColor.ansi=Ki(Sn),S.bgColor.ansi256=Ji(Sn),S.bgColor.ansi16m=Xi(Sn),Object.defineProperties(S,{rgbToAnsi256:{value:(t,r,n)=>t===r&&r===n?t<8?16:t>248?231:Math.round((t-8)/247*24)+232:16+36*Math.round(t/255*5)+6*Math.round(r/255*5)+Math.round(n/255*5),enumerable:!1},hexToRgb:{value:t=>{let r=/[a-f\d]{6}|[a-f\d]{3}/i.exec(t.toString(16));if(!r)return[0,0,0];let[n]=r;n.length===3&&(n=[...n].map(s=>s+s).join(""));let o=Number.parseInt(n,16);return[o>>16&255,o>>8&255,o&255]},enumerable:!1},hexToAnsi256:{value:t=>S.rgbToAnsi256(...S.hexToRgb(t)),enumerable:!1},ansi256ToAnsi:{value:t=>{if(t<8)return 30+t;if(t<16)return 90+(t-8);let r,n,o;if(t>=232)r=((t-232)*10+8)/255,n=r,o=r;else{t-=16;let a=t%36;r=Math.floor(t/36)/5,n=Math.floor(a/6)/5,o=a%6/5}let s=Math.max(r,n,o)*2;if(s===0)return 30;let i=30+(Math.round(o)<<2|Math.round(n)<<1|Math.round(r));return s===2&&(i+=60),i},enumerable:!1},rgbToAnsi:{value:(t,r,n)=>S.ansi256ToAnsi(S.rgbToAnsi256(t,r,n)),enumerable:!1},hexToAnsi:{value:t=>S.ansi256ToAnsi(S.hexToAnsi256(t)),enumerable:!1}}),S}var Uf=Nf(),Ut=new Set(["\x1B","\x9B"]),Wf=39,On="\x07",us="[",Vf="]",cs="m",Tn=`${Vf}8;;`,Zi=e=>`${Ut.values().next().value}${us}${e}${cs}`,Qi=e=>`${Ut.values().next().value}${Tn}${e}${On}`,Gf=e=>e.split(" ").map(t=>st(t)),An=(e,t,r)=>{let n=[...t],o=!1,s=!1,i=st(is(e[e.length-1]));for(let[a,u]of n.entries()){let c=st(u);if(i+c<=r?e[e.length-1]+=u:(e.push(u),i=0),Ut.has(u)&&(o=!0,s=n.slice(a+1).join("").startsWith(Tn)),o){s?u===On&&(o=!1,s=!1):u===cs&&(o=!1);continue}i+=c,i===r&&a<n.length-1&&(e.push(""),i=0)}!i&&e[e.length-1].length>0&&e.length>1&&(e[e.length-2]+=e.pop())},Hf=e=>{let t=e.split(" "),r=t.length;for(;r>0&&!(st(t[r-1])>0);)r--;return r===t.length?e:t.slice(0,r).join(" ")+t.slice(r).join("")},zf=(e,t,r={})=>{if(r.trim!==!1&&e.trim()==="")return"";let n="",o,s,i=Gf(e),a=[""];for(let[c,l]of e.split(" ").entries()){r.trim!==!1&&(a[a.length-1]=a[a.length-1].trimStart());let d=st(a[a.length-1]);if(c!==0&&(d>=t&&(r.wordWrap===!1||r.trim===!1)&&(a.push(""),d=0),(d>0||r.trim===!1)&&(a[a.length-1]+=" ",d++)),r.hard&&i[c]>t){let f=t-d,m=1+Math.floor((i[c]-f-1)/t);Math.floor((i[c]-1)/t)<m&&a.push(""),An(a,l,t);continue}if(d+i[c]>t&&d>0&&i[c]>0){if(r.wordWrap===!1&&d<t){An(a,l,t);continue}a.push("")}if(d+i[c]>t&&r.wordWrap===!1){An(a,l,t);continue}a[a.length-1]+=l}r.trim!==!1&&(a=a.map(c=>Hf(c)));let u=[...a.join(`
`)];for(let[c,l]of u.entries()){if(n+=l,Ut.has(l)){let{groups:f}=new RegExp(`(?:\\${us}(?<code>\\d+)m|\\${Tn}(?<uri>.*)${On})`).exec(u.slice(c).join(""))||{groups:{}};if(f.code!==void 0){let m=Number.parseFloat(f.code);o=m===Wf?void 0:m}else f.uri!==void 0&&(s=f.uri.length===0?void 0:f.uri)}let d=Uf.codes.get(Number(o));u[c+1]===`
`?(s&&(n+=Qi("")),o&&d&&(n+=Zi(d))):l===`
`&&(o&&d&&(n+=Zi(o)),s&&(n+=Qi(s)))}return n};function es(e,t,r){return String(e).normalize().replace(/\r\n/g,`
`).split(`
`).map(n=>zf(n,t,r)).join(`
`)}var qf=["up","down","left","right","space","enter","cancel"],Lt={actions:new Set(qf),aliases:new Map([["k","up"],["j","down"],["h","left"],["l","right"],["","cancel"],["escape","cancel"]])};function vn(e,t){if(typeof e=="string")return Lt.aliases.get(e)===t;for(let r of e)if(r!==void 0&&vn(r,t))return!0;return!1}function Yf(e,t){if(e===t)return;let r=e.split(`
`),n=t.split(`
`),o=[];for(let s=0;s<Math.max(r.length,n.length);s++)r[s]!==n[s]&&o.push(s);return o}var Kf=globalThis.process.platform.startsWith("win"),_n=Symbol("clack:cancel");function ge(e){return e===_n}function Pt(e,t){let r=e;r.isTTY&&r.setRawMode(t)}function ls({input:e=ns,output:t=os,overwrite:r=!0,hideCursor:n=!0}={}){let o=he.createInterface({input:e,output:t,prompt:"",tabSize:1});he.emitKeypressEvents(e,o),e.isTTY&&e.setRawMode(!0);let s=(i,{name:a,sequence:u})=>{let c=String(i);if(vn([c,a,u],"cancel")){n&&t.write(P.cursor.show),process.exit(0);return}if(!r)return;he.moveCursor(t,a==="return"?0:-1,a==="return"?-1:0,()=>{he.clearLine(t,1,()=>{e.once("keypress",s)})})};return n&&t.write(P.cursor.hide),e.once("keypress",s),()=>{e.off("keypress",s),n&&t.write(P.cursor.show),e.isTTY&&!Kf&&e.setRawMode(!1),o.terminal=!1,o.close()}}var Jf=Object.defineProperty,Xf=(e,t,r)=>t in e?Jf(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,N=(e,t,r)=>(Xf(e,typeof t!="symbol"?t+"":t,r),r),at=class{constructor(t,r=!0){N(this,"input"),N(this,"output"),N(this,"_abortSignal"),N(this,"rl"),N(this,"opts"),N(this,"_render"),N(this,"_track",!1),N(this,"_prevFrame",""),N(this,"_subscribers",new Map),N(this,"_cursor",0),N(this,"state","initial"),N(this,"error",""),N(this,"value");let{input:n=ns,output:o=os,render:s,signal:i,...a}=t;this.opts=a,this.onKeypress=this.onKeypress.bind(this),this.close=this.close.bind(this),this.render=this.render.bind(this),this._render=s.bind(this),this._track=r,this._abortSignal=i,this.input=n,this.output=o}unsubscribe(){this._subscribers.clear()}setSubscriber(t,r){let n=this._subscribers.get(t)??[];n.push(r),this._subscribers.set(t,n)}on(t,r){this.setSubscriber(t,{cb:r})}once(t,r){this.setSubscriber(t,{cb:r,once:!0})}emit(t,...r){let n=this._subscribers.get(t)??[],o=[];for(let s of n)s.cb(...r),s.once&&o.push(()=>n.splice(n.indexOf(s),1));for(let s of o)s()}prompt(){return new Promise((t,r)=>{if(this._abortSignal){if(this._abortSignal.aborted)return this.state="cancel",this.close(),t(_n);this._abortSignal.addEventListener("abort",()=>{this.state="cancel",this.close()},{once:!0})}let n=new $f;n._write=(o,s,i)=>{this._track&&(this.value=this.rl?.line.replace(/\t/g,""),this._cursor=this.rl?.cursor??0,this.emit("value",this.value)),i()},this.input.pipe(n),this.rl=Yi.createInterface({input:this.input,output:n,tabSize:2,prompt:"",escapeCodeTimeout:50,terminal:!0}),Yi.emitKeypressEvents(this.input,this.rl),this.rl.prompt(),this.opts.initialValue!==void 0&&this._track&&this.rl.write(this.opts.initialValue),this.input.on("keypress",this.onKeypress),Pt(this.input,!0),this.output.on("resize",this.render),this.render(),this.once("submit",()=>{this.output.write(P.cursor.show),this.output.off("resize",this.render),Pt(this.input,!1),t(this.value)}),this.once("cancel",()=>{this.output.write(P.cursor.show),this.output.off("resize",this.render),Pt(this.input,!1),t(_n)})})}onKeypress(t,r){if(this.state==="error"&&(this.state="active"),r?.name&&(!this._track&&Lt.aliases.has(r.name)&&this.emit("cursor",Lt.aliases.get(r.name)),Lt.actions.has(r.name)&&this.emit("cursor",r.name)),t&&(t.toLowerCase()==="y"||t.toLowerCase()==="n")&&this.emit("confirm",t.toLowerCase()==="y"),t==="	"&&this.opts.placeholder&&(this.value||(this.rl?.write(this.opts.placeholder),this.emit("value",this.opts.placeholder))),t&&this.emit("key",t.toLowerCase()),r?.name==="return"){if(!this.value&&this.opts.placeholder&&(this.rl?.write(this.opts.placeholder),this.emit("value",this.opts.placeholder)),this.opts.validate){let n=this.opts.validate(this.value);n&&(this.error=n instanceof Error?n.message:n,this.state="error",this.rl?.write(this.value))}this.state!=="error"&&(this.state="submit")}vn([t,r?.name,r?.sequence],"cancel")&&(this.state="cancel"),(this.state==="submit"||this.state==="cancel")&&this.emit("finalize"),this.render(),(this.state==="submit"||this.state==="cancel")&&this.close()}close(){this.input.unpipe(),this.input.removeListener("keypress",this.onKeypress),this.output.write(`
`),Pt(this.input,!1),this.rl?.close(),this.rl=void 0,this.emit(`${this.state}`,this.value),this.unsubscribe()}restoreCursor(){let t=es(this._prevFrame,process.stdout.columns,{hard:!0}).split(`
`).length-1;this.output.write(P.cursor.move(-999,t*-1))}render(){let t=es(this._render(this)??"",process.stdout.columns,{hard:!0});if(t!==this._prevFrame){if(this.state==="initial")this.output.write(P.cursor.hide);else{let r=Yf(this._prevFrame,t);if(this.restoreCursor(),r&&r?.length===1){let n=r[0];this.output.write(P.cursor.move(0,n)),this.output.write(P.erase.lines(1));let o=t.split(`
`);this.output.write(o[n]),this._prevFrame=t,this.output.write(P.cursor.move(0,o.length-n-1));return}if(r&&r?.length>1){let n=r[0];this.output.write(P.cursor.move(0,n)),this.output.write(P.erase.down());let o=t.split(`
`).slice(n);this.output.write(o.join(`
`)),this._prevFrame=t;return}this.output.write(P.erase.down())}this.output.write(t),this.state==="initial"&&(this.state="active"),this._prevFrame=t}}};var Zf;Zf=new WeakMap;var Qf=Object.defineProperty,em=(e,t,r)=>t in e?Qf(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,ts=(e,t,r)=>(em(e,typeof t!="symbol"?t+"":t,r),r),kt=class extends at{constructor({mask:t,...r}){super(r),ts(this,"valueWithCursor",""),ts(this,"_mask","\u2022"),this._mask=t??"\u2022",this.on("finalize",()=>{this.valueWithCursor=this.masked}),this.on("value",()=>{if(this.cursor>=this.value.length)this.valueWithCursor=`${this.masked}${it.default.inverse(it.default.hidden("_"))}`;else{let n=this.masked.slice(0,this.cursor),o=this.masked.slice(this.cursor);this.valueWithCursor=`${n}${it.default.inverse(o[0])}${o.slice(1)}`}})}get cursor(){return this._cursor}get masked(){return this.value.replaceAll(/./g,this._mask)}},tm=Object.defineProperty,rm=(e,t,r)=>t in e?tm(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,rs=(e,t,r)=>(rm(e,typeof t!="symbol"?t+"":t,r),r),jt=class extends at{constructor(t){super(t,!1),rs(this,"options"),rs(this,"cursor",0),this.options=t.options,this.cursor=this.options.findIndex(({value:r})=>r===t.initialValue),this.cursor===-1&&(this.cursor=0),this.changeValue(),this.on("cursor",r=>{switch(r){case"left":case"up":this.cursor=this.cursor===0?this.options.length-1:this.cursor-1;break;case"down":case"right":this.cursor=this.cursor===this.options.length-1?0:this.cursor+1;break}this.changeValue()})}get _value(){return this.options[this.cursor]}changeValue(){this.value=this._value.value}};var Nt=class extends at{get valueWithCursor(){if(this.state==="submit")return this.value;if(this.cursor>=this.value.length)return`${this.value}\u2588`;let t=this.value.slice(0,this.cursor),[r,...n]=this.value.slice(this.cursor);return`${t}${it.default.inverse(r)}${n.join("")}`}get cursor(){return this._cursor}constructor(t){super(t),this.on("finalize",()=>{this.value||(this.value=t.defaultValue)})}};var p=q(Se(),1),Wt=q(Fn(),1);import Y from"process";function nm(){return Y.platform!=="win32"?Y.env.TERM!=="linux":!!Y.env.CI||!!Y.env.WT_SESSION||!!Y.env.TERMINUS_SUBLIME||Y.env.ConEmuTask==="{cmd::Cmder}"||Y.env.TERM_PROGRAM==="Terminus-Sublime"||Y.env.TERM_PROGRAM==="vscode"||Y.env.TERM==="xterm-256color"||Y.env.TERM==="alacritty"||Y.env.TERMINAL_EMULATOR==="JetBrains-JediTerm"}var Bn=nm(),O=(e,t)=>Bn?e:t,om=O("\u25C6","*"),fs=O("\u25A0","x"),ms=O("\u25B2","x"),Vt=O("\u25C7","o"),Fy=O("\u250C","T"),w=O("\u2502","|"),Me=O("\u2514","\u2014"),im=O("\u25CF",">"),sm=O("\u25CB"," "),Sy=O("\u25FB","[\u2022]"),Ay=O("\u25FC","[+]"),_y=O("\u25FB","[ ]"),am=O("\u25AA","\u2022"),ds=O("\u2500","-"),um=O("\u256E","+"),cm=O("\u251C","+"),lm=O("\u256F","+"),dm=O("\u25CF","\u2022"),fm=O("\u25C6","*"),mm=O("\u25B2","!"),pm=O("\u25A0","x"),In=e=>{switch(e){case"initial":case"active":return p.default.cyan(om);case"cancel":return p.default.red(fs);case"error":return p.default.yellow(ms);case"submit":return p.default.green(Vt)}},Dm=e=>{let{cursor:t,options:r,style:n}=e,o=e.maxItems??Number.POSITIVE_INFINITY,s=Math.max(process.stdout.rows-4,0),i=Math.min(s,Math.max(o,5)),a=0;t>=a+i-3?a=Math.max(Math.min(t-i+3,r.length-i),0):t<a+2&&(a=Math.max(t-2,0));let u=i<r.length&&a>0,c=i<r.length&&a+i<r.length;return r.slice(a,a+i).map((l,d,f)=>{let m=d===0&&u,D=d===f.length-1&&c;return m||D?p.default.dim("..."):n(l,d+a===t)})},Gt=e=>new Nt({validate:e.validate,placeholder:e.placeholder,defaultValue:e.defaultValue,initialValue:e.initialValue,render(){let t=`${p.default.gray(w)}
${In(this.state)}  ${e.message}
`,r=e.placeholder?p.default.inverse(e.placeholder[0])+p.default.dim(e.placeholder.slice(1)):p.default.inverse(p.default.hidden("_")),n=this.value?this.valueWithCursor:r;switch(this.state){case"error":return`${t.trim()}
${p.default.yellow(w)}  ${n}
${p.default.yellow(Me)}  ${p.default.yellow(this.error)}
`;case"submit":return`${t}${p.default.gray(w)}  ${p.default.dim(this.value||e.placeholder)}`;case"cancel":return`${t}${p.default.gray(w)}  ${p.default.strikethrough(p.default.dim(this.value??""))}${this.value?.trim()?`
${p.default.gray(w)}`:""}`;default:return`${t}${p.default.cyan(w)}  ${n}
${p.default.cyan(Me)}
`}}}).prompt(),ps=e=>new kt({validate:e.validate,mask:e.mask??am,render(){let t=`${p.default.gray(w)}
${In(this.state)}  ${e.message}
`,r=this.valueWithCursor,n=this.masked;switch(this.state){case"error":return`${t.trim()}
${p.default.yellow(w)}  ${n}
${p.default.yellow(Me)}  ${p.default.yellow(this.error)}
`;case"submit":return`${t}${p.default.gray(w)}  ${p.default.dim(n)}`;case"cancel":return`${t}${p.default.gray(w)}  ${p.default.strikethrough(p.default.dim(n??""))}${n?`
${p.default.gray(w)}`:""}`;default:return`${t}${p.default.cyan(w)}  ${r}
${p.default.cyan(Me)}
`}}}).prompt();var Ds=e=>{let t=(r,n)=>{let o=r.label??String(r.value);switch(n){case"selected":return`${p.default.dim(o)}`;case"active":return`${p.default.green(im)} ${o} ${r.hint?p.default.dim(`(${r.hint})`):""}`;case"cancelled":return`${p.default.strikethrough(p.default.dim(o))}`;default:return`${p.default.dim(sm)} ${p.default.dim(o)}`}};return new jt({options:e.options,initialValue:e.initialValue,render(){let r=`${p.default.gray(w)}
${In(this.state)}  ${e.message}
`;switch(this.state){case"submit":return`${r}${p.default.gray(w)}  ${t(this.options[this.cursor],"selected")}`;case"cancel":return`${r}${p.default.gray(w)}  ${t(this.options[this.cursor],"cancelled")}
${p.default.gray(w)}`;default:return`${r}${p.default.cyan(w)}  ${Dm({cursor:this.cursor,options:this.options,maxItems:e.maxItems,style:(n,o)=>t(n,o?"active":"inactive")}).join(`
${p.default.cyan(w)}  `)}
${p.default.cyan(Me)}
`}}}).prompt()};var Ht=(e="",t="")=>{let r=`
${e}
`.split(`
`),n=$n(t).length,o=Math.max(r.reduce((i,a)=>{let u=$n(a);return u.length>i?u.length:i},0),n)+2,s=r.map(i=>`${p.default.gray(w)}  ${p.default.dim(i)}${" ".repeat(o-$n(i).length)}${p.default.gray(w)}`).join(`
`);process.stdout.write(`${p.default.gray(w)}
${p.default.green(Vt)}  ${p.default.reset(t)} ${p.default.gray(ds.repeat(Math.max(o-n-1,1))+um)}
${s}
${p.default.gray(cm+ds.repeat(o+2)+lm)}
`)},Pe=(e="")=>{process.stdout.write(`${p.default.gray(Me)}  ${p.default.red(e)}

`)};var L={message:(e="",{symbol:t=p.default.gray(w)}={})=>{let r=[`${p.default.gray(w)}`];if(e){let[n,...o]=e.split(`
`);r.push(`${t}  ${n}`,...o.map(s=>`${p.default.gray(w)}  ${s}`))}process.stdout.write(`${r.join(`
`)}
`)},info:e=>{L.message(e,{symbol:p.default.blue(dm)})},success:e=>{L.message(e,{symbol:p.default.green(fm)})},step:e=>{L.message(e,{symbol:p.default.green(Vt)})},warn:e=>{L.message(e,{symbol:p.default.yellow(mm)})},warning:e=>{L.warn(e)},error:e=>{L.message(e,{symbol:p.default.red(pm)})}},Oy=`${p.default.gray(w)}  `;var M=({indicator:e="dots"}={})=>{let t=Bn?["\u25D2","\u25D0","\u25D3","\u25D1"]:["\u2022","o","O","0"],r=Bn?80:120,n=process.env.CI==="true",o,s,i=!1,a="",u,c=performance.now(),l=y=>{let A=y>1?"Something went wrong":"Canceled";i&&R(A,y)},d=()=>l(2),f=()=>l(1),m=()=>{process.on("uncaughtExceptionMonitor",d),process.on("unhandledRejection",d),process.on("SIGINT",f),process.on("SIGTERM",f),process.on("exit",l)},D=()=>{process.removeListener("uncaughtExceptionMonitor",d),process.removeListener("unhandledRejection",d),process.removeListener("SIGINT",f),process.removeListener("SIGTERM",f),process.removeListener("exit",l)},b=()=>{if(u===void 0)return;n&&process.stdout.write(`
`);let y=u.split(`
`);process.stdout.write(Wt.cursor.move(-999,y.length-1)),process.stdout.write(Wt.erase.down(y.length))},F=y=>y.replace(/\.+$/,""),E=y=>{let A=(performance.now()-y)/1e3,B=Math.floor(A/60),k=Math.floor(A%60);return B>0?`[${B}m ${k}s]`:`[${k}s]`},v=(y="")=>{i=!0,o=ls(),a=F(y),c=performance.now(),process.stdout.write(`${p.default.gray(w)}
`);let A=0,B=0;m(),s=setInterval(()=>{if(n&&a===u)return;b(),u=a;let k=p.default.magenta(t[A]);if(n)process.stdout.write(`${k}  ${a}...`);else if(e==="timer")process.stdout.write(`${k}  ${a} ${E(c)}`);else{let pe=".".repeat(Math.floor(B)).slice(0,3);process.stdout.write(`${k}  ${a}${pe}`)}A=A+1<t.length?A+1:0,B=B<t.length?B+.125:0},r)},R=(y="",A=0)=>{i=!1,clearInterval(s),b();let B=A===0?p.default.green(Vt):A===1?p.default.red(fs):p.default.red(ms);a=F(y??a),e==="timer"?process.stdout.write(`${B}  ${a} ${E(c)}
`):process.stdout.write(`${B}  ${a}
`),D(),o()};return{start:v,stop:R,message:(y="")=>{a=F(y??a)}}};var St=q(Se(),1);import Rn from"fs";import Cs from"path";var hs="spree@example.com",gs="spree123";function _(e=process.cwd()){let t=Cs.join(e,"docker-compose.yml");if(!Rn.existsSync(t))throw new Error(`Not a Spree project directory. No docker-compose.yml found.
Run this command from a directory created with create-spree-app.`);let r=hm(e);return{mode:"docker",projectDir:e,port:r}}function hm(e){let t=Cs.join(e,".env");if(!Rn.existsSync(t))return 3e3;let n=Rn.readFileSync(t,"utf-8").match(/^SPREE_PORT=(\d+)/m);return n?Number(n[1]):3e3}function T(e){if(typeof e!="object"||e===null)return!1;let t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}import{fileURLToPath as gm}from"url";var Le=(e,t)=>{let r=Pn(bm(e));if(typeof r!="string")throw new TypeError(`${t} must be a string or a file URL: ${r}.`);return r},bm=e=>Mn(e)?e.toString():e,Mn=e=>typeof e!="string"&&e&&Object.getPrototypeOf(e)===String.prototype,Pn=e=>e instanceof URL?gm(e):e;var zt=(e,t=[],r={})=>{let n=Le(e,"First argument"),[o,s]=T(t)?[[],t]:[t,r];if(!Array.isArray(o))throw new TypeError(`Second argument must be either an array of arguments or an options object: ${o}`);if(o.some(u=>typeof u=="object"&&u!==null))throw new TypeError(`Second argument must be an array of strings: ${o}`);let i=o.map(String),a=i.find(u=>u.includes("\0"));if(a!==void 0)throw new TypeError(`Arguments cannot contain null bytes ("\\0"): ${a}`);if(!T(s))throw new TypeError(`Last argument must be an options object: ${s}`);return[n,i,s]};import{ChildProcess as Sm}from"child_process";import{StringDecoder as Cm}from"string_decoder";var{toString:Es}=Object.prototype,ys=e=>Es.call(e)==="[object ArrayBuffer]",I=e=>Es.call(e)==="[object Uint8Array]",ce=e=>new Uint8Array(e.buffer,e.byteOffset,e.byteLength),Em=new TextEncoder,xs=e=>Em.encode(e),ym=new TextDecoder,qt=e=>ym.decode(e),ws=(e,t)=>xm(e,t).join(""),xm=(e,t)=>{if(t==="utf8"&&e.every(s=>typeof s=="string"))return e;let r=new Cm(t),n=e.map(s=>typeof s=="string"?xs(s):s).map(s=>r.write(s)),o=r.end();return o===""?n:[...n,o]},ut=e=>e.length===1&&I(e[0])?e[0]:Ln(wm(e)),wm=e=>e.map(t=>typeof t=="string"?xs(t):t),Ln=e=>{let t=new Uint8Array(Fm(e)),r=0;for(let n of e)t.set(n,r),r+=n.length;return t},Fm=e=>{let t=0;for(let r of e)t+=r.length;return t};var _s=e=>Array.isArray(e)&&Array.isArray(e.raw),Os=(e,t)=>{let r=[];for(let[s,i]of e.entries())r=Am({templates:e,expressions:t,tokens:r,index:s,template:i});if(r.length===0)throw new TypeError("Template script must not be empty");let[n,...o]=r;return[n,o,{}]},Am=({templates:e,expressions:t,tokens:r,index:n,template:o})=>{if(o===void 0)throw new TypeError(`Invalid backslash sequence: ${e.raw[n]}`);let{nextTokens:s,leadingWhitespaces:i,trailingWhitespaces:a}=_m(o,e.raw[n]),u=Ss(r,s,i);if(n===t.length)return u;let c=t[n],l=Array.isArray(c)?c.map(d=>As(d)):[As(c)];return Ss(u,l,a)},_m=(e,t)=>{if(t.length===0)return{nextTokens:[],leadingWhitespaces:!1,trailingWhitespaces:!1};let r=[],n=0,o=Fs.has(t[0]);for(let i=0,a=0;i<e.length;i+=1,a+=1){let u=t[a];if(Fs.has(u))n!==i&&r.push(e.slice(n,i)),n=i+1;else if(u==="\\"){let c=t[a+1];c===`
`?(i-=1,a+=1):c==="u"&&t[a+2]==="{"?a=t.indexOf("}",a+3):a+=Om[c]??1}}let s=n===e.length;return s||r.push(e.slice(n)),{nextTokens:r,leadingWhitespaces:o,trailingWhitespaces:s}},Fs=new Set([" ","	","\r",`
`]),Om={x:3,u:5},Ss=(e,t,r)=>r||e.length===0||t.length===0?[...e,...t]:[...e.slice(0,-1),`${e.at(-1)}${t[0]}`,...t.slice(1)],As=e=>{let t=typeof e;if(t==="string")return e;if(t==="number")return String(e);if(T(e)&&("stdout"in e||"isMaxBuffer"in e))return Tm(e);throw e instanceof Sm||Object.prototype.toString.call(e)==="[object Promise]"?new TypeError("Unexpected subprocess in template expression. Please use ${await subprocess} instead of ${subprocess}."):new TypeError(`Unexpected "${t}" in template expression`)},Tm=({stdout:e})=>{if(typeof e=="string")return e;if(I(e))return qt(e);throw e===void 0?new TypeError(`Missing result.stdout in template expression. This is probably due to the previous subprocess' "stdout" option.`):new TypeError(`Unexpected "${typeof e}" stdout in template expression`)};import{spawnSync as I0}from"child_process";import{debuglog as vm}from"util";import kn from"process";var K=e=>Yt.includes(e),Yt=[kn.stdin,kn.stdout,kn.stderr],V=["stdin","stdout","stderr"],Kt=e=>V[e]??`stdio[${e}]`;var vs=e=>{let t={...e};for(let r of Un)t[r]=jn(e,r);return t},jn=(e,t)=>{let r=Array.from({length:$m(e)+1}),n=Bm(e[t],r,t);return Lm(n,t)},$m=({stdio:e})=>Array.isArray(e)?Math.max(e.length,V.length):V.length,Bm=(e,t,r)=>T(e)?Im(e,t,r):t.fill(e),Im=(e,t,r)=>{for(let n of Object.keys(e).sort(Rm))for(let o of Mm(n,r,t))t[o]=e[n];return t},Rm=(e,t)=>Ts(e)<Ts(t)?1:-1,Ts=e=>e==="stdout"||e==="stderr"?0:e==="all"?2:1,Mm=(e,t,r)=>{if(e==="ipc")return[r.length-1];let n=Nn(e);if(n===void 0||n===0)throw new TypeError(`"${t}.${e}" is invalid.
It must be "${t}.stdout", "${t}.stderr", "${t}.all", "${t}.ipc", or "${t}.fd3", "${t}.fd4" (and so on).`);if(n>=r.length)throw new TypeError(`"${t}.${e}" is invalid: that file descriptor does not exist.
Please set the "stdio" option to ensure that file descriptor exists.`);return n==="all"?[1,2]:[n]},Nn=e=>{if(e==="all")return e;if(V.includes(e))return V.indexOf(e);let t=Pm.exec(e);if(t!==null)return Number(t[1])},Pm=/^fd(\d+)$/,Lm=(e,t)=>e.map(r=>r===void 0?jm[t]:r),km=vm("execa").enabled?"full":"none",jm={lines:!1,buffer:!0,maxBuffer:1e3*1e3*100,verbose:km,stripFinalNewline:!0},Un=["lines","buffer","maxBuffer","verbose","stripFinalNewline"],le=(e,t)=>t==="ipc"?e.at(-1):e[t];var ke=({verbose:e},t)=>Wn(e,t)!=="none",je=({verbose:e},t)=>!["none","short"].includes(Wn(e,t)),$s=({verbose:e},t)=>{let r=Wn(e,t);return Jt(r)?r:void 0},Wn=(e,t)=>t===void 0?Nm(e):le(e,t),Nm=e=>e.find(t=>Jt(t))??Xt.findLast(t=>e.includes(t)),Jt=e=>typeof e=="function",Xt=["none","short","full"];import{inspect as up}from"util";import{platform as Um}from"process";import{stripVTControlCharacters as Wm}from"util";var Bs=(e,t)=>{let r=[e,...t],n=r.join(" "),o=r.map(s=>Ym(Is(s))).join(" ");return{command:n,escapedCommand:o}},ct=e=>Wm(e).split(`
`).map(t=>Is(t)).join(`
`),Is=e=>e.replaceAll(Hm,t=>Vm(t)),Vm=e=>{let t=zm[e];if(t!==void 0)return t;let r=e.codePointAt(0),n=r.toString(16);return r<=qm?`\\u${n.padStart(4,"0")}`:`\\U${n}`},Gm=()=>{try{return new RegExp("\\p{Separator}|\\p{Other}","gu")}catch{return/[\s\u0000-\u001F\u007F-\u009F\u00AD]/g}},Hm=Gm(),zm={" ":" ","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t"},qm=65535,Ym=e=>Km.test(e)?e:Um==="win32"?`"${e.replaceAll('"','""')}"`:`'${e.replaceAll("'","'\\''")}'`,Km=/^[\w./-]+$/;import Rs from"process";function Vn(){let{env:e}=Rs,{TERM:t,TERM_PROGRAM:r}=e;return Rs.platform!=="win32"?t!=="linux":!!e.WT_SESSION||!!e.TERMINUS_SUBLIME||e.ConEmuTask==="{cmd::Cmder}"||r==="Terminus-Sublime"||r==="vscode"||t==="xterm-256color"||t==="alacritty"||t==="rxvt-unicode"||t==="rxvt-unicode-256color"||e.TERMINAL_EMULATOR==="JetBrains-JediTerm"}var Ms={circleQuestionMark:"(?)",questionMarkPrefix:"(?)",square:"\u2588",squareDarkShade:"\u2593",squareMediumShade:"\u2592",squareLightShade:"\u2591",squareTop:"\u2580",squareBottom:"\u2584",squareLeft:"\u258C",squareRight:"\u2590",squareCenter:"\u25A0",bullet:"\u25CF",dot:"\u2024",ellipsis:"\u2026",pointerSmall:"\u203A",triangleUp:"\u25B2",triangleUpSmall:"\u25B4",triangleDown:"\u25BC",triangleDownSmall:"\u25BE",triangleLeftSmall:"\u25C2",triangleRightSmall:"\u25B8",home:"\u2302",heart:"\u2665",musicNote:"\u266A",musicNoteBeamed:"\u266B",arrowUp:"\u2191",arrowDown:"\u2193",arrowLeft:"\u2190",arrowRight:"\u2192",arrowLeftRight:"\u2194",arrowUpDown:"\u2195",almostEqual:"\u2248",notEqual:"\u2260",lessOrEqual:"\u2264",greaterOrEqual:"\u2265",identical:"\u2261",infinity:"\u221E",subscriptZero:"\u2080",subscriptOne:"\u2081",subscriptTwo:"\u2082",subscriptThree:"\u2083",subscriptFour:"\u2084",subscriptFive:"\u2085",subscriptSix:"\u2086",subscriptSeven:"\u2087",subscriptEight:"\u2088",subscriptNine:"\u2089",oneHalf:"\xBD",oneThird:"\u2153",oneQuarter:"\xBC",oneFifth:"\u2155",oneSixth:"\u2159",oneEighth:"\u215B",twoThirds:"\u2154",twoFifths:"\u2156",threeQuarters:"\xBE",threeFifths:"\u2157",threeEighths:"\u215C",fourFifths:"\u2158",fiveSixths:"\u215A",fiveEighths:"\u215D",sevenEighths:"\u215E",line:"\u2500",lineBold:"\u2501",lineDouble:"\u2550",lineDashed0:"\u2504",lineDashed1:"\u2505",lineDashed2:"\u2508",lineDashed3:"\u2509",lineDashed4:"\u254C",lineDashed5:"\u254D",lineDashed6:"\u2574",lineDashed7:"\u2576",lineDashed8:"\u2578",lineDashed9:"\u257A",lineDashed10:"\u257C",lineDashed11:"\u257E",lineDashed12:"\u2212",lineDashed13:"\u2013",lineDashed14:"\u2010",lineDashed15:"\u2043",lineVertical:"\u2502",lineVerticalBold:"\u2503",lineVerticalDouble:"\u2551",lineVerticalDashed0:"\u2506",lineVerticalDashed1:"\u2507",lineVerticalDashed2:"\u250A",lineVerticalDashed3:"\u250B",lineVerticalDashed4:"\u254E",lineVerticalDashed5:"\u254F",lineVerticalDashed6:"\u2575",lineVerticalDashed7:"\u2577",lineVerticalDashed8:"\u2579",lineVerticalDashed9:"\u257B",lineVerticalDashed10:"\u257D",lineVerticalDashed11:"\u257F",lineDownLeft:"\u2510",lineDownLeftArc:"\u256E",lineDownBoldLeftBold:"\u2513",lineDownBoldLeft:"\u2512",lineDownLeftBold:"\u2511",lineDownDoubleLeftDouble:"\u2557",lineDownDoubleLeft:"\u2556",lineDownLeftDouble:"\u2555",lineDownRight:"\u250C",lineDownRightArc:"\u256D",lineDownBoldRightBold:"\u250F",lineDownBoldRight:"\u250E",lineDownRightBold:"\u250D",lineDownDoubleRightDouble:"\u2554",lineDownDoubleRight:"\u2553",lineDownRightDouble:"\u2552",lineUpLeft:"\u2518",lineUpLeftArc:"\u256F",lineUpBoldLeftBold:"\u251B",lineUpBoldLeft:"\u251A",lineUpLeftBold:"\u2519",lineUpDoubleLeftDouble:"\u255D",lineUpDoubleLeft:"\u255C",lineUpLeftDouble:"\u255B",lineUpRight:"\u2514",lineUpRightArc:"\u2570",lineUpBoldRightBold:"\u2517",lineUpBoldRight:"\u2516",lineUpRightBold:"\u2515",lineUpDoubleRightDouble:"\u255A",lineUpDoubleRight:"\u2559",lineUpRightDouble:"\u2558",lineUpDownLeft:"\u2524",lineUpBoldDownBoldLeftBold:"\u252B",lineUpBoldDownBoldLeft:"\u2528",lineUpDownLeftBold:"\u2525",lineUpBoldDownLeftBold:"\u2529",lineUpDownBoldLeftBold:"\u252A",lineUpDownBoldLeft:"\u2527",lineUpBoldDownLeft:"\u2526",lineUpDoubleDownDoubleLeftDouble:"\u2563",lineUpDoubleDownDoubleLeft:"\u2562",lineUpDownLeftDouble:"\u2561",lineUpDownRight:"\u251C",lineUpBoldDownBoldRightBold:"\u2523",lineUpBoldDownBoldRight:"\u2520",lineUpDownRightBold:"\u251D",lineUpBoldDownRightBold:"\u2521",lineUpDownBoldRightBold:"\u2522",lineUpDownBoldRight:"\u251F",lineUpBoldDownRight:"\u251E",lineUpDoubleDownDoubleRightDouble:"\u2560",lineUpDoubleDownDoubleRight:"\u255F",lineUpDownRightDouble:"\u255E",lineDownLeftRight:"\u252C",lineDownBoldLeftBoldRightBold:"\u2533",lineDownLeftBoldRightBold:"\u252F",lineDownBoldLeftRight:"\u2530",lineDownBoldLeftBoldRight:"\u2531",lineDownBoldLeftRightBold:"\u2532",lineDownLeftRightBold:"\u252E",lineDownLeftBoldRight:"\u252D",lineDownDoubleLeftDoubleRightDouble:"\u2566",lineDownDoubleLeftRight:"\u2565",lineDownLeftDoubleRightDouble:"\u2564",lineUpLeftRight:"\u2534",lineUpBoldLeftBoldRightBold:"\u253B",lineUpLeftBoldRightBold:"\u2537",lineUpBoldLeftRight:"\u2538",lineUpBoldLeftBoldRight:"\u2539",lineUpBoldLeftRightBold:"\u253A",lineUpLeftRightBold:"\u2536",lineUpLeftBoldRight:"\u2535",lineUpDoubleLeftDoubleRightDouble:"\u2569",lineUpDoubleLeftRight:"\u2568",lineUpLeftDoubleRightDouble:"\u2567",lineUpDownLeftRight:"\u253C",lineUpBoldDownBoldLeftBoldRightBold:"\u254B",lineUpDownBoldLeftBoldRightBold:"\u2548",lineUpBoldDownLeftBoldRightBold:"\u2547",lineUpBoldDownBoldLeftRightBold:"\u254A",lineUpBoldDownBoldLeftBoldRight:"\u2549",lineUpBoldDownLeftRight:"\u2540",lineUpDownBoldLeftRight:"\u2541",lineUpDownLeftBoldRight:"\u253D",lineUpDownLeftRightBold:"\u253E",lineUpBoldDownBoldLeftRight:"\u2542",lineUpDownLeftBoldRightBold:"\u253F",lineUpBoldDownLeftBoldRight:"\u2543",lineUpBoldDownLeftRightBold:"\u2544",lineUpDownBoldLeftBoldRight:"\u2545",lineUpDownBoldLeftRightBold:"\u2546",lineUpDoubleDownDoubleLeftDoubleRightDouble:"\u256C",lineUpDoubleDownDoubleLeftRight:"\u256B",lineUpDownLeftDoubleRightDouble:"\u256A",lineCross:"\u2573",lineBackslash:"\u2572",lineSlash:"\u2571"},Ps={tick:"\u2714",info:"\u2139",warning:"\u26A0",cross:"\u2718",squareSmall:"\u25FB",squareSmallFilled:"\u25FC",circle:"\u25EF",circleFilled:"\u25C9",circleDotted:"\u25CC",circleDouble:"\u25CE",circleCircle:"\u24DE",circleCross:"\u24E7",circlePipe:"\u24BE",radioOn:"\u25C9",radioOff:"\u25EF",checkboxOn:"\u2612",checkboxOff:"\u2610",checkboxCircleOn:"\u24E7",checkboxCircleOff:"\u24BE",pointer:"\u276F",triangleUpOutline:"\u25B3",triangleLeft:"\u25C0",triangleRight:"\u25B6",lozenge:"\u25C6",lozengeOutline:"\u25C7",hamburger:"\u2630",smiley:"\u32E1",mustache:"\u0DF4",star:"\u2605",play:"\u25B6",nodejs:"\u2B22",oneSeventh:"\u2150",oneNinth:"\u2151",oneTenth:"\u2152"},Jm={tick:"\u221A",info:"i",warning:"\u203C",cross:"\xD7",squareSmall:"\u25A1",squareSmallFilled:"\u25A0",circle:"( )",circleFilled:"(*)",circleDotted:"( )",circleDouble:"( )",circleCircle:"(\u25CB)",circleCross:"(\xD7)",circlePipe:"(\u2502)",radioOn:"(*)",radioOff:"( )",checkboxOn:"[\xD7]",checkboxOff:"[ ]",checkboxCircleOn:"(\xD7)",checkboxCircleOff:"( )",pointer:">",triangleUpOutline:"\u2206",triangleLeft:"\u25C4",triangleRight:"\u25BA",lozenge:"\u2666",lozengeOutline:"\u25CA",hamburger:"\u2261",smiley:"\u263A",mustache:"\u250C\u2500\u2510",star:"\u2736",play:"\u25BA",nodejs:"\u2666",oneSeventh:"1/7",oneNinth:"1/9",oneTenth:"1/10"},Xm={...Ms,...Ps},Zm={...Ms,...Jm},Qm=Vn(),ep=Qm?Xm:Zm,Zt=ep,ax=Object.entries(Ps);import tp from"tty";var rp=tp?.WriteStream?.prototype?.hasColors?.()??!1,h=(e,t)=>{if(!rp)return o=>o;let r=`\x1B[${e}m`,n=`\x1B[${t}m`;return o=>{let s=o+"",i=s.indexOf(n);if(i===-1)return r+s+n;let a=r,u=0,l=(t===22?n:"")+r;for(;i!==-1;)a+=s.slice(u,i)+l,u=i+n.length,i=s.indexOf(n,u);return a+=s.slice(u)+n,a}},lx=h(0,0),Ls=h(1,22),dx=h(2,22),fx=h(3,23),mx=h(4,24),px=h(53,55),Dx=h(7,27),hx=h(8,28),gx=h(9,29),bx=h(30,39),Cx=h(31,39),Ex=h(32,39),yx=h(33,39),xx=h(34,39),wx=h(35,39),Fx=h(36,39),Sx=h(37,39),Qt=h(90,39),Ax=h(40,49),_x=h(41,49),Ox=h(42,49),Tx=h(43,49),vx=h(44,49),$x=h(45,49),Bx=h(46,49),Ix=h(47,49),Rx=h(100,49),ks=h(91,39),Mx=h(92,39),js=h(93,39),Px=h(94,39),Lx=h(95,39),kx=h(96,39),jx=h(97,39),Nx=h(101,49),Ux=h(102,49),Wx=h(103,49),Vx=h(104,49),Gx=h(105,49),Hx=h(106,49),zx=h(107,49);var Ws=({type:e,message:t,timestamp:r,piped:n,commandId:o,result:{failed:s=!1}={},options:{reject:i=!0}})=>{let a=np(r),u=op[e]({failed:s,reject:i,piped:n}),c=ip[e]({reject:i});return`${Qt(`[${a}]`)} ${Qt(`[${o}]`)} ${c(u)} ${c(t)}`},np=e=>`${er(e.getHours(),2)}:${er(e.getMinutes(),2)}:${er(e.getSeconds(),2)}.${er(e.getMilliseconds(),3)}`,er=(e,t)=>String(e).padStart(t,"0"),Ns=({failed:e,reject:t})=>e?t?Zt.cross:Zt.warning:Zt.tick,op={command:({piped:e})=>e?"|":"$",output:()=>" ",ipc:()=>"*",error:Ns,duration:Ns},Us=e=>e,ip={command:()=>Ls,output:()=>Us,ipc:()=>Us,error:({reject:e})=>e?ks:js,duration:()=>Qt};var Vs=(e,t,r)=>{let n=$s(t,r);return e.map(({verboseLine:o,verboseObject:s})=>sp(o,s,n)).filter(o=>o!==void 0).map(o=>ap(o)).join("")},sp=(e,t,r)=>{if(r===void 0)return e;let n=r(e,t);if(typeof n=="string")return n},ap=e=>e.endsWith(`
`)?e:`${e}
`;var te=({type:e,verboseMessage:t,fdNumber:r,verboseInfo:n,result:o})=>{let s=cp({type:e,result:o,verboseInfo:n}),i=lp(t,s),a=Vs(i,n,r);a!==""&&console.warn(a.slice(0,-1))},cp=({type:e,result:t,verboseInfo:{escapedCommand:r,commandId:n,rawOptions:{piped:o=!1,...s}}})=>({type:e,escapedCommand:r,commandId:`${n}`,timestamp:new Date,piped:o,result:t,options:s}),lp=(e,t)=>e.split(`
`).map(r=>dp({...t,message:r})),dp=e=>({verboseLine:Ws(e),verboseObject:e}),tr=e=>{let t=typeof e=="string"?e:up(e);return ct(t).replaceAll("	"," ".repeat(fp))},fp=2;var Gs=(e,t)=>{ke(t)&&te({type:"command",verboseMessage:e,verboseInfo:t})};var Hs=(e,t,r)=>{Dp(e);let n=mp(e);return{verbose:e,escapedCommand:t,commandId:n,rawOptions:r}},mp=e=>ke({verbose:e})?pp++:void 0,pp=0n,Dp=e=>{for(let t of e){if(t===!1)throw new TypeError(`The "verbose: false" option was renamed to "verbose: 'none'".`);if(t===!0)throw new TypeError(`The "verbose: true" option was renamed to "verbose: 'short'".`);if(!Xt.includes(t)&&!Jt(t)){let r=Xt.map(n=>`'${n}'`).join(", ");throw new TypeError(`The "verbose" option must not be ${t}. Allowed values are: ${r} or a function.`)}}};import{hrtime as zs}from"process";var rr=()=>zs.bigint(),Gn=e=>Number(zs.bigint()-e)/1e6;var nr=(e,t,r)=>{let n=rr(),{command:o,escapedCommand:s}=Bs(e,t),i=jn(r,"verbose"),a=Hs(i,s,{...r});return Gs(s,a),{command:o,escapedCommand:s,startTime:n,verboseInfo:a}};var Hu=q(Ra(),1);import ZD from"path";import Gu from"process";import ar from"process";import _e from"path";function ir(e={}){let{env:t=process.env,platform:r=process.platform}=e;return r!=="win32"?"PATH":Object.keys(t).reverse().find(n=>n.toUpperCase()==="PATH")||"Path"}import{promisify as Wp}from"util";import{execFile as Vp,execFileSync as Rw}from"child_process";import Ma from"path";import{fileURLToPath as Gp}from"url";var Lw=Wp(Vp);function sr(e){return e instanceof URL?Gp(e):e}function Pa(e){return{*[Symbol.iterator](){let t=Ma.resolve(sr(e)),r;for(;r!==t;)yield t,r=t,t=Ma.resolve(t,"..")}}}var kw=10*1024*1024;var Hp=({cwd:e=ar.cwd(),path:t=ar.env[ir()],preferLocal:r=!0,execPath:n=ar.execPath,addExecPath:o=!0}={})=>{let s=_e.resolve(sr(e)),i=[],a=t.split(_e.delimiter);return r&&zp(i,a,s),o&&qp(i,a,n,s),t===""||t===_e.delimiter?`${i.join(_e.delimiter)}${t}`:[...i,t].join(_e.delimiter)},zp=(e,t,r)=>{for(let n of Pa(r)){let o=_e.join(n,"node_modules/.bin");t.includes(o)||e.push(o)}},qp=(e,t,r,n)=>{let o=_e.resolve(n,sr(r),"..");t.includes(o)||e.push(o)},La=({env:e=ar.env,...t}={})=>{e={...e};let r=ir({env:e});return t.path=e[r],e[r]=Hp(t),e};import{setTimeout as uD}from"timers/promises";var ka=(e,t,r)=>{let n=r?dt:lt,o=e instanceof J?{}:{cause:e};return new n(t,o)},J=class extends Error{},ja=(e,t)=>{Object.defineProperty(e.prototype,"name",{value:t,writable:!0,enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,Ua,{value:!0,writable:!1,enumerable:!1,configurable:!1})},Na=e=>ur(e)&&Ua in e,Ua=Symbol("isExecaError"),ur=e=>Object.prototype.toString.call(e)==="[object Error]",lt=class extends Error{};ja(lt,lt.name);var dt=class extends Error{};ja(dt,dt.name);import{constants as ft}from"os";import{constants as Xp}from"os";var Wa=()=>{let e=Ga-Va+1;return Array.from({length:e},Yp)},Yp=(e,t)=>({name:`SIGRT${t+1}`,number:Va+t,action:"terminate",description:"Application-specific signal (realtime)",standard:"posix"}),Va=34,Ga=64;import{constants as Kp}from"os";var Ha=[{name:"SIGHUP",number:1,action:"terminate",description:"Terminal closed",standard:"posix"},{name:"SIGINT",number:2,action:"terminate",description:"User interruption with CTRL-C",standard:"ansi"},{name:"SIGQUIT",number:3,action:"core",description:"User interruption with CTRL-\\",standard:"posix"},{name:"SIGILL",number:4,action:"core",description:"Invalid machine instruction",standard:"ansi"},{name:"SIGTRAP",number:5,action:"core",description:"Debugger breakpoint",standard:"posix"},{name:"SIGABRT",number:6,action:"core",description:"Aborted",standard:"ansi"},{name:"SIGIOT",number:6,action:"core",description:"Aborted",standard:"bsd"},{name:"SIGBUS",number:7,action:"core",description:"Bus error due to misaligned, non-existing address or paging error",standard:"bsd"},{name:"SIGEMT",number:7,action:"terminate",description:"Command should be emulated but is not implemented",standard:"other"},{name:"SIGFPE",number:8,action:"core",description:"Floating point arithmetic error",standard:"ansi"},{name:"SIGKILL",number:9,action:"terminate",description:"Forced termination",standard:"posix",forced:!0},{name:"SIGUSR1",number:10,action:"terminate",description:"Application-specific signal",standard:"posix"},{name:"SIGSEGV",number:11,action:"core",description:"Segmentation fault",standard:"ansi"},{name:"SIGUSR2",number:12,action:"terminate",description:"Application-specific signal",standard:"posix"},{name:"SIGPIPE",number:13,action:"terminate",description:"Broken pipe or socket",standard:"posix"},{name:"SIGALRM",number:14,action:"terminate",description:"Timeout or timer",standard:"posix"},{name:"SIGTERM",number:15,action:"terminate",description:"Termination",standard:"ansi"},{name:"SIGSTKFLT",number:16,action:"terminate",description:"Stack is empty or overflowed",standard:"other"},{name:"SIGCHLD",number:17,action:"ignore",description:"Child process terminated, paused or unpaused",standard:"posix"},{name:"SIGCLD",number:17,action:"ignore",description:"Child process terminated, paused or unpaused",standard:"other"},{name:"SIGCONT",number:18,action:"unpause",description:"Unpaused",standard:"posix",forced:!0},{name:"SIGSTOP",number:19,action:"pause",description:"Paused",standard:"posix",forced:!0},{name:"SIGTSTP",number:20,action:"pause",description:'Paused using CTRL-Z or "suspend"',standard:"posix"},{name:"SIGTTIN",number:21,action:"pause",description:"Background process cannot read terminal input",standard:"posix"},{name:"SIGBREAK",number:21,action:"terminate",description:"User interruption with CTRL-BREAK",standard:"other"},{name:"SIGTTOU",number:22,action:"pause",description:"Background process cannot write to terminal output",standard:"posix"},{name:"SIGURG",number:23,action:"ignore",description:"Socket received out-of-band data",standard:"bsd"},{name:"SIGXCPU",number:24,action:"core",description:"Process timed out",standard:"bsd"},{name:"SIGXFSZ",number:25,action:"core",description:"File too big",standard:"bsd"},{name:"SIGVTALRM",number:26,action:"terminate",description:"Timeout or timer",standard:"bsd"},{name:"SIGPROF",number:27,action:"terminate",description:"Timeout or timer",standard:"bsd"},{name:"SIGWINCH",number:28,action:"ignore",description:"Terminal window size changed",standard:"bsd"},{name:"SIGIO",number:29,action:"terminate",description:"I/O is available",standard:"other"},{name:"SIGPOLL",number:29,action:"terminate",description:"Watched event",standard:"other"},{name:"SIGINFO",number:29,action:"ignore",description:"Request for process information",standard:"other"},{name:"SIGPWR",number:30,action:"terminate",description:"Device running out of power",standard:"systemv"},{name:"SIGSYS",number:31,action:"core",description:"Invalid system call",standard:"other"},{name:"SIGUNUSED",number:31,action:"terminate",description:"Invalid system call",standard:"other"}];var eo=()=>{let e=Wa();return[...Ha,...e].map(Jp)},Jp=({name:e,number:t,description:r,action:n,forced:o=!1,standard:s})=>{let{signals:{[e]:i}}=Kp,a=i!==void 0;return{name:e,number:a?i:t,description:r,supported:a,action:n,forced:o,standard:s}};var Zp=()=>{let e=eo();return Object.fromEntries(e.map(Qp))},Qp=({name:e,number:t,description:r,supported:n,action:o,forced:s,standard:i})=>[e,{name:e,number:t,description:r,supported:n,action:o,forced:s,standard:i}],za=Zp(),eD=()=>{let e=eo(),t=65,r=Array.from({length:t},(n,o)=>tD(o,e));return Object.assign({},...r)},tD=(e,t)=>{let r=rD(e,t);if(r===void 0)return{};let{name:n,description:o,supported:s,action:i,forced:a,standard:u}=r;return{[e]:{name:n,number:e,description:o,supported:s,action:i,forced:a,standard:u}}},rD=(e,t)=>{let r=t.find(({name:n})=>Xp.signals[n]===e);return r!==void 0?r:t.find(n=>n.number===e)},tF=eD();var Ya=e=>{let t="option `killSignal`";if(e===0)throw new TypeError(`Invalid ${t}: 0 cannot be used.`);return Ja(e,t)},Ka=e=>e===0?e:Ja(e,"`subprocess.kill()`'s argument"),Ja=(e,t)=>{if(Number.isInteger(e))return nD(e,t);if(typeof e=="string")return iD(e,t);throw new TypeError(`Invalid ${t} ${String(e)}: it must be a string or an integer.
${to()}`)},nD=(e,t)=>{if(qa.has(e))return qa.get(e);throw new TypeError(`Invalid ${t} ${e}: this signal integer does not exist.
${to()}`)},oD=()=>new Map(Object.entries(ft.signals).reverse().map(([e,t])=>[t,e])),qa=oD(),iD=(e,t)=>{if(e in ft.signals)return e;throw e.toUpperCase()in ft.signals?new TypeError(`Invalid ${t} '${e}': please rename it to '${e.toUpperCase()}'.`):new TypeError(`Invalid ${t} '${e}': this signal name does not exist.
${to()}`)},to=()=>`Available signal names: ${sD()}.
Available signal numbers: ${aD()}.`,sD=()=>Object.keys(ft.signals).sort().map(e=>`'${e}'`).join(", "),aD=()=>[...new Set(Object.values(ft.signals).sort((e,t)=>e-t))].join(", "),cr=e=>za[e].description;var Xa=e=>{if(e===!1)return e;if(e===!0)return cD;if(!Number.isFinite(e)||e<0)throw new TypeError(`Expected the \`forceKillAfterDelay\` option to be a non-negative integer, got \`${e}\` (${typeof e})`);return e},cD=1e3*5,Za=({kill:e,options:{forceKillAfterDelay:t,killSignal:r},onInternalError:n,context:o,controller:s},i,a)=>{let{signal:u,error:c}=lD(i,a,r);dD(c,n);let l=e(u);return fD({kill:e,signal:u,forceKillAfterDelay:t,killSignal:r,killResult:l,context:o,controller:s}),l},lD=(e,t,r)=>{let[n=r,o]=ur(e)?[void 0,e]:[e,t];if(typeof n!="string"&&!Number.isInteger(n))throw new TypeError(`The first argument must be an error instance or a signal name string/integer: ${String(n)}`);if(o!==void 0&&!ur(o))throw new TypeError(`The second argument is optional. If specified, it must be an error instance: ${o}`);return{signal:Ka(n),error:o}},dD=(e,t)=>{e!==void 0&&t.reject(e)},fD=async({kill:e,signal:t,forceKillAfterDelay:r,killSignal:n,killResult:o,context:s,controller:i})=>{t===n&&o&&ro({kill:e,forceKillAfterDelay:r,context:s,controllerSignal:i.signal})},ro=async({kill:e,forceKillAfterDelay:t,context:r,controllerSignal:n})=>{if(t!==!1)try{await uD(t,void 0,{signal:n}),e("SIGKILL")&&(r.isForcefullyTerminated??=!0)}catch{}};import{once as mD}from"events";var lr=async(e,t)=>{e.aborted||await mD(e,"abort",{signal:t})};var Qa=({cancelSignal:e})=>{if(e!==void 0&&Object.prototype.toString.call(e)!=="[object AbortSignal]")throw new Error(`The \`cancelSignal\` option must be an AbortSignal: ${String(e)}`)},eu=({subprocess:e,cancelSignal:t,gracefulCancel:r,context:n,controller:o})=>t===void 0||r?[]:[pD(e,t,n,o)],pD=async(e,t,r,{signal:n})=>{throw await lr(t,n),r.terminationReason??="cancel",e.kill(),t.reason};import{scheduler as MD}from"timers/promises";import{promisify as BD}from"util";var We=({methodName:e,isSubprocess:t,ipc:r,isConnected:n})=>{DD(e,t,r),no(e,t,n)},DD=(e,t,r)=>{if(!r)throw new Error(`${X(e,t)} can only be used if the \`ipc\` option is \`true\`.`)},no=(e,t,r)=>{if(!r)throw new Error(`${X(e,t)} cannot be used: the ${be(t)} has already exited or disconnected.`)},tu=e=>{throw new Error(`${X("getOneMessage",e)} could not complete: the ${be(e)} exited or disconnected.`)},ru=e=>{throw new Error(`${X("sendMessage",e)} failed: the ${be(e)} is sending a message too, instead of listening to incoming messages.
This can be fixed by both sending a message and listening to incoming messages at the same time:

const [receivedMessage] = await Promise.all([
	${X("getOneMessage",e)},
	${X("sendMessage",e,"message, {strict: true}")},
]);`)},dr=(e,t)=>new Error(`${X("sendMessage",t)} failed when sending an acknowledgment response to the ${be(t)}.`,{cause:e}),nu=e=>{throw new Error(`${X("sendMessage",e)} failed: the ${be(e)} is not listening to incoming messages.`)},ou=e=>{throw new Error(`${X("sendMessage",e)} failed: the ${be(e)} exited without listening to incoming messages.`)},iu=()=>new Error(`\`cancelSignal\` aborted: the ${be(!0)} disconnected.`),su=()=>{throw new Error("`getCancelSignal()` cannot be used without setting the `cancelSignal` subprocess option.")},au=({error:e,methodName:t,isSubprocess:r})=>{if(e.code==="EPIPE")throw new Error(`${X(t,r)} cannot be used: the ${be(r)} is disconnecting.`,{cause:e})},uu=({error:e,methodName:t,isSubprocess:r,message:n})=>{if(hD(e))throw new Error(`${X(t,r)}'s argument type is invalid: the message cannot be serialized: ${String(n)}.`,{cause:e})},hD=({code:e,message:t})=>gD.has(e)||bD.some(r=>t.includes(r)),gD=new Set(["ERR_MISSING_ARGS","ERR_INVALID_ARG_TYPE"]),bD=["could not be cloned","circular structure","call stack size exceeded"],X=(e,t,r="")=>e==="cancelSignal"?"`cancelSignal`'s `controller.abort()`":`${CD(t)}${e}(${r})`,CD=e=>e?"":"subprocess.",be=e=>e?"parent process":"subprocess",Ve=e=>{e.connected&&e.disconnect()};var re=()=>{let e={},t=new Promise((r,n)=>{Object.assign(e,{resolve:r,reject:n})});return Object.assign(t,e)};var mr=(e,t="stdin")=>{let{options:n,fileDescriptors:o}=ne.get(e),s=cu(o,t,!0),i=e.stdio[s];if(i===null)throw new TypeError(lu(s,t,n,!0));return i},Ge=(e,t="stdout")=>{let{options:n,fileDescriptors:o}=ne.get(e),s=cu(o,t,!1),i=s==="all"?e.all:e.stdio[s];if(i==null)throw new TypeError(lu(s,t,n,!1));return i},ne=new WeakMap,cu=(e,t,r)=>{let n=ED(t,r);return yD(n,t,r,e),n},ED=(e,t)=>{let r=Nn(e);if(r!==void 0)return r;let{validOptions:n,defaultValue:o}=t?{validOptions:'"stdin"',defaultValue:"stdin"}:{validOptions:'"stdout", "stderr", "all"',defaultValue:"stdout"};throw new TypeError(`"${mt(t)}" must not be "${e}".
It must be ${n} or "fd3", "fd4" (and so on).
It is optional and defaults to "${o}".`)},yD=(e,t,r,n)=>{let o=n[du(e)];if(o===void 0)throw new TypeError(`"${mt(r)}" must not be ${t}. That file descriptor does not exist.
Please set the "stdio" option to ensure that file descriptor exists.`);if(o.direction==="input"&&!r)throw new TypeError(`"${mt(r)}" must not be ${t}. It must be a readable stream, not writable.`);if(o.direction!=="input"&&r)throw new TypeError(`"${mt(r)}" must not be ${t}. It must be a writable stream, not readable.`)},lu=(e,t,r,n)=>{if(e==="all"&&!r.all)return`The "all" option must be true to use "from: 'all'".`;let{optionName:o,optionValue:s}=xD(e,r);return`The "${o}: ${fr(s)}" option is incompatible with using "${mt(n)}: ${fr(t)}".
Please set this option with "pipe" instead.`},xD=(e,{stdin:t,stdout:r,stderr:n,stdio:o})=>{let s=du(e);return s===0&&t!==void 0?{optionName:"stdin",optionValue:t}:s===1&&r!==void 0?{optionName:"stdout",optionValue:r}:s===2&&n!==void 0?{optionName:"stderr",optionValue:n}:{optionName:`stdio[${s}]`,optionValue:o[s]}},du=e=>e==="all"?1:e,mt=e=>e?"to":"from",fr=e=>typeof e=="string"?`'${e}'`:typeof e=="number"?`${e}`:"Stream";import{once as OD}from"events";import{addAbortListener as wD}from"events";var Oe=(e,t,r)=>{let n=e.getMaxListeners();n===0||n===Number.POSITIVE_INFINITY||(e.setMaxListeners(n+t),wD(r,()=>{e.setMaxListeners(e.getMaxListeners()-t)}))};import{EventEmitter as AD}from"events";import{once as FD}from"events";import{scheduler as SD}from"timers/promises";var pr=(e,t)=>{t&&oo(e)},oo=e=>{e.refCounted()},Dr=(e,t)=>{t&&io(e)},io=e=>{e.unrefCounted()},fu=(e,t)=>{t&&(io(e),io(e))},mu=(e,t)=>{t&&(oo(e),oo(e))};var pu=async({anyProcess:e,channel:t,isSubprocess:r,ipcEmitter:n},o)=>{if(gu(o)||Cu(o))return;hr.has(e)||hr.set(e,[]);let s=hr.get(e);if(s.push(o),!(s.length>1))for(;s.length>0;){await bu(e,n,o),await SD.yield();let i=await hu({wrappedMessage:s[0],anyProcess:e,channel:t,isSubprocess:r,ipcEmitter:n});s.shift(),n.emit("message",i),n.emit("message:done")}},Du=async({anyProcess:e,channel:t,isSubprocess:r,ipcEmitter:n,boundOnMessage:o})=>{so();let s=hr.get(e);for(;s?.length>0;)await FD(n,"message:done");e.removeListener("message",o),mu(t,r),n.connected=!1,n.emit("disconnect")},hr=new WeakMap;var Ce=(e,t,r)=>{if(gr.has(e))return gr.get(e);let n=new AD;return n.connected=!0,gr.set(e,n),_D({ipcEmitter:n,anyProcess:e,channel:t,isSubprocess:r}),n},gr=new WeakMap,_D=({ipcEmitter:e,anyProcess:t,channel:r,isSubprocess:n})=>{let o=pu.bind(void 0,{anyProcess:t,channel:r,isSubprocess:n,ipcEmitter:e});t.on("message",o),t.once("disconnect",Du.bind(void 0,{anyProcess:t,channel:r,isSubprocess:n,ipcEmitter:e,boundOnMessage:o})),fu(r,n)},br=e=>{let t=gr.get(e);return t===void 0?e.channel!==null:t.connected};var Eu=({anyProcess:e,channel:t,isSubprocess:r,message:n,strict:o})=>{if(!o)return n;let s=Ce(e,t,r),i=yr(e,s);return{id:TD++,type:Er,message:n,hasListeners:i}},TD=0n,yu=(e,t)=>{if(!(t?.type!==Er||t.hasListeners))for(let{id:r}of e)r!==void 0&&Cr[r].resolve({isDeadlock:!0,hasListeners:!1})},hu=async({wrappedMessage:e,anyProcess:t,channel:r,isSubprocess:n,ipcEmitter:o})=>{if(e?.type!==Er||!t.connected)return e;let{id:s,message:i}=e,a={id:s,type:wu,message:yr(t,o)};try{await xr({anyProcess:t,channel:r,isSubprocess:n,ipc:!0},a)}catch(u){o.emit("strict:error",u)}return i},gu=e=>{if(e?.type!==wu)return!1;let{id:t,message:r}=e;return Cr[t]?.resolve({isDeadlock:!1,hasListeners:r}),!0},xu=async(e,t,r)=>{if(e?.type!==Er)return;let n=re();Cr[e.id]=n;let o=new AbortController;try{let{isDeadlock:s,hasListeners:i}=await Promise.race([n,vD(t,r,o)]);s&&ru(r),i||nu(r)}finally{o.abort(),delete Cr[e.id]}},Cr={},vD=async(e,t,{signal:r})=>{Oe(e,1,r),await OD(e,"disconnect",{signal:r}),ou(t)},Er="execa:ipc:request",wu="execa:ipc:response";var Fu=(e,t,r)=>{pt.has(e)||pt.set(e,new Set);let n=pt.get(e),o=re(),s=r?t.id:void 0,i={onMessageSent:o,id:s};return n.add(i),{outgoingMessages:n,outgoingMessage:i}},Su=({outgoingMessages:e,outgoingMessage:t})=>{e.delete(t),t.onMessageSent.resolve()},bu=async(e,t,r)=>{for(;!yr(e,t)&&pt.get(e)?.size>0;){let n=[...pt.get(e)];yu(n,r),await Promise.all(n.map(({onMessageSent:o})=>o))}},pt=new WeakMap,yr=(e,t)=>t.listenerCount("message")>$D(e),$D=e=>ne.has(e)&&!le(ne.get(e).options.buffer,"ipc")?1:0;var xr=({anyProcess:e,channel:t,isSubprocess:r,ipc:n},o,{strict:s=!1}={})=>{let i="sendMessage";return We({methodName:i,isSubprocess:r,ipc:n,isConnected:e.connected}),ID({anyProcess:e,channel:t,methodName:i,isSubprocess:r,message:o,strict:s})},ID=async({anyProcess:e,channel:t,methodName:r,isSubprocess:n,message:o,strict:s})=>{let i=Eu({anyProcess:e,channel:t,isSubprocess:n,message:o,strict:s}),a=Fu(e,i,s);try{await uo({anyProcess:e,methodName:r,isSubprocess:n,wrappedMessage:i,message:o})}catch(u){throw Ve(e),u}finally{Su(a)}},uo=async({anyProcess:e,methodName:t,isSubprocess:r,wrappedMessage:n,message:o})=>{let s=RD(e);try{await Promise.all([xu(n,e,r),s(n)])}catch(i){throw au({error:i,methodName:t,isSubprocess:r}),uu({error:i,methodName:t,isSubprocess:r,message:o}),i}},RD=e=>{if(ao.has(e))return ao.get(e);let t=BD(e.send.bind(e));return ao.set(e,t),t},ao=new WeakMap;var _u=(e,t)=>{let r="cancelSignal";return no(r,!1,e.connected),uo({anyProcess:e,methodName:r,isSubprocess:!1,wrappedMessage:{type:Tu,message:t},message:t})},Ou=async({anyProcess:e,channel:t,isSubprocess:r,ipc:n})=>(await PD({anyProcess:e,channel:t,isSubprocess:r,ipc:n}),co.signal),PD=async({anyProcess:e,channel:t,isSubprocess:r,ipc:n})=>{if(!Au){if(Au=!0,!n){su();return}if(t===null){so();return}Ce(e,t,r),await MD.yield()}},Au=!1,Cu=e=>e?.type!==Tu?!1:(co.abort(e.message),!0),Tu="execa:ipc:cancel",so=()=>{co.abort(iu())},co=new AbortController;var vu=({gracefulCancel:e,cancelSignal:t,ipc:r,serialization:n})=>{if(e){if(t===void 0)throw new Error("The `cancelSignal` option must be defined when setting the `gracefulCancel` option.");if(!r)throw new Error("The `ipc` option cannot be false when setting the `gracefulCancel` option.");if(n==="json")throw new Error("The `serialization` option cannot be 'json' when setting the `gracefulCancel` option.")}},$u=({subprocess:e,cancelSignal:t,gracefulCancel:r,forceKillAfterDelay:n,context:o,controller:s})=>r?[LD({subprocess:e,cancelSignal:t,forceKillAfterDelay:n,context:o,controller:s})]:[],LD=async({subprocess:e,cancelSignal:t,forceKillAfterDelay:r,context:n,controller:{signal:o}})=>{await lr(t,o);let s=kD(t);throw await _u(e,s),ro({kill:e.kill,forceKillAfterDelay:r,context:n,controllerSignal:o}),n.terminationReason??="gracefulCancel",t.reason},kD=({reason:e})=>{if(!(e instanceof DOMException))return e;let t=new Error(e.message);return Object.defineProperty(t,"stack",{value:e.stack,enumerable:!1,configurable:!0,writable:!0}),t};import{setTimeout as jD}from"timers/promises";var Bu=({timeout:e})=>{if(e!==void 0&&(!Number.isFinite(e)||e<0))throw new TypeError(`Expected the \`timeout\` option to be a non-negative integer, got \`${e}\` (${typeof e})`)},Iu=(e,t,r,n)=>t===0||t===void 0?[]:[ND(e,t,r,n)],ND=async(e,t,r,{signal:n})=>{throw await jD(t,void 0,{signal:n}),r.terminationReason??="timeout",e.kill(),new J};import{execPath as UD,execArgv as WD}from"process";import Ru from"path";var Mu=({options:e})=>{if(e.node===!1)throw new TypeError('The "node" option cannot be false with `execaNode()`.');return{options:{...e,node:!0}}},Pu=(e,t,{node:r=!1,nodePath:n=UD,nodeOptions:o=WD.filter(u=>!u.startsWith("--inspect")),cwd:s,execPath:i,...a})=>{if(i!==void 0)throw new TypeError('The "execPath" option has been removed. Please use the "nodePath" option instead.');let u=Le(n,'The "nodePath" option'),c=Ru.resolve(s,u),l={...a,nodePath:c,node:r,cwd:s};if(!r)return[e,t,l];if(Ru.basename(e,".exe")==="node")throw new TypeError('When the "node" option is true, the first argument does not need to be "node".');return[c,[...o,e,...t],{ipc:!0,...l,shell:!1}]};import{serialize as VD}from"v8";var Lu=({ipcInput:e,ipc:t,serialization:r})=>{if(e!==void 0){if(!t)throw new Error("The `ipcInput` option cannot be set unless the `ipc` option is `true`.");zD[r](e)}},GD=e=>{try{VD(e)}catch(t){throw new Error("The `ipcInput` option is not serializable with a structured clone.",{cause:t})}},HD=e=>{try{JSON.stringify(e)}catch(t){throw new Error("The `ipcInput` option is not serializable with JSON.",{cause:t})}},zD={advanced:GD,json:HD},ku=async(e,t)=>{t!==void 0&&await e.sendMessage(t)};var Nu=({encoding:e})=>{if(lo.has(e))return;let t=YD(e);if(t!==void 0)throw new TypeError(`Invalid option \`encoding: ${wr(e)}\`.
Please rename it to ${wr(t)}.`);let r=[...lo].map(n=>wr(n)).join(", ");throw new TypeError(`Invalid option \`encoding: ${wr(e)}\`.
Please rename it to one of: ${r}.`)},qD=new Set(["utf8","utf16le"]),U=new Set(["buffer","hex","base64","base64url","latin1","ascii"]),lo=new Set([...qD,...U]),YD=e=>{if(e===null)return"buffer";if(typeof e!="string")return;let t=e.toLowerCase();if(t in ju)return ju[t];if(lo.has(t))return t},ju={"utf-8":"utf8","utf-16le":"utf16le","ucs-2":"utf16le",ucs2:"utf16le",binary:"latin1"},wr=e=>typeof e=="string"?`"${e}"`:String(e);import{statSync as KD}from"fs";import JD from"path";import XD from"process";var Uu=(e=Wu())=>{let t=Le(e,'The "cwd" option');return JD.resolve(t)},Wu=()=>{try{return XD.cwd()}catch(e){throw e.message=`The current directory does not exist.
${e.message}`,e}},Vu=(e,t)=>{if(t===Wu())return e;let r;try{r=KD(t)}catch(n){return`The "cwd" option is invalid: ${t}.
${n.message}
${e}`}return r.isDirectory()?e:`The "cwd" option is not a directory: ${t}.
${e}`};var Fr=(e,t,r)=>{r.cwd=Uu(r.cwd);let[n,o,s]=Pu(e,t,r),{command:i,args:a,options:u}=Hu.default._parse(n,o,s),c=vs(u),l=QD(c);return Bu(l),Nu(l),Lu(l),Qa(l),vu(l),l.shell=Pn(l.shell),l.env=eh(l),l.killSignal=Ya(l.killSignal),l.forceKillAfterDelay=Xa(l.forceKillAfterDelay),l.lines=l.lines.map((d,f)=>d&&!U.has(l.encoding)&&l.buffer[f]),Gu.platform==="win32"&&ZD.basename(i,".exe")==="cmd"&&a.unshift("/q"),{file:i,commandArguments:a,options:l}},QD=({extendEnv:e=!0,preferLocal:t=!1,cwd:r,localDir:n=r,encoding:o="utf8",reject:s=!0,cleanup:i=!0,all:a=!1,windowsHide:u=!0,killSignal:c="SIGTERM",forceKillAfterDelay:l=!0,gracefulCancel:d=!1,ipcInput:f,ipc:m=f!==void 0||d,serialization:D="advanced",...b})=>({...b,extendEnv:e,preferLocal:t,cwd:r,localDirectory:n,encoding:o,reject:s,cleanup:i,all:a,windowsHide:u,killSignal:c,forceKillAfterDelay:l,gracefulCancel:d,ipcInput:f,ipc:m,serialization:D}),eh=({env:e,extendEnv:t,preferLocal:r,node:n,localDirectory:o,nodePath:s})=>{let i=t?{...Gu.env,...e}:e;return r||n?La({env:i,cwd:o,execPath:s,preferLocal:r,addExecPath:n}):i};var Sr=(e,t,r)=>r.shell&&t.length>0?[[e,...t].join(" "),[],r]:[e,t,r];import{inspect as Rh}from"util";function He(e){if(typeof e=="string")return th(e);if(!(ArrayBuffer.isView(e)&&e.BYTES_PER_ELEMENT===1))throw new Error("Input must be a string or a Uint8Array");return rh(e)}var th=e=>e.at(-1)===zu?e.slice(0,e.at(-2)===qu?-2:-1):e,rh=e=>e.at(-1)===nh?e.subarray(0,e.at(-2)===oh?-2:-1):e,zu=`
`,nh=zu.codePointAt(0),qu="\r",oh=qu.codePointAt(0);import{on as vh}from"events";import{finished as $h}from"stream/promises";function Z(e,{checkOpen:t=!0}={}){return e!==null&&typeof e=="object"&&(e.writable||e.readable||!t||e.writable===void 0&&e.readable===void 0)&&typeof e.pipe=="function"}function fo(e,{checkOpen:t=!0}={}){return Z(e,{checkOpen:t})&&(e.writable||!t)&&typeof e.write=="function"&&typeof e.end=="function"&&typeof e.writable=="boolean"&&typeof e.writableObjectMode=="boolean"&&typeof e.destroy=="function"&&typeof e.destroyed=="boolean"}function Te(e,{checkOpen:t=!0}={}){return Z(e,{checkOpen:t})&&(e.readable||!t)&&typeof e.read=="function"&&typeof e.readable=="boolean"&&typeof e.readableObjectMode=="boolean"&&typeof e.destroy=="function"&&typeof e.destroyed=="boolean"}function mo(e,t){return fo(e,t)&&Te(e,t)}var ih=Object.getPrototypeOf(Object.getPrototypeOf(async function*(){}).prototype),po=class{#t;#r;#e=!1;#n=void 0;constructor(t,r){this.#t=t,this.#r=r}next(){let t=()=>this.#i();return this.#n=this.#n?this.#n.then(t,t):t(),this.#n}return(t){let r=()=>this.#o(t);return this.#n?this.#n.then(r,r):r()}async#i(){if(this.#e)return{done:!0,value:void 0};let t;try{t=await this.#t.read()}catch(r){throw this.#n=void 0,this.#e=!0,this.#t.releaseLock(),r}return t.done&&(this.#n=void 0,this.#e=!0,this.#t.releaseLock()),t}async#o(t){if(this.#e)return{done:!0,value:t};if(this.#e=!0,!this.#r){let r=this.#t.cancel(t);return this.#t.releaseLock(),await r,{done:!0,value:t}}return this.#t.releaseLock(),{done:!0,value:t}}},Do=Symbol();function Yu(){return this[Do].next()}Object.defineProperty(Yu,"name",{value:"next"});function Ku(e){return this[Do].return(e)}Object.defineProperty(Ku,"name",{value:"return"});var sh=Object.create(ih,{next:{enumerable:!0,configurable:!0,writable:!0,value:Yu},return:{enumerable:!0,configurable:!0,writable:!0,value:Ku}});function ho({preventCancel:e=!1}={}){let t=this.getReader(),r=new po(t,e),n=Object.create(sh);return n[Do]=r,n}var Ju=e=>{if(Te(e,{checkOpen:!1})&&Dt.on!==void 0)return uh(e);if(typeof e?.[Symbol.asyncIterator]=="function")return e;if(ah.call(e)==="[object ReadableStream]")return ho.call(e);throw new TypeError("The first argument must be a Readable, a ReadableStream, or an async iterable.")},{toString:ah}=Object.prototype,uh=async function*(e){let t=new AbortController,r={};ch(e,t,r);try{for await(let[n]of Dt.on(e,"data",{signal:t.signal}))yield n}catch(n){if(r.error!==void 0)throw r.error;if(!t.signal.aborted)throw n}finally{e.destroy()}},ch=async(e,t,r)=>{try{await Dt.finished(e,{cleanup:!0,readable:!0,writable:!1,error:!1})}catch(n){r.error=n}finally{t.abort()}},Dt={};var ze=async(e,{init:t,convertChunk:r,getSize:n,truncateChunk:o,addChunk:s,getFinalChunk:i,finalize:a},{maxBuffer:u=Number.POSITIVE_INFINITY}={})=>{let c=Ju(e),l=t();l.length=0;try{for await(let d of c){let f=dh(d),m=r[f](d,l);Qu({convertedChunk:m,state:l,getSize:n,truncateChunk:o,addChunk:s,maxBuffer:u})}return lh({state:l,convertChunk:r,getSize:n,truncateChunk:o,addChunk:s,getFinalChunk:i,maxBuffer:u}),a(l)}catch(d){let f=typeof d=="object"&&d!==null?d:new Error(d);throw f.bufferedData=a(l),f}},lh=({state:e,getSize:t,truncateChunk:r,addChunk:n,getFinalChunk:o,maxBuffer:s})=>{let i=o(e);i!==void 0&&Qu({convertedChunk:i,state:e,getSize:t,truncateChunk:r,addChunk:n,maxBuffer:s})},Qu=({convertedChunk:e,state:t,getSize:r,truncateChunk:n,addChunk:o,maxBuffer:s})=>{let i=r(e),a=t.length+i;if(a<=s){Xu(e,t,o,a);return}let u=n(e,s-t.length);throw u!==void 0&&Xu(u,t,o,s),new oe},Xu=(e,t,r,n)=>{t.contents=r(e,t,n),t.length=n},dh=e=>{let t=typeof e;if(t==="string")return"string";if(t!=="object"||e===null)return"others";if(globalThis.Buffer?.isBuffer(e))return"buffer";let r=Zu.call(e);return r==="[object ArrayBuffer]"?"arrayBuffer":r==="[object DataView]"?"dataView":Number.isInteger(e.byteLength)&&Number.isInteger(e.byteOffset)&&Zu.call(e.buffer)==="[object ArrayBuffer]"?"typedArray":"others"},{toString:Zu}=Object.prototype,oe=class extends Error{name="MaxBufferError";constructor(){super("maxBuffer exceeded")}};var de=e=>e,ht=()=>{},Ar=({contents:e})=>e,_r=e=>{throw new Error(`Streams in object mode are not supported: ${String(e)}`)},Or=e=>e.length;async function Tr(e,t){return ze(e,Dh,t)}var fh=()=>({contents:[]}),mh=()=>1,ph=(e,{contents:t})=>(t.push(e),t),Dh={init:fh,convertChunk:{string:de,buffer:de,arrayBuffer:de,dataView:de,typedArray:de,others:de},getSize:mh,truncateChunk:ht,addChunk:ph,getFinalChunk:ht,finalize:Ar};async function vr(e,t){return ze(e,Fh,t)}var hh=()=>({contents:new ArrayBuffer(0)}),gh=e=>bh.encode(e),bh=new TextEncoder,ec=e=>new Uint8Array(e),tc=e=>new Uint8Array(e.buffer,e.byteOffset,e.byteLength),Ch=(e,t)=>e.slice(0,t),Eh=(e,{contents:t,length:r},n)=>{let o=oc()?xh(t,n):yh(t,n);return new Uint8Array(o).set(e,r),o},yh=(e,t)=>{if(t<=e.byteLength)return e;let r=new ArrayBuffer(nc(t));return new Uint8Array(r).set(new Uint8Array(e),0),r},xh=(e,t)=>{if(t<=e.maxByteLength)return e.resize(t),e;let r=new ArrayBuffer(t,{maxByteLength:nc(t)});return new Uint8Array(r).set(new Uint8Array(e),0),r},nc=e=>rc**Math.ceil(Math.log(e)/Math.log(rc)),rc=2,wh=({contents:e,length:t})=>oc()?e:e.slice(0,t),oc=()=>"resize"in ArrayBuffer.prototype,Fh={init:hh,convertChunk:{string:gh,buffer:ec,arrayBuffer:ec,dataView:tc,typedArray:tc,others:_r},getSize:Or,truncateChunk:Ch,addChunk:Eh,getFinalChunk:ht,finalize:wh};async function Br(e,t){return ze(e,Th,t)}var Sh=()=>({contents:"",textDecoder:new TextDecoder}),$r=(e,{textDecoder:t})=>t.decode(e,{stream:!0}),Ah=(e,{contents:t})=>t+e,_h=(e,t)=>e.slice(0,t),Oh=({textDecoder:e})=>{let t=e.decode();return t===""?void 0:t},Th={init:Sh,convertChunk:{string:de,buffer:$r,arrayBuffer:$r,dataView:$r,typedArray:$r,others:_r},getSize:Or,truncateChunk:_h,addChunk:Ah,getFinalChunk:Oh,finalize:Ar};Object.assign(Dt,{on:vh,finished:$h});var ic=({error:e,stream:t,readableObjectMode:r,lines:n,encoding:o,fdNumber:s})=>{if(!(e instanceof oe))throw e;if(s==="all")return e;let i=Bh(r,n,o);throw e.maxBufferInfo={fdNumber:s,unit:i},t.destroy(),e},Bh=(e,t,r)=>e?"objects":t?"lines":r==="buffer"?"bytes":"characters",sc=(e,t,r)=>{if(t.length!==r)return;let n=new oe;throw n.maxBufferInfo={fdNumber:"ipc"},n},ac=(e,t)=>{let{streamName:r,threshold:n,unit:o}=Ih(e,t);return`Command's ${r} was larger than ${n} ${o}`},Ih=(e,t)=>{if(e?.maxBufferInfo===void 0)return{streamName:"output",threshold:t[1],unit:"bytes"};let{maxBufferInfo:{fdNumber:r,unit:n}}=e;delete e.maxBufferInfo;let o=le(t,r);return r==="ipc"?{streamName:"IPC output",threshold:o,unit:"messages"}:{streamName:Kt(r),threshold:o,unit:n}},uc=(e,t,r)=>e?.code==="ENOBUFS"&&t!==null&&t.some(n=>n!==null&&n.length>Ir(r)),cc=(e,t,r)=>{if(!t)return e;let n=Ir(r);return e.length>n?e.slice(0,n):e},Ir=([,e])=>e;var dc=({stdio:e,all:t,ipcOutput:r,originalError:n,signal:o,signalDescription:s,exitCode:i,escapedCommand:a,timedOut:u,isCanceled:c,isGracefullyCanceled:l,isMaxBuffer:d,isForcefullyTerminated:f,forceKillAfterDelay:m,killSignal:D,maxBuffer:b,timeout:F,cwd:E})=>{let v=n?.code,R=Mh({originalError:n,timedOut:u,timeout:F,isMaxBuffer:d,maxBuffer:b,errorCode:v,signal:o,signalDescription:s,exitCode:i,isCanceled:c,isGracefullyCanceled:l,isForcefullyTerminated:f,forceKillAfterDelay:m,killSignal:D}),y=Lh(n,E),A=y===void 0?"":`
${y}`,B=`${R}: ${a}${A}`,k=t===void 0?[e[2],e[1]]:[t],pe=[B,...k,...e.slice(3),r.map(De=>kh(De)).join(`
`)].map(De=>ct(He(jh(De)))).filter(Boolean).join(`

`);return{originalMessage:y,shortMessage:B,message:pe}},Mh=({originalError:e,timedOut:t,timeout:r,isMaxBuffer:n,maxBuffer:o,errorCode:s,signal:i,signalDescription:a,exitCode:u,isCanceled:c,isGracefullyCanceled:l,isForcefullyTerminated:d,forceKillAfterDelay:f,killSignal:m})=>{let D=Ph(d,f);return t?`Command timed out after ${r} milliseconds${D}`:l?i===void 0?`Command was gracefully canceled with exit code ${u}`:d?`Command was gracefully canceled${D}`:`Command was gracefully canceled with ${i} (${a})`:c?`Command was canceled${D}`:n?`${ac(e,o)}${D}`:s!==void 0?`Command failed with ${s}${D}`:d?`Command was killed with ${m} (${cr(m)})${D}`:i!==void 0?`Command was killed with ${i} (${a})`:u!==void 0?`Command failed with exit code ${u}`:"Command failed"},Ph=(e,t)=>e?` and was forcefully terminated after ${t} milliseconds`:"",Lh=(e,t)=>{if(e instanceof J)return;let r=Na(e)?e.originalMessage:String(e?.message??e),n=ct(Vu(r,t));return n===""?void 0:n},kh=e=>typeof e=="string"?e:Rh(e),jh=e=>Array.isArray(e)?e.map(t=>He(lc(t))).filter(Boolean).join(`
`):lc(e),lc=e=>typeof e=="string"?e:I(e)?qt(e):"";var Rr=({command:e,escapedCommand:t,stdio:r,all:n,ipcOutput:o,options:{cwd:s},startTime:i})=>fc({command:e,escapedCommand:t,cwd:s,durationMs:Gn(i),failed:!1,timedOut:!1,isCanceled:!1,isGracefullyCanceled:!1,isTerminated:!1,isMaxBuffer:!1,isForcefullyTerminated:!1,exitCode:0,stdout:r[1],stderr:r[2],all:n,stdio:r,ipcOutput:o,pipedFrom:[]}),qe=({error:e,command:t,escapedCommand:r,fileDescriptors:n,options:o,startTime:s,isSync:i})=>gt({error:e,command:t,escapedCommand:r,startTime:s,timedOut:!1,isCanceled:!1,isGracefullyCanceled:!1,isMaxBuffer:!1,isForcefullyTerminated:!1,stdio:Array.from({length:n.length}),ipcOutput:[],options:o,isSync:i}),gt=({error:e,command:t,escapedCommand:r,startTime:n,timedOut:o,isCanceled:s,isGracefullyCanceled:i,isMaxBuffer:a,isForcefullyTerminated:u,exitCode:c,signal:l,stdio:d,all:f,ipcOutput:m,options:{timeoutDuration:D,timeout:b=D,forceKillAfterDelay:F,killSignal:E,cwd:v,maxBuffer:R},isSync:y})=>{let{exitCode:A,signal:B,signalDescription:k}=Uh(c,l),{originalMessage:pe,shortMessage:De,message:nn}=dc({stdio:d,all:f,ipcOutput:m,originalError:e,signal:B,signalDescription:k,exitCode:A,escapedCommand:r,timedOut:o,isCanceled:s,isGracefullyCanceled:i,isMaxBuffer:a,isForcefullyTerminated:u,forceKillAfterDelay:F,killSignal:E,maxBuffer:R,timeout:b,cwd:v}),nt=ka(e,nn,y);return Object.assign(nt,Nh({error:nt,command:t,escapedCommand:r,startTime:n,timedOut:o,isCanceled:s,isGracefullyCanceled:i,isMaxBuffer:a,isForcefullyTerminated:u,exitCode:A,signal:B,signalDescription:k,stdio:d,all:f,ipcOutput:m,cwd:v,originalMessage:pe,shortMessage:De})),nt},Nh=({error:e,command:t,escapedCommand:r,startTime:n,timedOut:o,isCanceled:s,isGracefullyCanceled:i,isMaxBuffer:a,isForcefullyTerminated:u,exitCode:c,signal:l,signalDescription:d,stdio:f,all:m,ipcOutput:D,cwd:b,originalMessage:F,shortMessage:E})=>fc({shortMessage:E,originalMessage:F,command:t,escapedCommand:r,cwd:b,durationMs:Gn(n),failed:!0,timedOut:o,isCanceled:s,isGracefullyCanceled:i,isTerminated:l!==void 0,isMaxBuffer:a,isForcefullyTerminated:u,exitCode:c,signal:l,signalDescription:d,code:e.cause?.code,stdout:f[1],stderr:f[2],all:m,stdio:f,ipcOutput:D,pipedFrom:[]}),fc=e=>Object.fromEntries(Object.entries(e).filter(([,t])=>t!==void 0)),Uh=(e,t)=>{let r=e===null?void 0:e,n=t===null?void 0:t,o=n===void 0?void 0:cr(t);return{exitCode:r,signal:n,signalDescription:o}};var mc=e=>Number.isFinite(e)?e:0;function Wh(e){return{days:Math.trunc(e/864e5),hours:Math.trunc(e/36e5%24),minutes:Math.trunc(e/6e4%60),seconds:Math.trunc(e/1e3%60),milliseconds:Math.trunc(e%1e3),microseconds:Math.trunc(mc(e*1e3)%1e3),nanoseconds:Math.trunc(mc(e*1e6)%1e3)}}function Vh(e){return{days:e/86400000n,hours:e/3600000n%24n,minutes:e/60000n%60n,seconds:e/1000n%60n,milliseconds:e%1000n,microseconds:0n,nanoseconds:0n}}function go(e){switch(typeof e){case"number":{if(Number.isFinite(e))return Wh(e);break}case"bigint":return Vh(e)}throw new TypeError("Expected a finite number or bigint")}var Gh=e=>e===0||e===0n,Hh=(e,t)=>t===1||t===1n?e:`${e}s`,zh=1e-7,qh=24n*60n*60n*1000n;function bo(e,t){let r=typeof e=="bigint";if(!r&&!Number.isFinite(e))throw new TypeError("Expected a finite number or bigint");t={...t};let n=e<0?"-":"";e=e<0?-e:e,t.colonNotation&&(t.compact=!1,t.formatSubMilliseconds=!1,t.separateMilliseconds=!1,t.verbose=!1),t.compact&&(t.unitCount=1,t.secondsDecimalDigits=0,t.millisecondsDecimalDigits=0);let o=[],s=(l,d)=>{let f=Math.floor(l*10**d+zh);return(Math.round(f)/10**d).toFixed(d)},i=(l,d,f,m)=>{if(!((o.length===0||!t.colonNotation)&&Gh(l)&&!(t.colonNotation&&f==="m"))){if(m??=String(l),t.colonNotation){let D=m.includes(".")?m.split(".")[0].length:m.length,b=o.length>0?2:1;m="0".repeat(Math.max(0,b-D))+m}else m+=t.verbose?" "+Hh(d,l):f;o.push(m)}},a=go(e),u=BigInt(a.days);if(t.hideYearAndDays?i(BigInt(u)*24n+BigInt(a.hours),"hour","h"):(t.hideYear?i(u,"day","d"):(i(u/365n,"year","y"),i(u%365n,"day","d")),i(Number(a.hours),"hour","h")),i(Number(a.minutes),"minute","m"),!t.hideSeconds)if(t.separateMilliseconds||t.formatSubMilliseconds||!t.colonNotation&&e<1e3&&!t.subSecondsAsDecimals){let l=Number(a.seconds),d=Number(a.milliseconds),f=Number(a.microseconds),m=Number(a.nanoseconds);if(i(l,"second","s"),t.formatSubMilliseconds)i(d,"millisecond","ms"),i(f,"microsecond","\xB5s"),i(m,"nanosecond","ns");else{let D=d+f/1e3+m/1e6,b=typeof t.millisecondsDecimalDigits=="number"?t.millisecondsDecimalDigits:0,F=D>=1?Math.round(D):Math.ceil(D),E=b?D.toFixed(b):F;i(Number.parseFloat(E),"millisecond","ms",E)}}else{let l=(r?Number(e%qh):e)/1e3%60,d=typeof t.secondsDecimalDigits=="number"?t.secondsDecimalDigits:1,f=s(l,d),m=t.keepDecimalsOnWholeSeconds?f:f.replace(/\.0+$/,"");i(Number.parseFloat(m),"second","s",m)}if(o.length===0)return n+"0"+(t.verbose?" milliseconds":"ms");let c=t.colonNotation?":":" ";return typeof t.unitCount=="number"&&(o=o.slice(0,Math.max(t.unitCount,1))),n+o.join(c)}var pc=(e,t)=>{e.failed&&te({type:"error",verboseMessage:e.shortMessage,verboseInfo:t,result:e})};var Dc=(e,t)=>{ke(t)&&(pc(e,t),Yh(e,t))},Yh=(e,t)=>{let r=`(done in ${bo(e.durationMs)})`;te({type:"duration",verboseMessage:r,verboseInfo:t,result:e})};var Ye=(e,t,{reject:r})=>{if(Dc(e,t),e.failed&&r)throw e;return e};import{readFileSync as Wc}from"fs";var bc=(e,t)=>ve(e)?"asyncGenerator":yc(e)?"generator":Mr(e)?"fileUrl":Qh(e)?"filePath":rg(e)?"webStream":Z(e,{checkOpen:!1})?"native":I(e)?"uint8Array":ng(e)?"asyncIterable":og(e)?"iterable":yo(e)?Cc({transform:e},t):Zh(e)?Kh(e,t):"native",Kh=(e,t)=>mo(e.transform,{checkOpen:!1})?Jh(e,t):yo(e.transform)?Cc(e,t):Xh(e,t),Jh=(e,t)=>(Ec(e,t,"Duplex stream"),"duplex"),Cc=(e,t)=>(Ec(e,t,"web TransformStream"),"webTransform"),Ec=({final:e,binary:t,objectMode:r},n,o)=>{hc(e,`${n}.final`,o),hc(t,`${n}.binary`,o),Co(r,`${n}.objectMode`)},hc=(e,t,r)=>{if(e!==void 0)throw new TypeError(`The \`${t}\` option can only be defined when using a generator, not a ${r}.`)},Xh=({transform:e,final:t,binary:r,objectMode:n},o)=>{if(e!==void 0&&!gc(e))throw new TypeError(`The \`${o}.transform\` option must be a generator, a Duplex stream or a web TransformStream.`);if(mo(t,{checkOpen:!1}))throw new TypeError(`The \`${o}.final\` option must not be a Duplex stream.`);if(yo(t))throw new TypeError(`The \`${o}.final\` option must not be a web TransformStream.`);if(t!==void 0&&!gc(t))throw new TypeError(`The \`${o}.final\` option must be a generator.`);return Co(r,`${o}.binary`),Co(n,`${o}.objectMode`),ve(e)||ve(t)?"asyncGenerator":"generator"},Co=(e,t)=>{if(e!==void 0&&typeof e!="boolean")throw new TypeError(`The \`${t}\` option must use a boolean.`)},gc=e=>ve(e)||yc(e),ve=e=>Object.prototype.toString.call(e)==="[object AsyncGeneratorFunction]",yc=e=>Object.prototype.toString.call(e)==="[object GeneratorFunction]",Zh=e=>T(e)&&(e.transform!==void 0||e.final!==void 0),Mr=e=>Object.prototype.toString.call(e)==="[object URL]",xc=e=>Mr(e)&&e.protocol!=="file:",Qh=e=>T(e)&&Object.keys(e).length>0&&Object.keys(e).every(t=>eg.has(t))&&Eo(e.file),eg=new Set(["file","append"]),Eo=e=>typeof e=="string",wc=(e,t)=>e==="native"&&typeof t=="string"&&!tg.has(t),tg=new Set(["ipc","ignore","inherit","overlapped","pipe"]),Fc=e=>Object.prototype.toString.call(e)==="[object ReadableStream]",Pr=e=>Object.prototype.toString.call(e)==="[object WritableStream]",rg=e=>Fc(e)||Pr(e),yo=e=>Fc(e?.readable)&&Pr(e?.writable),ng=e=>Sc(e)&&typeof e[Symbol.asyncIterator]=="function",og=e=>Sc(e)&&typeof e[Symbol.iterator]=="function",Sc=e=>typeof e=="object"&&e!==null,G=new Set(["generator","asyncGenerator","duplex","webTransform"]),Lr=new Set(["fileUrl","filePath","fileNumber"]),xo=new Set(["fileUrl","filePath"]),Ac=new Set([...xo,"webStream","nodeStream"]),_c=new Set(["webTransform","duplex"]),Ee={generator:"a generator",asyncGenerator:"an async generator",fileUrl:"a file URL",filePath:"a file path string",fileNumber:"a file descriptor number",webStream:"a web stream",nodeStream:"a Node.js stream",webTransform:"a web TransformStream",duplex:"a Duplex stream",native:"any value",iterable:"an iterable",asyncIterable:"an async iterable",string:"a string",uint8Array:"a Uint8Array"};var wo=(e,t,r,n)=>n==="output"?ig(e,t,r):sg(e,t,r),ig=(e,t,r)=>{let n=t!==0&&r[t-1].value.readableObjectMode;return{writableObjectMode:n,readableObjectMode:e??n}},sg=(e,t,r)=>{let n=t===0?e===!0:r[t-1].value.readableObjectMode,o=t!==r.length-1&&(e??n);return{writableObjectMode:n,readableObjectMode:o}},Oc=(e,t)=>{let r=e.findLast(({type:n})=>G.has(n));return r===void 0?!1:t==="input"?r.value.writableObjectMode:r.value.readableObjectMode};var Tc=(e,t,r,n)=>[...e.filter(({type:o})=>!G.has(o)),...ag(e,t,r,n)],ag=(e,t,r,{encoding:n})=>{let o=e.filter(({type:i})=>G.has(i)),s=Array.from({length:o.length});for(let[i,a]of Object.entries(o))s[i]=ug({stdioItem:a,index:Number(i),newTransforms:s,optionName:t,direction:r,encoding:n});return fg(s,r)},ug=({stdioItem:e,stdioItem:{type:t},index:r,newTransforms:n,optionName:o,direction:s,encoding:i})=>t==="duplex"?cg({stdioItem:e,optionName:o}):t==="webTransform"?lg({stdioItem:e,index:r,newTransforms:n,direction:s}):dg({stdioItem:e,index:r,newTransforms:n,direction:s,encoding:i}),cg=({stdioItem:e,stdioItem:{value:{transform:t,transform:{writableObjectMode:r,readableObjectMode:n},objectMode:o=n}},optionName:s})=>{if(o&&!n)throw new TypeError(`The \`${s}.objectMode\` option can only be \`true\` if \`new Duplex({objectMode: true})\` is used.`);if(!o&&n)throw new TypeError(`The \`${s}.objectMode\` option cannot be \`false\` if \`new Duplex({objectMode: true})\` is used.`);return{...e,value:{transform:t,writableObjectMode:r,readableObjectMode:n}}},lg=({stdioItem:e,stdioItem:{value:t},index:r,newTransforms:n,direction:o})=>{let{transform:s,objectMode:i}=T(t)?t:{transform:t},{writableObjectMode:a,readableObjectMode:u}=wo(i,r,n,o);return{...e,value:{transform:s,writableObjectMode:a,readableObjectMode:u}}},dg=({stdioItem:e,stdioItem:{value:t},index:r,newTransforms:n,direction:o,encoding:s})=>{let{transform:i,final:a,binary:u=!1,preserveNewlines:c=!1,objectMode:l}=T(t)?t:{transform:t},d=u||U.has(s),{writableObjectMode:f,readableObjectMode:m}=wo(l,r,n,o);return{...e,value:{transform:i,final:a,binary:d,preserveNewlines:c,writableObjectMode:f,readableObjectMode:m}}},fg=(e,t)=>t==="input"?e.reverse():e;import Fo from"process";var vc=(e,t,r)=>{let n=e.map(o=>mg(o,t));if(n.includes("input")&&n.includes("output"))throw new TypeError(`The \`${r}\` option must not be an array of both readable and writable values.`);return n.find(Boolean)??hg},mg=({type:e,value:t},r)=>pg[r]??$c[e](t),pg=["input","output","output"],Ke=()=>{},So=()=>"input",$c={generator:Ke,asyncGenerator:Ke,fileUrl:Ke,filePath:Ke,iterable:So,asyncIterable:So,uint8Array:So,webStream:e=>Pr(e)?"output":"input",nodeStream(e){return Te(e,{checkOpen:!1})?fo(e,{checkOpen:!1})?void 0:"input":"output"},webTransform:Ke,duplex:Ke,native(e){let t=Dg(e);if(t!==void 0)return t;if(Z(e,{checkOpen:!1}))return $c.nodeStream(e)}},Dg=e=>{if([0,Fo.stdin].includes(e))return"input";if([1,2,Fo.stdout,Fo.stderr].includes(e))return"output"},hg="output";var Bc=(e,t)=>t&&!e.includes("ipc")?[...e,"ipc"]:e;var Ic=({stdio:e,ipc:t,buffer:r,...n},o,s)=>{let i=gg(e,n).map((a,u)=>Rc(a,u));return s?Cg(i,r,o):Bc(i,t)},gg=(e,t)=>{if(e===void 0)return V.map(n=>t[n]);if(bg(t))throw new Error(`It's not possible to provide \`stdio\` in combination with one of ${V.map(n=>`\`${n}\``).join(", ")}`);if(typeof e=="string")return[e,e,e];if(!Array.isArray(e))throw new TypeError(`Expected \`stdio\` to be of type \`string\` or \`Array\`, got \`${typeof e}\``);let r=Math.max(e.length,V.length);return Array.from({length:r},(n,o)=>e[o])},bg=e=>V.some(t=>e[t]!==void 0),Rc=(e,t)=>Array.isArray(e)?e.map(r=>Rc(r,t)):e??(t>=V.length?"ignore":"pipe"),Cg=(e,t,r)=>e.map((n,o)=>!t[o]&&o!==0&&!je(r,o)&&Eg(n)?"ignore":n),Eg=e=>e==="pipe"||Array.isArray(e)&&e.every(t=>t==="pipe");import{readFileSync as yg}from"fs";import xg from"tty";var Pc=({stdioItem:e,stdioItem:{type:t},isStdioArray:r,fdNumber:n,direction:o,isSync:s})=>!r||t!=="native"?e:s?wg({stdioItem:e,fdNumber:n,direction:o}):Ag({stdioItem:e,fdNumber:n}),wg=({stdioItem:e,stdioItem:{value:t,optionName:r},fdNumber:n,direction:o})=>{let s=Fg({value:t,optionName:r,fdNumber:n,direction:o});if(s!==void 0)return s;if(Z(t,{checkOpen:!1}))throw new TypeError(`The \`${r}: Stream\` option cannot both be an array and include a stream with synchronous methods.`);return e},Fg=({value:e,optionName:t,fdNumber:r,direction:n})=>{let o=Sg(e,r);if(o!==void 0){if(n==="output")return{type:"fileNumber",value:o,optionName:t};if(xg.isatty(o))throw new TypeError(`The \`${t}: ${fr(e)}\` option is invalid: it cannot be a TTY with synchronous methods.`);return{type:"uint8Array",value:ce(yg(o)),optionName:t}}},Sg=(e,t)=>{if(e==="inherit")return t;if(typeof e=="number")return e;let r=Yt.indexOf(e);if(r!==-1)return r},Ag=({stdioItem:e,stdioItem:{value:t,optionName:r},fdNumber:n})=>t==="inherit"?{type:"nodeStream",value:Mc(n,t,r),optionName:r}:typeof t=="number"?{type:"nodeStream",value:Mc(t,t,r),optionName:r}:Z(t,{checkOpen:!1})?{type:"nodeStream",value:t,optionName:r}:e,Mc=(e,t,r)=>{let n=Yt[e];if(n===void 0)throw new TypeError(`The \`${r}: ${t}\` option is invalid: no such standard stream.`);return n};var Lc=({input:e,inputFile:t},r)=>r===0?[..._g(e),...Tg(t)]:[],_g=e=>e===void 0?[]:[{type:Og(e),value:e,optionName:"input"}],Og=e=>{if(Te(e,{checkOpen:!1}))return"nodeStream";if(typeof e=="string")return"string";if(I(e))return"uint8Array";throw new Error("The `input` option must be a string, a Uint8Array or a Node.js Readable stream.")},Tg=e=>e===void 0?[]:[{...vg(e),optionName:"inputFile"}],vg=e=>{if(Mr(e))return{type:"fileUrl",value:e};if(Eo(e))return{type:"filePath",value:{file:e}};throw new Error("The `inputFile` option must be a file path string or a file URL.")};var kc=e=>e.filter((t,r)=>e.every((n,o)=>t.value!==n.value||r>=o||t.type==="generator"||t.type==="asyncGenerator")),jc=({stdioItem:{type:e,value:t,optionName:r},direction:n,fileDescriptors:o,isSync:s})=>{let i=$g(o,e);if(i.length!==0){if(s){Bg({otherStdioItems:i,type:e,value:t,optionName:r,direction:n});return}if(Ac.has(e))return Nc({otherStdioItems:i,type:e,value:t,optionName:r,direction:n});_c.has(e)&&Rg({otherStdioItems:i,type:e,value:t,optionName:r})}},$g=(e,t)=>e.flatMap(({direction:r,stdioItems:n})=>n.filter(o=>o.type===t).map((o=>({...o,direction:r})))),Bg=({otherStdioItems:e,type:t,value:r,optionName:n,direction:o})=>{xo.has(t)&&Nc({otherStdioItems:e,type:t,value:r,optionName:n,direction:o})},Nc=({otherStdioItems:e,type:t,value:r,optionName:n,direction:o})=>{let s=e.filter(a=>Ig(a,r));if(s.length===0)return;let i=s.find(a=>a.direction!==o);return Uc(i,n,t),o==="output"?s[0].stream:void 0},Ig=({type:e,value:t},r)=>e==="filePath"?t.file===r.file:e==="fileUrl"?t.href===r.href:t===r,Rg=({otherStdioItems:e,type:t,value:r,optionName:n})=>{let o=e.find(({value:{transform:s}})=>s===r.transform);Uc(o,n,t)},Uc=(e,t,r)=>{if(e!==void 0)throw new TypeError(`The \`${e.optionName}\` and \`${t}\` options must not target ${Ee[r]} that is the same.`)};var kr=(e,t,r,n)=>{let s=Ic(t,r,n).map((a,u)=>Mg({stdioOption:a,fdNumber:u,options:t,isSync:n})),i=Vg({initialFileDescriptors:s,addProperties:e,options:t,isSync:n});return t.stdio=i.map(({stdioItems:a})=>zg(a)),i},Mg=({stdioOption:e,fdNumber:t,options:r,isSync:n})=>{let o=Kt(t),{stdioItems:s,isStdioArray:i}=Pg({stdioOption:e,fdNumber:t,options:r,optionName:o}),a=vc(s,t,o),u=s.map(d=>Pc({stdioItem:d,isStdioArray:i,fdNumber:t,direction:a,isSync:n})),c=Tc(u,o,a,r),l=Oc(c,a);return Wg(c,l),{direction:a,objectMode:l,stdioItems:c}},Pg=({stdioOption:e,fdNumber:t,options:r,optionName:n})=>{let s=[...(Array.isArray(e)?e:[e]).map(u=>Lg(u,n)),...Lc(r,t)],i=kc(s),a=i.length>1;return kg(i,a,n),Ng(i),{stdioItems:i,isStdioArray:a}},Lg=(e,t)=>({type:bc(e,t),value:e,optionName:t}),kg=(e,t,r)=>{if(e.length===0)throw new TypeError(`The \`${r}\` option must not be an empty array.`);if(t){for(let{value:n,optionName:o}of e)if(jg.has(n))throw new Error(`The \`${o}\` option must not include \`${n}\`.`)}},jg=new Set(["ignore","ipc"]),Ng=e=>{for(let t of e)Ug(t)},Ug=({type:e,value:t,optionName:r})=>{if(xc(t))throw new TypeError(`The \`${r}: URL\` option must use the \`file:\` scheme.
For example, you can use the \`pathToFileURL()\` method of the \`url\` core module.`);if(wc(e,t))throw new TypeError(`The \`${r}: { file: '...' }\` option must be used instead of \`${r}: '...'\`.`)},Wg=(e,t)=>{if(!t)return;let r=e.find(({type:n})=>Lr.has(n));if(r!==void 0)throw new TypeError(`The \`${r.optionName}\` option cannot use both files and transforms in objectMode.`)},Vg=({initialFileDescriptors:e,addProperties:t,options:r,isSync:n})=>{let o=[];try{for(let s of e)o.push(Gg({fileDescriptor:s,fileDescriptors:o,addProperties:t,options:r,isSync:n}));return o}catch(s){throw Ao(o),s}},Gg=({fileDescriptor:{direction:e,objectMode:t,stdioItems:r},fileDescriptors:n,addProperties:o,options:s,isSync:i})=>{let a=r.map(u=>Hg({stdioItem:u,addProperties:o,direction:e,options:s,fileDescriptors:n,isSync:i}));return{direction:e,objectMode:t,stdioItems:a}},Hg=({stdioItem:e,addProperties:t,direction:r,options:n,fileDescriptors:o,isSync:s})=>{let i=jc({stdioItem:e,direction:r,fileDescriptors:o,isSync:s});return i!==void 0?{...e,stream:i}:{...e,...t[r][e.type](e,n)}},Ao=e=>{for(let{stdioItems:t}of e)for(let{stream:r}of t)r!==void 0&&!K(r)&&r.destroy()},zg=e=>{if(e.length>1)return e.some(({value:n})=>n==="overlapped")?"overlapped":"pipe";let[{type:t,value:r}]=e;return t==="native"?r:"pipe"};var Gc=(e,t)=>kr(Yg,e,t,!0),ie=({type:e,optionName:t})=>{Hc(t,Ee[e])},qg=({optionName:e,value:t})=>((t==="ipc"||t==="overlapped")&&Hc(e,`"${t}"`),{}),Hc=(e,t)=>{throw new TypeError(`The \`${e}\` option cannot be ${t} with synchronous methods.`)},Vc={generator(){},asyncGenerator:ie,webStream:ie,nodeStream:ie,webTransform:ie,duplex:ie,asyncIterable:ie,native:qg},Yg={input:{...Vc,fileUrl:({value:e})=>({contents:[ce(Wc(e))]}),filePath:({value:{file:e}})=>({contents:[ce(Wc(e))]}),fileNumber:ie,iterable:({value:e})=>({contents:[...e]}),string:({value:e})=>({contents:[e]}),uint8Array:({value:e})=>({contents:[e]})},output:{...Vc,fileUrl:({value:e})=>({path:e}),filePath:({value:{file:e,append:t}})=>({path:e,append:t}),fileNumber:({value:e})=>({path:e}),iterable:ie,string:ie,uint8Array:ie}};var fe=(e,{stripFinalNewline:t},r)=>_o(t,r)&&e!==void 0&&!Array.isArray(e)?He(e):e,_o=(e,t)=>t==="all"?e[1]||e[2]:e[t];import{Transform as D0,getDefaultHighWaterMark as rl}from"stream";var jr=(e,t,r,n)=>e||r?void 0:qc(t,n),To=(e,t,r)=>r?e.flatMap(n=>zc(n,t)):zc(e,t),zc=(e,t)=>{let{transform:r,final:n}=qc(t,{});return[...r(e),...n()]},qc=(e,t)=>(t.previousChunks="",{transform:Kg.bind(void 0,t,e),final:Xg.bind(void 0,t)}),Kg=function*(e,t,r){if(typeof r!="string"){yield r;return}let{previousChunks:n}=e,o=-1;for(let s=0;s<r.length;s+=1)if(r[s]===`
`){let i=Jg(r,s,t,e),a=r.slice(o+1,s+1-i);n.length>0&&(a=Oo(n,a),n=""),yield a,o=s}o!==r.length-1&&(n=Oo(n,r.slice(o+1))),e.previousChunks=n},Jg=(e,t,r,n)=>r?0:(n.isWindowsNewline=t!==0&&e[t-1]==="\r",n.isWindowsNewline?2:1),Xg=function*({previousChunks:e}){e.length>0&&(yield e)},Yc=({binary:e,preserveNewlines:t,readableObjectMode:r,state:n})=>e||t||r?void 0:{transform:Zg.bind(void 0,n)},Zg=function*({isWindowsNewline:e=!1},t){let{unixNewline:r,windowsNewline:n,LF:o,concatBytes:s}=typeof t=="string"?Qg:t0;if(t.at(-1)===o){yield t;return}yield s(t,e?n:r)},Oo=(e,t)=>`${e}${t}`,Qg={windowsNewline:`\r
`,unixNewline:`
`,LF:`
`,concatBytes:Oo},e0=(e,t)=>{let r=new Uint8Array(e.length+t.length);return r.set(e,0),r.set(t,e.length),r},t0={windowsNewline:new Uint8Array([13,10]),unixNewline:new Uint8Array([10]),LF:10,concatBytes:e0};import{Buffer as r0}from"buffer";var Kc=(e,t)=>e?void 0:n0.bind(void 0,t),n0=function*(e,t){if(typeof t!="string"&&!I(t)&&!r0.isBuffer(t))throw new TypeError(`The \`${e}\` option's transform must use "objectMode: true" to receive as input: ${typeof t}.`);yield t},Jc=(e,t)=>e?o0.bind(void 0,t):i0.bind(void 0,t),o0=function*(e,t){Xc(e,t),yield t},i0=function*(e,t){if(Xc(e,t),typeof t!="string"&&!I(t))throw new TypeError(`The \`${e}\` option's function must yield a string or an Uint8Array, not ${typeof t}.`);yield t},Xc=(e,t)=>{if(t==null)throw new TypeError(`The \`${e}\` option's function must not call \`yield ${t}\`.
Instead, \`yield\` should either be called with a value, or not be called at all. For example:
  if (condition) { yield value; }`)};import{Buffer as s0}from"buffer";import{StringDecoder as a0}from"string_decoder";var Nr=(e,t,r)=>{if(r)return;if(e)return{transform:u0.bind(void 0,new TextEncoder)};let n=new a0(t);return{transform:c0.bind(void 0,n),final:l0.bind(void 0,n)}},u0=function*(e,t){s0.isBuffer(t)?yield ce(t):typeof t=="string"?yield e.encode(t):yield t},c0=function*(e,t){yield I(t)?e.write(t):t},l0=function*(e){let t=e.end();t!==""&&(yield t)};import{callbackify as Zc}from"util";var vo=Zc(async(e,t,r,n)=>{t.currentIterable=e(...r);try{for await(let o of t.currentIterable)n.push(o)}finally{delete t.currentIterable}}),Ur=async function*(e,t,r){if(r===t.length){yield e;return}let{transform:n=f0}=t[r];for await(let o of n(e))yield*Ur(o,t,r+1)},Qc=async function*(e){for(let[t,{final:r}]of Object.entries(e))yield*d0(r,Number(t),e)},d0=async function*(e,t,r){if(e!==void 0)for await(let n of e())yield*Ur(n,r,t+1)},el=Zc(async({currentIterable:e},t)=>{if(e!==void 0){await(t?e.throw(t):e.return());return}if(t)throw t}),f0=function*(e){yield e};var $o=(e,t,r,n)=>{try{for(let o of e(...t))r.push(o);n()}catch(o){n(o)}},tl=(e,t)=>[...t.flatMap(r=>[...$e(r,e,0)]),...bt(e)],$e=function*(e,t,r){if(r===t.length){yield e;return}let{transform:n=p0}=t[r];for(let o of n(e))yield*$e(o,t,r+1)},bt=function*(e){for(let[t,{final:r}]of Object.entries(e))yield*m0(r,Number(t),e)},m0=function*(e,t,r){if(e!==void 0)for(let n of e())yield*$e(n,r,t+1)},p0=function*(e){yield e};var Bo=({value:e,value:{transform:t,final:r,writableObjectMode:n,readableObjectMode:o},optionName:s},{encoding:i})=>{let a={},u=nl(e,i,s),c=ve(t),l=ve(r),d=c?vo.bind(void 0,Ur,a):$o.bind(void 0,$e),f=c||l?vo.bind(void 0,Qc,a):$o.bind(void 0,bt),m=c||l?el.bind(void 0,a):void 0;return{stream:new D0({writableObjectMode:n,writableHighWaterMark:rl(n),readableObjectMode:o,readableHighWaterMark:rl(o),transform(b,F,E){d([b,u,0],this,E)},flush(b){f([u],this,b)},destroy:m})}},Wr=(e,t,r,n)=>{let o=t.filter(({type:i})=>i==="generator"),s=n?o.reverse():o;for(let{value:i,optionName:a}of s){let u=nl(i,r,a);e=tl(u,e)}return e},nl=({transform:e,final:t,binary:r,writableObjectMode:n,readableObjectMode:o,preserveNewlines:s},i,a)=>{let u={};return[{transform:Kc(n,a)},Nr(r,i,n),jr(r,s,n,u),{transform:e,final:t},{transform:Jc(o,a)},Yc({binary:r,preserveNewlines:s,readableObjectMode:o,state:u})].filter(Boolean)};var ol=(e,t)=>{for(let r of h0(e))g0(e,r,t)},h0=e=>new Set(Object.entries(e).filter(([,{direction:t}])=>t==="input").map(([t])=>Number(t))),g0=(e,t,r)=>{let{stdioItems:n}=e[t],o=n.filter(({contents:a})=>a!==void 0);if(o.length===0)return;if(t!==0){let[{type:a,optionName:u}]=o;throw new TypeError(`Only the \`stdin\` option, not \`${u}\`, can be ${Ee[a]} with synchronous methods.`)}let i=o.map(({contents:a})=>a).map(a=>b0(a,n));r.input=ut(i)},b0=(e,t)=>{let r=Wr(e,t,"utf8",!0);return C0(r),ut(r)},C0=e=>{let t=e.find(r=>typeof r!="string"&&!I(r));if(t!==void 0)throw new TypeError(`The \`stdin\` option is invalid: when passing objects as input, a transform must be used to serialize them to strings or Uint8Arrays: ${t}.`)};import{writeFileSync as w0,appendFileSync as F0}from"fs";var Vr=({stdioItems:e,encoding:t,verboseInfo:r,fdNumber:n})=>n!=="all"&&je(r,n)&&!U.has(t)&&E0(n)&&(e.some(({type:o,value:s})=>o==="native"&&y0.has(s))||e.every(({type:o})=>G.has(o))),E0=e=>e===1||e===2,y0=new Set(["pipe","overlapped"]),il=async(e,t,r,n)=>{for await(let o of e)x0(t)||al(o,r,n)},sl=(e,t,r)=>{for(let n of e)al(n,t,r)},x0=e=>e._readableState.pipes.length>0,al=(e,t,r)=>{let n=tr(e);te({type:"output",verboseMessage:n,fdNumber:t,verboseInfo:r})};var ul=({fileDescriptors:e,syncResult:{output:t},options:r,isMaxBuffer:n,verboseInfo:o})=>{if(t===null)return{output:Array.from({length:3})};let s={},i=new Set([]);return{output:t.map((u,c)=>S0({result:u,fileDescriptors:e,fdNumber:c,state:s,outputFiles:i,isMaxBuffer:n,verboseInfo:o},r)),...s}},S0=({result:e,fileDescriptors:t,fdNumber:r,state:n,outputFiles:o,isMaxBuffer:s,verboseInfo:i},{buffer:a,encoding:u,lines:c,stripFinalNewline:l,maxBuffer:d})=>{if(e===null)return;let f=cc(e,s,d),m=ce(f),{stdioItems:D,objectMode:b}=t[r],F=A0([m],D,u,n),{serializedResult:E,finalResult:v=E}=_0({chunks:F,objectMode:b,encoding:u,lines:c,stripFinalNewline:l,fdNumber:r});O0({serializedResult:E,fdNumber:r,state:n,verboseInfo:i,encoding:u,stdioItems:D,objectMode:b});let R=a[r]?v:void 0;try{return n.error===void 0&&T0(E,D,o),R}catch(y){return n.error=y,R}},A0=(e,t,r,n)=>{try{return Wr(e,t,r,!1)}catch(o){return n.error=o,e}},_0=({chunks:e,objectMode:t,encoding:r,lines:n,stripFinalNewline:o,fdNumber:s})=>{if(t)return{serializedResult:e};if(r==="buffer")return{serializedResult:ut(e)};let i=ws(e,r);return n[s]?{serializedResult:i,finalResult:To(i,!o[s],t)}:{serializedResult:i}},O0=({serializedResult:e,fdNumber:t,state:r,verboseInfo:n,encoding:o,stdioItems:s,objectMode:i})=>{if(!Vr({stdioItems:s,encoding:o,verboseInfo:n,fdNumber:t}))return;let a=To(e,!1,i);try{sl(a,t,n)}catch(u){r.error??=u}},T0=(e,t,r)=>{for(let{path:n,append:o}of t.filter(({type:s})=>Lr.has(s))){let s=typeof n=="string"?n:n.toString();o||r.has(s)?F0(n,e):(r.add(s),w0(n,e))}};var cl=([,e,t],r)=>{if(r.all)return e===void 0?t:t===void 0?e:Array.isArray(e)?Array.isArray(t)?[...e,...t]:[...e,fe(t,r,"all")]:Array.isArray(t)?[fe(e,r,"all"),...t]:I(e)&&I(t)?Ln([e,t]):`${e}${t}`};import{once as Io}from"events";var ll=async(e,t)=>{let[r,n]=await v0(e);return t.isForcefullyTerminated??=!1,[r,n]},v0=async e=>{let[t,r]=await Promise.allSettled([Io(e,"spawn"),Io(e,"exit")]);return t.status==="rejected"?[]:r.status==="rejected"?dl(e):r.value},dl=async e=>{try{return await Io(e,"exit")}catch{return dl(e)}},fl=async e=>{let[t,r]=await e;if(!$0(t,r)&&Ro(t,r))throw new J;return[t,r]},$0=(e,t)=>e===void 0&&t===void 0,Ro=(e,t)=>e!==0||t!==null;var ml=({error:e,status:t,signal:r,output:n},{maxBuffer:o})=>{let s=B0(e,t,r),i=s?.code==="ETIMEDOUT",a=uc(s,n,o);return{resultError:s,exitCode:t,signal:r,timedOut:i,isMaxBuffer:a}},B0=(e,t,r)=>e!==void 0?e:Ro(t,r)?new J:void 0;var pl=(e,t,r)=>{let{file:n,commandArguments:o,command:s,escapedCommand:i,startTime:a,verboseInfo:u,options:c,fileDescriptors:l}=R0(e,t,r),d=L0({file:n,commandArguments:o,options:c,command:s,escapedCommand:i,verboseInfo:u,fileDescriptors:l,startTime:a});return Ye(d,u,c)},R0=(e,t,r)=>{let{command:n,escapedCommand:o,startTime:s,verboseInfo:i}=nr(e,t,r),a=M0(r),{file:u,commandArguments:c,options:l}=Fr(e,t,a);P0(l);let d=Gc(l,i);return{file:u,commandArguments:c,command:n,escapedCommand:o,startTime:s,verboseInfo:i,options:l,fileDescriptors:d}},M0=e=>e.node&&!e.ipc?{...e,ipc:!1}:e,P0=({ipc:e,ipcInput:t,detached:r,cancelSignal:n})=>{t&&Gr("ipcInput"),e&&Gr("ipc: true"),r&&Gr("detached: true"),n&&Gr("cancelSignal")},Gr=e=>{throw new TypeError(`The "${e}" option cannot be used with synchronous methods.`)},L0=({file:e,commandArguments:t,options:r,command:n,escapedCommand:o,verboseInfo:s,fileDescriptors:i,startTime:a})=>{let u=k0({file:e,commandArguments:t,options:r,command:n,escapedCommand:o,fileDescriptors:i,startTime:a});if(u.failed)return u;let{resultError:c,exitCode:l,signal:d,timedOut:f,isMaxBuffer:m}=ml(u,r),{output:D,error:b=c}=ul({fileDescriptors:i,syncResult:u,options:r,isMaxBuffer:m,verboseInfo:s}),F=D.map((v,R)=>fe(v,r,R)),E=fe(cl(D,r),r,"all");return N0({error:b,exitCode:l,signal:d,timedOut:f,isMaxBuffer:m,stdio:F,all:E,options:r,command:n,escapedCommand:o,startTime:a})},k0=({file:e,commandArguments:t,options:r,command:n,escapedCommand:o,fileDescriptors:s,startTime:i})=>{try{ol(s,r);let a=j0(r);return I0(...Sr(e,t,a))}catch(a){return qe({error:a,command:n,escapedCommand:o,fileDescriptors:s,options:r,startTime:i,isSync:!0})}},j0=({encoding:e,maxBuffer:t,...r})=>({...r,encoding:"buffer",maxBuffer:Ir(t)}),N0=({error:e,exitCode:t,signal:r,timedOut:n,isMaxBuffer:o,stdio:s,all:i,options:a,command:u,escapedCommand:c,startTime:l})=>e===void 0?Rr({command:u,escapedCommand:c,stdio:s,all:i,ipcOutput:[],options:a,startTime:l}):gt({error:e,command:u,escapedCommand:c,timedOut:n,isCanceled:!1,isGracefullyCanceled:!1,isMaxBuffer:o,isForcefullyTerminated:!1,exitCode:t,signal:r,stdio:s,all:i,ipcOutput:[],options:a,startTime:l,isSync:!0});import{setMaxListeners as _C}from"events";import{spawn as OC}from"child_process";import Cl from"process";import{once as Mo,on as U0}from"events";var Dl=({anyProcess:e,channel:t,isSubprocess:r,ipc:n},{reference:o=!0,filter:s}={})=>(We({methodName:"getOneMessage",isSubprocess:r,ipc:n,isConnected:br(e)}),W0({anyProcess:e,channel:t,isSubprocess:r,filter:s,reference:o})),W0=async({anyProcess:e,channel:t,isSubprocess:r,filter:n,reference:o})=>{pr(t,o);let s=Ce(e,t,r),i=new AbortController;try{return await Promise.race([V0(s,n,i),G0(s,r,i),H0(s,r,i)])}catch(a){throw Ve(e),a}finally{i.abort(),Dr(t,o)}},V0=async(e,t,{signal:r})=>{if(t===void 0){let[n]=await Mo(e,"message",{signal:r});return n}for await(let[n]of U0(e,"message",{signal:r}))if(t(n))return n},G0=async(e,t,{signal:r})=>{await Mo(e,"disconnect",{signal:r}),tu(t)},H0=async(e,t,{signal:r})=>{let[n]=await Mo(e,"strict:error",{signal:r});throw dr(n,t)};import{once as gl,on as z0}from"events";var bl=({anyProcess:e,channel:t,isSubprocess:r,ipc:n},{reference:o=!0}={})=>Po({anyProcess:e,channel:t,isSubprocess:r,ipc:n,shouldAwait:!r,reference:o}),Po=({anyProcess:e,channel:t,isSubprocess:r,ipc:n,shouldAwait:o,reference:s})=>{We({methodName:"getEachMessage",isSubprocess:r,ipc:n,isConnected:br(e)}),pr(t,s);let i=Ce(e,t,r),a=new AbortController,u={};return q0(e,i,a),Y0({ipcEmitter:i,isSubprocess:r,controller:a,state:u}),K0({anyProcess:e,channel:t,ipcEmitter:i,isSubprocess:r,shouldAwait:o,controller:a,state:u,reference:s})},q0=async(e,t,r)=>{try{await gl(t,"disconnect",{signal:r.signal}),r.abort()}catch{}},Y0=async({ipcEmitter:e,isSubprocess:t,controller:r,state:n})=>{try{let[o]=await gl(e,"strict:error",{signal:r.signal});n.error=dr(o,t),r.abort()}catch{}},K0=async function*({anyProcess:e,channel:t,ipcEmitter:r,isSubprocess:n,shouldAwait:o,controller:s,state:i,reference:a}){try{for await(let[u]of z0(r,"message",{signal:s.signal}))hl(i),yield u}catch{hl(i)}finally{s.abort(),Dr(t,a),n||Ve(e),o&&await e}},hl=({error:e})=>{if(e)throw e};var El=(e,{ipc:t})=>{Object.assign(e,xl(e,!1,t))},yl=()=>{let e=Cl,t=!0,r=Cl.channel!==void 0;return{...xl(e,t,r),getCancelSignal:Ou.bind(void 0,{anyProcess:e,channel:e.channel,isSubprocess:t,ipc:r})}},xl=(e,t,r)=>({sendMessage:xr.bind(void 0,{anyProcess:e,channel:e.channel,isSubprocess:t,ipc:r}),getOneMessage:Dl.bind(void 0,{anyProcess:e,channel:e.channel,isSubprocess:t,ipc:r}),getEachMessage:bl.bind(void 0,{anyProcess:e,channel:e.channel,isSubprocess:t,ipc:r})});import{ChildProcess as J0}from"child_process";import{PassThrough as X0,Readable as Z0,Writable as Q0,Duplex as eb}from"stream";var wl=({error:e,command:t,escapedCommand:r,fileDescriptors:n,options:o,startTime:s,verboseInfo:i})=>{Ao(n);let a=new J0;tb(a,n),Object.assign(a,{readable:rb,writable:nb,duplex:ob});let u=qe({error:e,command:t,escapedCommand:r,fileDescriptors:n,options:o,startTime:s,isSync:!1}),c=ib(u,i,o);return{subprocess:a,promise:c}},tb=(e,t)=>{let r=Ct(),n=Ct(),o=Ct(),s=Array.from({length:t.length-3},Ct),i=Ct(),a=[r,n,o,...s];Object.assign(e,{stdin:r,stdout:n,stderr:o,all:i,stdio:a})},Ct=()=>{let e=new X0;return e.end(),e},rb=()=>new Z0({read(){}}),nb=()=>new Q0({write(){}}),ob=()=>new eb({read(){},write(){}}),ib=async(e,t,r)=>Ye(e,t,r);import{createReadStream as Fl,createWriteStream as Sl}from"fs";import{Buffer as sb}from"buffer";import{Readable as Et,Writable as ab,Duplex as ub}from"stream";var _l=(e,t)=>kr(cb,e,t,!1),yt=({type:e,optionName:t})=>{throw new TypeError(`The \`${t}\` option cannot be ${Ee[e]}.`)},Al={fileNumber:yt,generator:Bo,asyncGenerator:Bo,nodeStream:({value:e})=>({stream:e}),webTransform({value:{transform:e,writableObjectMode:t,readableObjectMode:r}}){let n=t||r;return{stream:ub.fromWeb(e,{objectMode:n})}},duplex:({value:{transform:e}})=>({stream:e}),native(){}},cb={input:{...Al,fileUrl:({value:e})=>({stream:Fl(e)}),filePath:({value:{file:e}})=>({stream:Fl(e)}),webStream:({value:e})=>({stream:Et.fromWeb(e)}),iterable:({value:e})=>({stream:Et.from(e)}),asyncIterable:({value:e})=>({stream:Et.from(e)}),string:({value:e})=>({stream:Et.from(e)}),uint8Array:({value:e})=>({stream:Et.from(sb.from(e))})},output:{...Al,fileUrl:({value:e})=>({stream:Sl(e)}),filePath:({value:{file:e,append:t}})=>({stream:Sl(e,t?{flags:"a"}:{})}),webStream:({value:e})=>({stream:ab.fromWeb(e)}),iterable:yt,asyncIterable:yt,string:yt,uint8Array:yt}};import{on as lb,once as Ol}from"events";import{PassThrough as db,getDefaultHighWaterMark as fb}from"stream";import{finished as $l}from"stream/promises";function Be(e){if(!Array.isArray(e))throw new TypeError(`Expected an array, got \`${typeof e}\`.`);for(let o of e)ko(o);let t=e.some(({readableObjectMode:o})=>o),r=mb(e,t),n=new Lo({objectMode:t,writableHighWaterMark:r,readableHighWaterMark:r});for(let o of e)n.add(o);return n}var mb=(e,t)=>{if(e.length===0)return fb(t);let r=e.filter(({readableObjectMode:n})=>n===t).map(({readableHighWaterMark:n})=>n);return Math.max(...r)},Lo=class extends db{#t=new Set([]);#r=new Set([]);#e=new Set([]);#n;#i=Symbol("unpipe");#o=new WeakMap;add(t){if(ko(t),this.#t.has(t))return;this.#t.add(t),this.#n??=pb(this,this.#t,this.#i);let r=gb({passThroughStream:this,stream:t,streams:this.#t,ended:this.#r,aborted:this.#e,onFinished:this.#n,unpipeEvent:this.#i});this.#o.set(t,r),t.pipe(this,{end:!1})}async remove(t){if(ko(t),!this.#t.has(t))return!1;let r=this.#o.get(t);return r===void 0?!1:(this.#o.delete(t),t.unpipe(this),await r,!0)}},pb=async(e,t,r)=>{Hr(e,Tl);let n=new AbortController;try{await Promise.race([Db(e,n),hb(e,t,r,n)])}finally{n.abort(),Hr(e,-Tl)}},Db=async(e,{signal:t})=>{try{await $l(e,{signal:t,cleanup:!0})}catch(r){throw Bl(e,r),r}},hb=async(e,t,r,{signal:n})=>{for await(let[o]of lb(e,"unpipe",{signal:n}))t.has(o)&&o.emit(r)},ko=e=>{if(typeof e?.pipe!="function")throw new TypeError(`Expected a readable stream, got: \`${typeof e}\`.`)},gb=async({passThroughStream:e,stream:t,streams:r,ended:n,aborted:o,onFinished:s,unpipeEvent:i})=>{Hr(e,vl);let a=new AbortController;try{await Promise.race([bb(s,t,a),Cb({passThroughStream:e,stream:t,streams:r,ended:n,aborted:o,controller:a}),Eb({stream:t,streams:r,ended:n,aborted:o,unpipeEvent:i,controller:a})])}finally{a.abort(),Hr(e,-vl)}r.size>0&&r.size===n.size+o.size&&(n.size===0&&o.size>0?jo(e):yb(e))},bb=async(e,t,{signal:r})=>{try{await e,r.aborted||jo(t)}catch(n){r.aborted||Bl(t,n)}},Cb=async({passThroughStream:e,stream:t,streams:r,ended:n,aborted:o,controller:{signal:s}})=>{try{await $l(t,{signal:s,cleanup:!0,readable:!0,writable:!1}),r.has(t)&&n.add(t)}catch(i){if(s.aborted||!r.has(t))return;Il(i)?o.add(t):Rl(e,i)}},Eb=async({stream:e,streams:t,ended:r,aborted:n,unpipeEvent:o,controller:{signal:s}})=>{if(await Ol(e,o,{signal:s}),!e.readable)return Ol(s,"abort",{signal:s});t.delete(e),r.delete(e),n.delete(e)},yb=e=>{e.writable&&e.end()},Bl=(e,t)=>{Il(t)?jo(e):Rl(e,t)},Il=e=>e?.code==="ERR_STREAM_PREMATURE_CLOSE",jo=e=>{(e.readable||e.writable)&&e.destroy()},Rl=(e,t)=>{e.destroyed||(e.once("error",xb),e.destroy(t))},xb=()=>{},Hr=(e,t)=>{let r=e.getMaxListeners();r!==0&&r!==Number.POSITIVE_INFINITY&&e.setMaxListeners(r+t)},Tl=2,vl=1;import{finished as Ml}from"stream/promises";var Je=(e,t)=>{e.pipe(t),wb(e,t),Fb(e,t)},wb=async(e,t)=>{if(!(K(e)||K(t))){try{await Ml(e,{cleanup:!0,readable:!0,writable:!1})}catch{}No(t)}},No=e=>{e.writable&&e.end()},Fb=async(e,t)=>{if(!(K(e)||K(t))){try{await Ml(t,{cleanup:!0,readable:!1,writable:!0})}catch{}Uo(e)}},Uo=e=>{e.readable&&e.destroy()};var Pl=(e,t,r)=>{let n=new Map;for(let[o,{stdioItems:s,direction:i}]of Object.entries(t)){for(let{stream:a}of s.filter(({type:u})=>G.has(u)))Sb(e,a,i,o);for(let{stream:a}of s.filter(({type:u})=>!G.has(u)))_b({subprocess:e,stream:a,direction:i,fdNumber:o,pipeGroups:n,controller:r})}for(let[o,s]of n.entries()){let i=s.length===1?s[0]:Be(s);Je(i,o)}},Sb=(e,t,r,n)=>{r==="output"?Je(e.stdio[n],t):Je(t,e.stdio[n]);let o=Ab[n];o!==void 0&&(e[o]=t),e.stdio[n]=t},Ab=["stdin","stdout","stderr"],_b=({subprocess:e,stream:t,direction:r,fdNumber:n,pipeGroups:o,controller:s})=>{if(t===void 0)return;Ob(t,s);let[i,a]=r==="output"?[t,e.stdio[n]]:[e.stdio[n],t],u=o.get(i)??[];o.set(i,[...u,a])},Ob=(e,{signal:t})=>{K(e)&&Oe(e,Tb,t)},Tb=2;import{addAbortListener as Bb}from"events";var Ie=[];Ie.push("SIGHUP","SIGINT","SIGTERM");process.platform!=="win32"&&Ie.push("SIGALRM","SIGABRT","SIGVTALRM","SIGXCPU","SIGXFSZ","SIGUSR2","SIGTRAP","SIGSYS","SIGQUIT","SIGIOT");process.platform==="linux"&&Ie.push("SIGIO","SIGPOLL","SIGPWR","SIGSTKFLT");var zr=e=>!!e&&typeof e=="object"&&typeof e.removeListener=="function"&&typeof e.emit=="function"&&typeof e.reallyExit=="function"&&typeof e.listeners=="function"&&typeof e.kill=="function"&&typeof e.pid=="number"&&typeof e.on=="function",Wo=Symbol.for("signal-exit emitter"),Vo=globalThis,vb=Object.defineProperty.bind(Object),Go=class{emitted={afterExit:!1,exit:!1};listeners={afterExit:[],exit:[]};count=0;id=Math.random();constructor(){if(Vo[Wo])return Vo[Wo];vb(Vo,Wo,{value:this,writable:!1,enumerable:!1,configurable:!1})}on(t,r){this.listeners[t].push(r)}removeListener(t,r){let n=this.listeners[t],o=n.indexOf(r);o!==-1&&(o===0&&n.length===1?n.length=0:n.splice(o,1))}emit(t,r,n){if(this.emitted[t])return!1;this.emitted[t]=!0;let o=!1;for(let s of this.listeners[t])o=s(r,n)===!0||o;return t==="exit"&&(o=this.emit("afterExit",r,n)||o),o}},qr=class{},$b=e=>({onExit(t,r){return e.onExit(t,r)},load(){return e.load()},unload(){return e.unload()}}),Ho=class extends qr{onExit(){return()=>{}}load(){}unload(){}},zo=class extends qr{#t=qo.platform==="win32"?"SIGINT":"SIGHUP";#r=new Go;#e;#n;#i;#o={};#s=!1;constructor(t){super(),this.#e=t,this.#o={};for(let r of Ie)this.#o[r]=()=>{let n=this.#e.listeners(r),{count:o}=this.#r,s=t;if(typeof s.__signal_exit_emitter__=="object"&&typeof s.__signal_exit_emitter__.count=="number"&&(o+=s.__signal_exit_emitter__.count),n.length===o){this.unload();let i=this.#r.emit("exit",null,r),a=r==="SIGHUP"?this.#t:r;i||t.kill(t.pid,a)}};this.#i=t.reallyExit,this.#n=t.emit}onExit(t,r){if(!zr(this.#e))return()=>{};this.#s===!1&&this.load();let n=r?.alwaysLast?"afterExit":"exit";return this.#r.on(n,t),()=>{this.#r.removeListener(n,t),this.#r.listeners.exit.length===0&&this.#r.listeners.afterExit.length===0&&this.unload()}}load(){if(!this.#s){this.#s=!0,this.#r.count+=1;for(let t of Ie)try{let r=this.#o[t];r&&this.#e.on(t,r)}catch{}this.#e.emit=(t,...r)=>this.#u(t,...r),this.#e.reallyExit=t=>this.#a(t)}}unload(){this.#s&&(this.#s=!1,Ie.forEach(t=>{let r=this.#o[t];if(!r)throw new Error("Listener not defined for signal: "+t);try{this.#e.removeListener(t,r)}catch{}}),this.#e.emit=this.#n,this.#e.reallyExit=this.#i,this.#r.count-=1)}#a(t){return zr(this.#e)?(this.#e.exitCode=t||0,this.#r.emit("exit",this.#e.exitCode,null),this.#i.call(this.#e,this.#e.exitCode)):0}#u(t,...r){let n=this.#n;if(t==="exit"&&zr(this.#e)){typeof r[0]=="number"&&(this.#e.exitCode=r[0]);let o=n.call(this.#e,t,...r);return this.#r.emit("exit",this.#e.exitCode,null),o}else return n.call(this.#e,t,...r)}},qo=globalThis.process,{onExit:Ll,load:kA,unload:jA}=$b(zr(qo)?new zo(qo):new Ho);var kl=(e,{cleanup:t,detached:r},{signal:n})=>{if(!t||r)return;let o=Ll(()=>{e.kill()});Bb(n,()=>{o()})};var Nl=({source:e,sourcePromise:t,boundOptions:r,createNested:n},...o)=>{let s=rr(),{destination:i,destinationStream:a,destinationError:u,from:c,unpipeSignal:l}=Ib(r,n,o),{sourceStream:d,sourceError:f}=Mb(e,c),{options:m,fileDescriptors:D}=ne.get(e);return{sourcePromise:t,sourceStream:d,sourceOptions:m,sourceError:f,destination:i,destinationStream:a,destinationError:u,unpipeSignal:l,fileDescriptors:D,startTime:s}},Ib=(e,t,r)=>{try{let{destination:n,pipeOptions:{from:o,to:s,unpipeSignal:i}={}}=Rb(e,t,...r),a=mr(n,s);return{destination:n,destinationStream:a,from:o,unpipeSignal:i}}catch(n){return{destinationError:n}}},Rb=(e,t,r,...n)=>{if(Array.isArray(r))return{destination:t(jl,e)(r,...n),pipeOptions:e};if(typeof r=="string"||r instanceof URL||Mn(r)){if(Object.keys(e).length>0)throw new TypeError('Please use .pipe("file", ..., options) or .pipe(execa("file", ..., options)) instead of .pipe(options)("file", ...).');let[o,s,i]=zt(r,...n);return{destination:t(jl)(o,s,i),pipeOptions:i}}if(ne.has(r)){if(Object.keys(e).length>0)throw new TypeError("Please use .pipe(options)`command` or .pipe($(options)`command`) instead of .pipe(options)($`command`).");return{destination:r,pipeOptions:n[0]}}throw new TypeError(`The first argument must be a template string, an options object, or an Execa subprocess: ${r}`)},jl=({options:e})=>({options:{...e,stdin:"pipe",piped:!0}}),Mb=(e,t)=>{try{return{sourceStream:Ge(e,t)}}catch(r){return{sourceError:r}}};var Wl=({sourceStream:e,sourceError:t,destinationStream:r,destinationError:n,fileDescriptors:o,sourceOptions:s,startTime:i})=>{let a=Pb({sourceStream:e,sourceError:t,destinationStream:r,destinationError:n});if(a!==void 0)throw Yo({error:a,fileDescriptors:o,sourceOptions:s,startTime:i})},Pb=({sourceStream:e,sourceError:t,destinationStream:r,destinationError:n})=>{if(t!==void 0&&n!==void 0)return n;if(n!==void 0)return Uo(e),n;if(t!==void 0)return No(r),t},Yo=({error:e,fileDescriptors:t,sourceOptions:r,startTime:n})=>qe({error:e,command:Ul,escapedCommand:Ul,fileDescriptors:t,options:r,startTime:n,isSync:!1}),Ul="source.pipe(destination)";var Vl=async e=>{let[{status:t,reason:r,value:n=r},{status:o,reason:s,value:i=s}]=await e;if(i.pipedFrom.includes(n)||i.pipedFrom.push(n),o==="rejected")throw i;if(t==="rejected")throw n;return i};import{finished as Lb}from"stream/promises";var Gl=(e,t,r)=>{let n=Yr.has(t)?jb(e,t):kb(e,t);return Oe(e,Ub,r.signal),Oe(t,Wb,r.signal),Nb(t),n},kb=(e,t)=>{let r=Be([e]);return Je(r,t),Yr.set(t,r),r},jb=(e,t)=>{let r=Yr.get(t);return r.add(e),r},Nb=async e=>{try{await Lb(e,{cleanup:!0,readable:!1,writable:!0})}catch{}Yr.delete(e)},Yr=new WeakMap,Ub=2,Wb=1;import{aborted as Vb}from"util";var Hl=(e,t)=>e===void 0?[]:[Gb(e,t)],Gb=async(e,{sourceStream:t,mergedStream:r,fileDescriptors:n,sourceOptions:o,startTime:s})=>{await Vb(e,t),await r.remove(t);let i=new Error("Pipe canceled by `unpipeSignal` option.");throw Yo({error:i,fileDescriptors:n,sourceOptions:o,startTime:s})};var Kr=(e,...t)=>{if(T(t[0]))return Kr.bind(void 0,{...e,boundOptions:{...e.boundOptions,...t[0]}});let{destination:r,...n}=Nl(e,...t),o=Hb({...n,destination:r});return o.pipe=Kr.bind(void 0,{...e,source:r,sourcePromise:o,boundOptions:{}}),o},Hb=async({sourcePromise:e,sourceStream:t,sourceOptions:r,sourceError:n,destination:o,destinationStream:s,destinationError:i,unpipeSignal:a,fileDescriptors:u,startTime:c})=>{let l=zb(e,o);Wl({sourceStream:t,sourceError:n,destinationStream:s,destinationError:i,fileDescriptors:u,sourceOptions:r,startTime:c});let d=new AbortController;try{let f=Gl(t,s,d);return await Promise.race([Vl(l),...Hl(a,{sourceStream:t,mergedStream:f,sourceOptions:r,fileDescriptors:u,startTime:c})])}finally{d.abort()}},zb=(e,t)=>Promise.allSettled([e,t]);import{setImmediate as Qb}from"timers/promises";import{on as qb}from"events";import{getDefaultHighWaterMark as Yb}from"stream";var Jr=({subprocessStdout:e,subprocess:t,binary:r,shouldEncode:n,encoding:o,preserveNewlines:s})=>{let i=new AbortController;return Kb(t,i),ql({stream:e,controller:i,binary:r,shouldEncode:!e.readableObjectMode&&n,encoding:o,shouldSplit:!e.readableObjectMode,preserveNewlines:s})},Kb=async(e,t)=>{try{await e}catch{}finally{t.abort()}},Ko=({stream:e,onStreamEnd:t,lines:r,encoding:n,stripFinalNewline:o,allMixed:s})=>{let i=new AbortController;Jb(t,i,e);let a=e.readableObjectMode&&!s;return ql({stream:e,controller:i,binary:n==="buffer",shouldEncode:!a,encoding:n,shouldSplit:!a&&r,preserveNewlines:!o})},Jb=async(e,t,r)=>{try{await e}catch{r.destroy()}finally{t.abort()}},ql=({stream:e,controller:t,binary:r,shouldEncode:n,encoding:o,shouldSplit:s,preserveNewlines:i})=>{let a=qb(e,"data",{signal:t.signal,highWaterMark:zl,highWatermark:zl});return Xb({onStdoutChunk:a,controller:t,binary:r,shouldEncode:n,encoding:o,shouldSplit:s,preserveNewlines:i})},Jo=Yb(!0),zl=Jo,Xb=async function*({onStdoutChunk:e,controller:t,binary:r,shouldEncode:n,encoding:o,shouldSplit:s,preserveNewlines:i}){let a=Zb({binary:r,shouldEncode:n,encoding:o,shouldSplit:s,preserveNewlines:i});try{for await(let[u]of e)yield*$e(u,a,0)}catch(u){if(!t.signal.aborted)throw u}finally{yield*bt(a)}},Zb=({binary:e,shouldEncode:t,encoding:r,shouldSplit:n,preserveNewlines:o})=>[Nr(e,r,!t),jr(e,o,!n,{})].filter(Boolean);var Yl=async({stream:e,onStreamEnd:t,fdNumber:r,encoding:n,buffer:o,maxBuffer:s,lines:i,allMixed:a,stripFinalNewline:u,verboseInfo:c,streamInfo:l})=>{let d=eC({stream:e,onStreamEnd:t,fdNumber:r,encoding:n,allMixed:a,verboseInfo:c,streamInfo:l});if(!o){await Promise.all([tC(e),d]);return}let f=_o(u,r),m=Ko({stream:e,onStreamEnd:t,lines:i,encoding:n,stripFinalNewline:f,allMixed:a}),[D]=await Promise.all([rC({stream:e,iterable:m,fdNumber:r,encoding:n,maxBuffer:s,lines:i}),d]);return D},eC=async({stream:e,onStreamEnd:t,fdNumber:r,encoding:n,allMixed:o,verboseInfo:s,streamInfo:{fileDescriptors:i}})=>{if(!Vr({stdioItems:i[r]?.stdioItems,encoding:n,verboseInfo:s,fdNumber:r}))return;let a=Ko({stream:e,onStreamEnd:t,lines:!0,encoding:n,stripFinalNewline:!0,allMixed:o});await il(a,e,r,s)},tC=async e=>{await Qb(),e.readableFlowing===null&&e.resume()},rC=async({stream:e,stream:{readableObjectMode:t},iterable:r,fdNumber:n,encoding:o,maxBuffer:s,lines:i})=>{try{return t||i?await Tr(r,{maxBuffer:s}):o==="buffer"?new Uint8Array(await vr(r,{maxBuffer:s})):await Br(r,{maxBuffer:s})}catch(a){return Kl(ic({error:a,stream:e,readableObjectMode:t,lines:i,encoding:o,fdNumber:n}))}},Xo=async e=>{try{return await e}catch(t){return Kl(t)}},Kl=({bufferedData:e})=>ys(e)?new Uint8Array(e):e;import{finished as nC}from"stream/promises";var xt=async(e,t,r,{isSameDirection:n,stopOnExit:o=!1}={})=>{let s=oC(e,r),i=new AbortController;try{await Promise.race([...o?[r.exitPromise]:[],nC(e,{cleanup:!0,signal:i.signal})])}catch(a){s.stdinCleanedUp||aC(a,t,r,n)}finally{i.abort()}},oC=(e,{originalStreams:[t],subprocess:r})=>{let n={stdinCleanedUp:!1};return e===t&&iC(e,r,n),n},iC=(e,t,r)=>{let{_destroy:n}=e;e._destroy=(...o)=>{sC(t,r),n.call(e,...o)}},sC=({exitCode:e,signalCode:t},r)=>{(e!==null||t!==null)&&(r.stdinCleanedUp=!0)},aC=(e,t,r,n)=>{if(!uC(e,t,r,n))throw e},uC=(e,t,r,n=!0)=>r.propagating?Jl(e)||Xr(e):(r.propagating=!0,Zo(r,t)===n?Jl(e):Xr(e)),Zo=({fileDescriptors:e},t)=>t!=="all"&&e[t].direction==="input",Xr=e=>e?.code==="ERR_STREAM_PREMATURE_CLOSE",Jl=e=>e?.code==="EPIPE";var Xl=({subprocess:e,encoding:t,buffer:r,maxBuffer:n,lines:o,stripFinalNewline:s,verboseInfo:i,streamInfo:a})=>e.stdio.map((u,c)=>Qo({stream:u,fdNumber:c,encoding:t,buffer:r[c],maxBuffer:n[c],lines:o[c],allMixed:!1,stripFinalNewline:s,verboseInfo:i,streamInfo:a})),Qo=async({stream:e,fdNumber:t,encoding:r,buffer:n,maxBuffer:o,lines:s,allMixed:i,stripFinalNewline:a,verboseInfo:u,streamInfo:c})=>{if(!e)return;let l=xt(e,t,c);if(Zo(c,t)){await l;return}let[d]=await Promise.all([Yl({stream:e,onStreamEnd:l,fdNumber:t,encoding:r,buffer:n,maxBuffer:o,lines:s,allMixed:i,stripFinalNewline:a,verboseInfo:u,streamInfo:c}),l]);return d};var Zl=({stdout:e,stderr:t},{all:r})=>r&&(e||t)?Be([e,t].filter(Boolean)):void 0,Ql=({subprocess:e,encoding:t,buffer:r,maxBuffer:n,lines:o,stripFinalNewline:s,verboseInfo:i,streamInfo:a})=>Qo({...cC(e,r),fdNumber:"all",encoding:t,maxBuffer:n[1]+n[2],lines:o[1]||o[2],allMixed:lC(e),stripFinalNewline:s,verboseInfo:i,streamInfo:a}),cC=({stdout:e,stderr:t,all:r},[,n,o])=>{let s=n||o;return s?n?o?{stream:r,buffer:s}:{stream:e,buffer:s}:{stream:t,buffer:s}:{stream:r,buffer:s}},lC=({all:e,stdout:t,stderr:r})=>e&&t&&r&&t.readableObjectMode!==r.readableObjectMode;import{once as dC}from"events";var ed=e=>je(e,"ipc"),td=(e,t)=>{let r=tr(e);te({type:"ipc",verboseMessage:r,fdNumber:"ipc",verboseInfo:t})};var rd=async({subprocess:e,buffer:t,maxBuffer:r,ipc:n,ipcOutput:o,verboseInfo:s})=>{if(!n)return o;let i=ed(s),a=le(t,"ipc"),u=le(r,"ipc");for await(let c of Po({anyProcess:e,channel:e.channel,isSubprocess:!1,ipc:n,shouldAwait:!1,reference:!0}))a&&(sc(e,o,u),o.push(c)),i&&td(c,s);return o},nd=async(e,t)=>(await Promise.allSettled([e]),t);var od=async({subprocess:e,options:{encoding:t,buffer:r,maxBuffer:n,lines:o,timeoutDuration:s,cancelSignal:i,gracefulCancel:a,forceKillAfterDelay:u,stripFinalNewline:c,ipc:l,ipcInput:d},context:f,verboseInfo:m,fileDescriptors:D,originalStreams:b,onInternalError:F,controller:E})=>{let v=ll(e,f),R={originalStreams:b,fileDescriptors:D,subprocess:e,exitPromise:v,propagating:!1},y=Xl({subprocess:e,encoding:t,buffer:r,maxBuffer:n,lines:o,stripFinalNewline:c,verboseInfo:m,streamInfo:R}),A=Ql({subprocess:e,encoding:t,buffer:r,maxBuffer:n,lines:o,stripFinalNewline:c,verboseInfo:m,streamInfo:R}),B=[],k=rd({subprocess:e,buffer:r,maxBuffer:n,ipc:l,ipcOutput:B,verboseInfo:m}),pe=fC(b,e,R),De=mC(D,R);try{return await Promise.race([Promise.all([{},fl(v),Promise.all(y),A,k,ku(e,d),...pe,...De]),F,pC(e,E),...Iu(e,s,f,E),...eu({subprocess:e,cancelSignal:i,gracefulCancel:a,context:f,controller:E}),...$u({subprocess:e,cancelSignal:i,gracefulCancel:a,forceKillAfterDelay:u,context:f,controller:E})])}catch(nn){return f.terminationReason??="other",Promise.all([{error:nn},v,Promise.all(y.map(nt=>Xo(nt))),Xo(A),nd(k,B),Promise.allSettled(pe),Promise.allSettled(De)])}},fC=(e,t,r)=>e.map((n,o)=>n===t.stdio[o]?void 0:xt(n,o,r)),mC=(e,t)=>e.flatMap(({stdioItems:r},n)=>r.filter(({value:o,stream:s=o})=>Z(s,{checkOpen:!1})&&!K(s)).map(({type:o,value:s,stream:i=s})=>xt(i,n,t,{isSameDirection:G.has(o),stopOnExit:o==="native"}))),pC=async(e,{signal:t})=>{let[r]=await dC(e,"error",{signal:t});throw r};var id=()=>({readableDestroy:new WeakMap,writableFinal:new WeakMap,writableDestroy:new WeakMap}),wt=(e,t,r)=>{let n=e[r];n.has(t)||n.set(t,[]);let o=n.get(t),s=re();return o.push(s),{resolve:s.resolve.bind(s),promises:o}},Xe=async({resolve:e,promises:t},r)=>{e();let[n]=await Promise.race([Promise.allSettled([!0,r]),Promise.all([!1,...t])]);return!n};import{Readable as DC}from"stream";import{callbackify as hC}from"util";import{finished as sd}from"stream/promises";var ei=async e=>{if(e!==void 0)try{await ti(e)}catch{}},ad=async e=>{if(e!==void 0)try{await ri(e)}catch{}},ti=async e=>{await sd(e,{cleanup:!0,readable:!1,writable:!0})},ri=async e=>{await sd(e,{cleanup:!0,readable:!0,writable:!1})},Zr=async(e,t)=>{if(await e,t)throw t},Qr=(e,t,r)=>{r&&!Xr(r)?e.destroy(r):t&&e.destroy()};var ud=({subprocess:e,concurrentStreams:t,encoding:r},{from:n,binary:o=!0,preserveNewlines:s=!0}={})=>{let i=o||U.has(r),{subprocessStdout:a,waitReadableDestroy:u}=ni(e,n,t),{readableEncoding:c,readableObjectMode:l,readableHighWaterMark:d}=oi(a,i),{read:f,onStdoutDataDone:m}=ii({subprocessStdout:a,subprocess:e,binary:i,encoding:r,preserveNewlines:s}),D=new DC({read:f,destroy:hC(ai.bind(void 0,{subprocessStdout:a,subprocess:e,waitReadableDestroy:u})),highWaterMark:d,objectMode:l,encoding:c});return si({subprocessStdout:a,onStdoutDataDone:m,readable:D,subprocess:e}),D},ni=(e,t,r)=>{let n=Ge(e,t),o=wt(r,n,"readableDestroy");return{subprocessStdout:n,waitReadableDestroy:o}},oi=({readableEncoding:e,readableObjectMode:t,readableHighWaterMark:r},n)=>n?{readableEncoding:e,readableObjectMode:t,readableHighWaterMark:r}:{readableEncoding:e,readableObjectMode:!0,readableHighWaterMark:Jo},ii=({subprocessStdout:e,subprocess:t,binary:r,encoding:n,preserveNewlines:o})=>{let s=re(),i=Jr({subprocessStdout:e,subprocess:t,binary:r,shouldEncode:!r,encoding:n,preserveNewlines:o});return{read(){gC(this,i,s)},onStdoutDataDone:s}},gC=async(e,t,r)=>{try{let{value:n,done:o}=await t.next();o?r.resolve():e.push(n)}catch{}},si=async({subprocessStdout:e,onStdoutDataDone:t,readable:r,subprocess:n,subprocessStdin:o})=>{try{await ri(e),await n,await ei(o),await t,r.readable&&r.push(null)}catch(s){await ei(o),cd(r,s)}},ai=async({subprocessStdout:e,subprocess:t,waitReadableDestroy:r},n)=>{await Xe(r,t)&&(cd(e,n),await Zr(t,n))},cd=(e,t)=>{Qr(e,e.readable,t)};import{Writable as bC}from"stream";import{callbackify as ld}from"util";var dd=({subprocess:e,concurrentStreams:t},{to:r}={})=>{let{subprocessStdin:n,waitWritableFinal:o,waitWritableDestroy:s}=ui(e,r,t),i=new bC({...ci(n,e,o),destroy:ld(di.bind(void 0,{subprocessStdin:n,subprocess:e,waitWritableFinal:o,waitWritableDestroy:s})),highWaterMark:n.writableHighWaterMark,objectMode:n.writableObjectMode});return li(n,i),i},ui=(e,t,r)=>{let n=mr(e,t),o=wt(r,n,"writableFinal"),s=wt(r,n,"writableDestroy");return{subprocessStdin:n,waitWritableFinal:o,waitWritableDestroy:s}},ci=(e,t,r)=>({write:CC.bind(void 0,e),final:ld(EC.bind(void 0,e,t,r))}),CC=(e,t,r,n)=>{e.write(t,r)?n():e.once("drain",n)},EC=async(e,t,r)=>{await Xe(r,t)&&(e.writable&&e.end(),await t)},li=async(e,t,r)=>{try{await ti(e),t.writable&&t.end()}catch(n){await ad(r),fd(t,n)}},di=async({subprocessStdin:e,subprocess:t,waitWritableFinal:r,waitWritableDestroy:n},o)=>{await Xe(r,t),await Xe(n,t)&&(fd(e,o),await Zr(t,o))},fd=(e,t)=>{Qr(e,e.writable,t)};import{Duplex as yC}from"stream";import{callbackify as xC}from"util";var md=({subprocess:e,concurrentStreams:t,encoding:r},{from:n,to:o,binary:s=!0,preserveNewlines:i=!0}={})=>{let a=s||U.has(r),{subprocessStdout:u,waitReadableDestroy:c}=ni(e,n,t),{subprocessStdin:l,waitWritableFinal:d,waitWritableDestroy:f}=ui(e,o,t),{readableEncoding:m,readableObjectMode:D,readableHighWaterMark:b}=oi(u,a),{read:F,onStdoutDataDone:E}=ii({subprocessStdout:u,subprocess:e,binary:a,encoding:r,preserveNewlines:i}),v=new yC({read:F,...ci(l,e,d),destroy:xC(wC.bind(void 0,{subprocessStdout:u,subprocessStdin:l,subprocess:e,waitReadableDestroy:c,waitWritableFinal:d,waitWritableDestroy:f})),readableHighWaterMark:b,writableHighWaterMark:l.writableHighWaterMark,readableObjectMode:D,writableObjectMode:l.writableObjectMode,encoding:m});return si({subprocessStdout:u,onStdoutDataDone:E,readable:v,subprocess:e,subprocessStdin:l}),li(l,v,u),v},wC=async({subprocessStdout:e,subprocessStdin:t,subprocess:r,waitReadableDestroy:n,waitWritableFinal:o,waitWritableDestroy:s},i)=>{await Promise.all([ai({subprocessStdout:e,subprocess:r,waitReadableDestroy:n},i),di({subprocessStdin:t,subprocess:r,waitWritableFinal:o,waitWritableDestroy:s},i)])};var fi=(e,t,{from:r,binary:n=!1,preserveNewlines:o=!1}={})=>{let s=n||U.has(t),i=Ge(e,r),a=Jr({subprocessStdout:i,subprocess:e,binary:s,shouldEncode:!0,encoding:t,preserveNewlines:o});return FC(a,i,e)},FC=async function*(e,t,r){try{yield*e}finally{t.readable&&t.destroy(),await r}};var pd=(e,{encoding:t})=>{let r=id();e.readable=ud.bind(void 0,{subprocess:e,concurrentStreams:r,encoding:t}),e.writable=dd.bind(void 0,{subprocess:e,concurrentStreams:r}),e.duplex=md.bind(void 0,{subprocess:e,concurrentStreams:r,encoding:t}),e.iterable=fi.bind(void 0,e,t),e[Symbol.asyncIterator]=fi.bind(void 0,e,t,{})};var Dd=(e,t)=>{for(let[r,n]of AC){let o=n.value.bind(t);Reflect.defineProperty(e,r,{...n,value:o})}},SC=(async()=>{})().constructor.prototype,AC=["then","catch","finally"].map(e=>[e,Reflect.getOwnPropertyDescriptor(SC,e)]);var hd=(e,t,r,n)=>{let{file:o,commandArguments:s,command:i,escapedCommand:a,startTime:u,verboseInfo:c,options:l,fileDescriptors:d}=TC(e,t,r),{subprocess:f,promise:m}=$C({file:o,commandArguments:s,options:l,startTime:u,verboseInfo:c,command:i,escapedCommand:a,fileDescriptors:d});return f.pipe=Kr.bind(void 0,{source:f,sourcePromise:m,boundOptions:{},createNested:n}),Dd(f,m),ne.set(f,{options:l,fileDescriptors:d}),f},TC=(e,t,r)=>{let{command:n,escapedCommand:o,startTime:s,verboseInfo:i}=nr(e,t,r),{file:a,commandArguments:u,options:c}=Fr(e,t,r),l=vC(c),d=_l(l,i);return{file:a,commandArguments:u,command:n,escapedCommand:o,startTime:s,verboseInfo:i,options:l,fileDescriptors:d}},vC=({timeout:e,signal:t,...r})=>{if(t!==void 0)throw new TypeError('The "signal" option has been renamed to "cancelSignal" instead.');return{...r,timeoutDuration:e}},$C=({file:e,commandArguments:t,options:r,startTime:n,verboseInfo:o,command:s,escapedCommand:i,fileDescriptors:a})=>{let u;try{u=OC(...Sr(e,t,r))}catch(D){return wl({error:D,command:s,escapedCommand:i,fileDescriptors:a,options:r,startTime:n,verboseInfo:o})}let c=new AbortController;_C(Number.POSITIVE_INFINITY,c.signal);let l=[...u.stdio];Pl(u,a,c),kl(u,r,c);let d={},f=re();u.kill=Za.bind(void 0,{kill:u.kill.bind(u),options:r,onInternalError:f,context:d,controller:c}),u.all=Zl(u,r),pd(u,r),El(u,r);let m=BC({subprocess:u,options:r,startTime:n,verboseInfo:o,fileDescriptors:a,originalStreams:l,command:s,escapedCommand:i,context:d,onInternalError:f,controller:c});return{subprocess:u,promise:m}},BC=async({subprocess:e,options:t,startTime:r,verboseInfo:n,fileDescriptors:o,originalStreams:s,command:i,escapedCommand:a,context:u,onInternalError:c,controller:l})=>{let[d,[f,m],D,b,F]=await od({subprocess:e,options:t,context:u,verboseInfo:n,fileDescriptors:o,originalStreams:s,onInternalError:c,controller:l});l.abort(),c.resolve();let E=D.map((y,A)=>fe(y,t,A)),v=fe(b,t,"all"),R=IC({errorInfo:d,exitCode:f,signal:m,stdio:E,all:v,ipcOutput:F,context:u,options:t,command:i,escapedCommand:a,startTime:r});return Ye(R,n,t)},IC=({errorInfo:e,exitCode:t,signal:r,stdio:n,all:o,ipcOutput:s,context:i,options:a,command:u,escapedCommand:c,startTime:l})=>"error"in e?gt({error:e.error,command:u,escapedCommand:c,timedOut:i.terminationReason==="timeout",isCanceled:i.terminationReason==="cancel"||i.terminationReason==="gracefulCancel",isGracefullyCanceled:i.terminationReason==="gracefulCancel",isMaxBuffer:e.error instanceof oe,isForcefullyTerminated:i.isForcefullyTerminated,exitCode:t,signal:r,stdio:n,all:o,ipcOutput:s,options:a,startTime:l,isSync:!1}):Rr({command:u,escapedCommand:c,stdio:n,all:o,ipcOutput:s,options:a,startTime:l});var en=(e,t)=>{let r=Object.fromEntries(Object.entries(t).map(([n,o])=>[n,RC(n,e[n],o)]));return{...e,...r}},RC=(e,t,r)=>MC.has(e)&&T(t)&&T(r)?{...t,...r}:r,MC=new Set(["env",...Un]);var ye=(e,t,r,n)=>{let o=(i,a,u)=>ye(i,a,r,u),s=(...i)=>PC({mapArguments:e,deepOptions:r,boundOptions:t,setBoundExeca:n,createNested:o},...i);return n!==void 0&&n(s,o,t),s},PC=({mapArguments:e,deepOptions:t={},boundOptions:r={},setBoundExeca:n,createNested:o},s,...i)=>{if(T(s))return o(e,en(r,s),n);let{file:a,commandArguments:u,options:c,isSync:l}=LC({mapArguments:e,firstArgument:s,nextArguments:i,deepOptions:t,boundOptions:r});return l?pl(a,u,c):hd(a,u,c,o)},LC=({mapArguments:e,firstArgument:t,nextArguments:r,deepOptions:n,boundOptions:o})=>{let s=_s(t)?Os(t,r):[t,...r],[i,a,u]=zt(...s),c=en(en(n,o),u),{file:l=i,commandArguments:d=a,options:f=c,isSync:m=!1}=e({file:i,commandArguments:a,options:c});return{file:l,commandArguments:d,options:f,isSync:m}};var gd=({file:e,commandArguments:t})=>Cd(e,t),bd=({file:e,commandArguments:t})=>({...Cd(e,t),isSync:!0}),Cd=(e,t)=>{if(t.length>0)throw new TypeError(`The command and its arguments must be passed as a single string: ${e} ${t}.`);let[r,...n]=kC(e);return{file:r,commandArguments:n}},kC=e=>{if(typeof e!="string")throw new TypeError(`The command must be a string: ${String(e)}.`);let t=e.trim();if(t==="")return[];let r=[];for(let n of t.split(jC)){let o=r.at(-1);o&&o.endsWith("\\")?r[r.length-1]=`${o.slice(0,-1)} ${n}`:r.push(n)}return r},jC=/ +/g;var Ed=(e,t,r)=>{e.sync=t(NC,r),e.s=e.sync},yd=({options:e})=>xd(e),NC=({options:e})=>({...xd(e),isSync:!0}),xd=e=>({options:{...UC(e),...e}}),UC=({input:e,inputFile:t,stdio:r})=>e===void 0&&t===void 0&&r===void 0?{stdin:"inherit"}:{},wd={preferLocal:!0};var Ft=ye(()=>({})),OO=ye(()=>({isSync:!0})),Fd=ye(gd),TO=ye(bd),vO=ye(Mu),$O=ye(yd,{},wd,Ed),{sendMessage:BO,getOneMessage:IO,getEachMessage:RO,getCancelSignal:MO}=yl();function Ze(e){return e.replace(/\\/g,"\\\\").replace(/'/g,"\\'")}async function Q(e,t,r){return Ft("docker",["compose",...e],{cwd:t,...r})}async function Qe(e,t){let{stdout:r}=await Ft("docker",["compose","exec","-T","web","bin/rails","runner",e],{cwd:t});return r.split(`
`).filter(n=>!n.startsWith("[")).join(`
`).trim()}async function Sd(e){await Ft("docker",["compose","exec","web","bin/rails","c"],{cwd:e,stdio:"inherit"})}async function tn(e,t){await Ft("docker",["compose","logs","-f",e],{cwd:t,stdio:"inherit"})}function Ad(e){e.command("dev").description("Start services and stream logs").action(async()=>{let t=_(),r=M();r.start("Starting Docker services..."),await Q(["up","-d"],t.projectDir),r.stop("Docker services started."),Ht(["",St.default.bold("Admin Dashboard"),`  ${St.default.cyan(`http://localhost:${t.port}/admin`)}`,`  Email:    ${hs}`,`  Password: ${gs}`,"",St.default.bold("Store API"),`  ${St.default.cyan(`http://localhost:${t.port}/api/v3/store`)}`,""].join(`
`),"Spree Commerce"),L.info(`Streaming logs (Ctrl+C to stop)...
`),await tn("web",t.projectDir)})}function _d(e){e.command("stop").description("Stop services").action(async()=>{let t=_(),r=M();r.start("Stopping services..."),await Q(["stop"],t.projectDir),r.stop("Services stopped.")})}function Od(e){e.command("update").description("Pull latest image and recreate containers").action(async()=>{let t=_(),r=M();r.start("Pulling latest images..."),await Q(["pull"],t.projectDir),r.stop("Images pulled."),r.start("Recreating containers..."),await Q(["up","-d"],t.projectDir),r.stop("Containers recreated."),L.success("Update complete! Migrations will run automatically on startup."),L.info("Run `spree logs` to follow the startup progress.")})}function Td(e){e.command("logs").description("Stream service logs").argument("[service]","service name (web or worker)","web").action(async t=>{let r=_();await tn(t,r.projectDir)})}function vd(e){e.command("console").description("Open Rails console").action(async()=>{let t=_();await Sd(t.projectDir)})}var $d=q(Se(),1);function Bd(e){e.command("user").description("Manage admin users").command("create").description("Create an admin user").option("--email <email>","admin email").option("--password <password>","admin password").action(async r=>{let n=_(),o=r.email,s=r.password;if(!o){let l=await Gt({message:"Admin email:",placeholder:"admin@example.com",validate(d){if(!d)return"Email is required";if(!d.includes("@"))return"Invalid email"}});ge(l)&&(Pe("Cancelled."),process.exit(0)),o=l}if(!s){let l=await ps({message:"Admin password:",validate(d){if(!d||d.length<6)return"Password must be at least 6 characters"}});ge(l)&&(Pe("Cancelled."),process.exit(0)),s=l}let i=M();i.start("Creating admin user...");let a=Ze(o),u=Ze(s),c=["admin = Spree.admin_user_class.create!(",`email: '${a}',`,`password: '${u}',`,`password_confirmation: '${u}'`,");","admin.add_role('admin', Spree::Store.default);","print admin.email"].join(" ");await Qe(c,n.projectDir),i.stop("Admin user created."),L.success(`Email: ${$d.default.cyan(o)}`)})}var Fe=q(Se(),1),Zd=q(Xd(),1);function Qd(e){let t=e.command("api-key").description("Manage API keys");t.command("create").description("Create an API key").option("--name <name>","key name").option("--type <type>","key type: publishable or secret").action(async r=>{let n=_(),o=r.name,s=r.type;if(!o){let D=await Gt({message:"Key name:",placeholder:"My Storefront",validate(b){if(!b)return"Name is required"}});ge(D)&&(Pe("Cancelled."),process.exit(0)),o=D}if(!s){let D=await Ds({message:"Key type:",options:[{value:"publishable",label:"Publishable (for storefronts)"},{value:"secret",label:"Secret (for server-to-server)"}]});ge(D)&&(Pe("Cancelled."),process.exit(0)),s=D}if(s!=="publishable"&&s!=="secret")throw new Error('Key type must be "publishable" or "secret".');let i=M();i.start("Creating API key...");let u=["key = Spree::Store.default.api_keys.create!(",`name: '${Ze(o)}',`,`key_type: '${s}'`,");","print key.plaintext_token"].join(" "),c=await Qe(u,n.projectDir),l=s==="publishable"?"pk_":"sk_",d=c.match(new RegExp(`${l}[A-Za-z0-9_-]+`)),f=d?d[0]:c.trim();i.stop("API key created.");let m=[`${Fe.default.bold("Name:")}  ${o}`,`${Fe.default.bold("Type:")}  ${s}`,`${Fe.default.bold("Token:")} ${Fe.default.cyan(f)}`];s==="secret"&&(m.push(""),m.push(Fe.default.yellow("Save this token now \u2014 secret keys cannot be retrieved later."))),Ht(m.join(`
`),"API Key")}),t.command("list").description("List API keys").action(async()=>{let r=_(),n=M();n.start("Fetching API keys...");let o=["Spree::Store.default.api_keys.order(created_at: :desc).each { |k|","status = k.revoked_at ? 'revoked' : 'active';","token = k.secret? ? k.token_prefix : k.token;","puts [k.prefixed_id, k.name, k.key_type, token, k.created_at.strftime('%Y-%m-%d %H:%M'), status].join('|')","}"].join(" "),s=await Qe(o,r.projectDir);n.stop("");let i=s.trim().split(`
`).filter(Boolean);if(i.length===0){L.info("No API keys found.");return}let a=i.map(u=>{let[c,l,d,f,m,D]=u.split("|");return{ID:c??"",Name:l??"",Type:d??"",Token:f??"",Created:m??"",Status:D==="active"?Fe.default.green(D):Fe.default.red(D??"")}});(0,Zd.printTable)(a)}),t.command("revoke").description("Revoke an API key").argument("<id>","ID of the key to revoke (from api-key list)").action(async r=>{let n=_(),o=M();o.start("Revoking API key...");let i=[`key = Spree::Store.default.api_keys.find_by_prefix_id!('${Ze(r)}');`,"key.revoke!;","print key.name"].join(" "),u=(await Qe(i,n.projectDir)).trim();o.stop(`API key "${u}" revoked.`)})}function ef(e){e.command("seed").description("Seed the database").action(async()=>{let t=_(),r=M();r.start("Seeding database..."),await Q(["exec","-T","web","bin/rails","db:seed"],t.projectDir),r.stop("Database seeded.")})}import{platform as VE}from"os";function tf(e){e.command("open").description("Open the admin dashboard in the browser").action(async()=>{let r=`http://localhost:${_().port}/admin`,n=VE();await Fd(`${n==="darwin"?"open":n==="win32"?"start":"xdg-open"} ${r}`)})}function rf(e){e.command("sample-data").description("Load sample data (products, categories, images)").action(async()=>{let t=_(),r=M();r.start("Loading sample data..."),await Q(["exec","-T","web","bin/rails","spree:load_sample_data"],t.projectDir),r.stop("Sample data loaded.")})}var z=new Gi().name("spree").description("CLI for managing Spree Commerce projects").version("2.0.0");Ad(z);_d(z);Od(z);Td(z);vd(z);Bd(z);Qd(z);tf(z);ef(z);rf(z);z.exitOverride();async function GE(){try{await z.parseAsync()}catch(e){e instanceof Error&&"code"in e&&(e.code==="commander.helpDisplayed"||e.code==="commander.version")&&process.exit(0);let t=e instanceof Error?e.message:"An unexpected error occurred.";console.error(`
${nf.default.red("Error:")} ${t}
`),process.exit(1)}}GE();
