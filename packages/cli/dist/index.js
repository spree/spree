#!/usr/bin/env node
import { createRequire as __createRequire } from "node:module";
const require = __createRequire(import.meta.url);
var nf=Object.create;var Ti=Object.defineProperty;var of=Object.getOwnPropertyDescriptor;var sf=Object.getOwnPropertyNames;var af=Object.getPrototypeOf,uf=Object.prototype.hasOwnProperty;var j=(t=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(t,{get:(e,r)=>(typeof require<"u"?require:e)[r]}):t)(function(t){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+t+'" is not supported')});var g=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var cf=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of sf(e))!uf.call(t,o)&&o!==r&&Ti(t,o,{get:()=>e[o],enumerable:!(n=of(e,o))||n.enumerable});return t};var q=(t,e,r)=>(r=t!=null?nf(af(t)):{},cf(e||!t||!t.__esModule?Ti(r,"default",{value:t,enumerable:!0}):r,t));var nt=g(on=>{"use strict";var vt=class extends Error{constructor(e,r,n){super(n),Error.captureStackTrace(this,this.constructor),this.name=this.constructor.name,this.code=r,this.exitCode=e,this.nestedError=void 0}},nn=class extends vt{constructor(e){super(1,"commander.invalidArgument",e),Error.captureStackTrace(this,this.constructor),this.name=this.constructor.name}};on.CommanderError=vt;on.InvalidArgumentError=nn});var $t=g(an=>{"use strict";var{InvalidArgumentError:lf}=nt(),sn=class{constructor(e,r){switch(this.description=r||"",this.variadic=!1,this.parseArg=void 0,this.defaultValue=void 0,this.defaultValueDescription=void 0,this.argChoices=void 0,e[0]){case"<":this.required=!0,this._name=e.slice(1,-1);break;case"[":this.required=!1,this._name=e.slice(1,-1);break;default:this.required=!0,this._name=e;break}this._name.length>3&&this._name.slice(-3)==="..."&&(this.variadic=!0,this._name=this._name.slice(0,-3))}name(){return this._name}_concatValue(e,r){return r===this.defaultValue||!Array.isArray(r)?[e]:r.concat(e)}default(e,r){return this.defaultValue=e,this.defaultValueDescription=r,this}argParser(e){return this.parseArg=e,this}choices(e){return this.argChoices=e.slice(),this.parseArg=(r,n)=>{if(!this.argChoices.includes(r))throw new lf(`Allowed choices are ${this.argChoices.join(", ")}.`);return this.variadic?this._concatValue(r,n):r},this}argRequired(){return this.required=!0,this}argOptional(){return this.required=!1,this}};function df(t){let e=t.name()+(t.variadic===!0?"...":"");return t.required?"<"+e+">":"["+e+"]"}an.Argument=sn;an.humanReadableArgName=df});var ln=g(cn=>{"use strict";var{humanReadableArgName:ff}=$t(),un=class{constructor(){this.helpWidth=void 0,this.minWidthToWrap=40,this.sortSubcommands=!1,this.sortOptions=!1,this.showGlobalOptions=!1}prepareContext(e){this.helpWidth=this.helpWidth??e.helpWidth??80}visibleCommands(e){let r=e.commands.filter(o=>!o._hidden),n=e._getHelpCommand();return n&&!n._hidden&&r.push(n),this.sortSubcommands&&r.sort((o,s)=>o.name().localeCompare(s.name())),r}compareOptions(e,r){let n=o=>o.short?o.short.replace(/^-/,""):o.long.replace(/^--/,"");return n(e).localeCompare(n(r))}visibleOptions(e){let r=e.options.filter(o=>!o.hidden),n=e._getHelpOption();if(n&&!n.hidden){let o=n.short&&e._findOption(n.short),s=n.long&&e._findOption(n.long);!o&&!s?r.push(n):n.long&&!s?r.push(e.createOption(n.long,n.description)):n.short&&!o&&r.push(e.createOption(n.short,n.description))}return this.sortOptions&&r.sort(this.compareOptions),r}visibleGlobalOptions(e){if(!this.showGlobalOptions)return[];let r=[];for(let n=e.parent;n;n=n.parent){let o=n.options.filter(s=>!s.hidden);r.push(...o)}return this.sortOptions&&r.sort(this.compareOptions),r}visibleArguments(e){return e._argsDescription&&e.registeredArguments.forEach(r=>{r.description=r.description||e._argsDescription[r.name()]||""}),e.registeredArguments.find(r=>r.description)?e.registeredArguments:[]}subcommandTerm(e){let r=e.registeredArguments.map(n=>ff(n)).join(" ");return e._name+(e._aliases[0]?"|"+e._aliases[0]:"")+(e.options.length?" [options]":"")+(r?" "+r:"")}optionTerm(e){return e.flags}argumentTerm(e){return e.name()}longestSubcommandTermLength(e,r){return r.visibleCommands(e).reduce((n,o)=>Math.max(n,this.displayWidth(r.styleSubcommandTerm(r.subcommandTerm(o)))),0)}longestOptionTermLength(e,r){return r.visibleOptions(e).reduce((n,o)=>Math.max(n,this.displayWidth(r.styleOptionTerm(r.optionTerm(o)))),0)}longestGlobalOptionTermLength(e,r){return r.visibleGlobalOptions(e).reduce((n,o)=>Math.max(n,this.displayWidth(r.styleOptionTerm(r.optionTerm(o)))),0)}longestArgumentTermLength(e,r){return r.visibleArguments(e).reduce((n,o)=>Math.max(n,this.displayWidth(r.styleArgumentTerm(r.argumentTerm(o)))),0)}commandUsage(e){let r=e._name;e._aliases[0]&&(r=r+"|"+e._aliases[0]);let n="";for(let o=e.parent;o;o=o.parent)n=o.name()+" "+n;return n+r+" "+e.usage()}commandDescription(e){return e.description()}subcommandDescription(e){return e.summary()||e.description()}optionDescription(e){let r=[];return e.argChoices&&r.push(`choices: ${e.argChoices.map(n=>JSON.stringify(n)).join(", ")}`),e.defaultValue!==void 0&&(e.required||e.optional||e.isBoolean()&&typeof e.defaultValue=="boolean")&&r.push(`default: ${e.defaultValueDescription||JSON.stringify(e.defaultValue)}`),e.presetArg!==void 0&&e.optional&&r.push(`preset: ${JSON.stringify(e.presetArg)}`),e.envVar!==void 0&&r.push(`env: ${e.envVar}`),r.length>0?`${e.description} (${r.join(", ")})`:e.description}argumentDescription(e){let r=[];if(e.argChoices&&r.push(`choices: ${e.argChoices.map(n=>JSON.stringify(n)).join(", ")}`),e.defaultValue!==void 0&&r.push(`default: ${e.defaultValueDescription||JSON.stringify(e.defaultValue)}`),r.length>0){let n=`(${r.join(", ")})`;return e.description?`${e.description} ${n}`:n}return e.description}formatHelp(e,r){let n=r.padWidth(e,r),o=r.helpWidth??80;function s(d,f){return r.formatItem(d,n,f,r)}let i=[`${r.styleTitle("Usage:")} ${r.styleUsage(r.commandUsage(e))}`,""],a=r.commandDescription(e);a.length>0&&(i=i.concat([r.boxWrap(r.styleCommandDescription(a),o),""]));let u=r.visibleArguments(e).map(d=>s(r.styleArgumentTerm(r.argumentTerm(d)),r.styleArgumentDescription(r.argumentDescription(d))));u.length>0&&(i=i.concat([r.styleTitle("Arguments:"),...u,""]));let c=r.visibleOptions(e).map(d=>s(r.styleOptionTerm(r.optionTerm(d)),r.styleOptionDescription(r.optionDescription(d))));if(c.length>0&&(i=i.concat([r.styleTitle("Options:"),...c,""])),r.showGlobalOptions){let d=r.visibleGlobalOptions(e).map(f=>s(r.styleOptionTerm(r.optionTerm(f)),r.styleOptionDescription(r.optionDescription(f))));d.length>0&&(i=i.concat([r.styleTitle("Global Options:"),...d,""]))}let l=r.visibleCommands(e).map(d=>s(r.styleSubcommandTerm(r.subcommandTerm(d)),r.styleSubcommandDescription(r.subcommandDescription(d))));return l.length>0&&(i=i.concat([r.styleTitle("Commands:"),...l,""])),i.join(`
`)}displayWidth(e){return vi(e).length}styleTitle(e){return e}styleUsage(e){return e.split(" ").map(r=>r==="[options]"?this.styleOptionText(r):r==="[command]"?this.styleSubcommandText(r):r[0]==="["||r[0]==="<"?this.styleArgumentText(r):this.styleCommandText(r)).join(" ")}styleCommandDescription(e){return this.styleDescriptionText(e)}styleOptionDescription(e){return this.styleDescriptionText(e)}styleSubcommandDescription(e){return this.styleDescriptionText(e)}styleArgumentDescription(e){return this.styleDescriptionText(e)}styleDescriptionText(e){return e}styleOptionTerm(e){return this.styleOptionText(e)}styleSubcommandTerm(e){return e.split(" ").map(r=>r==="[options]"?this.styleOptionText(r):r[0]==="["||r[0]==="<"?this.styleArgumentText(r):this.styleSubcommandText(r)).join(" ")}styleArgumentTerm(e){return this.styleArgumentText(e)}styleOptionText(e){return e}styleArgumentText(e){return e}styleSubcommandText(e){return e}styleCommandText(e){return e}padWidth(e,r){return Math.max(r.longestOptionTermLength(e,r),r.longestGlobalOptionTermLength(e,r),r.longestSubcommandTermLength(e,r),r.longestArgumentTermLength(e,r))}preformatted(e){return/\n[^\S\r\n]/.test(e)}formatItem(e,r,n,o){let i=" ".repeat(2);if(!n)return i+e;let a=e.padEnd(r+e.length-o.displayWidth(e)),u=2,l=(this.helpWidth??80)-r-u-2,d;return l<this.minWidthToWrap||o.preformatted(n)?d=n:d=o.boxWrap(n,l).replace(/\n/g,`
`+" ".repeat(r+u)),i+a+" ".repeat(u)+d.replace(/\n/g,`
${i}`)}boxWrap(e,r){if(r<this.minWidthToWrap)return e;let n=e.split(/\r\n|\n/),o=/[\s]*[^\s]+/g,s=[];return n.forEach(i=>{let a=i.match(o);if(a===null){s.push("");return}let u=[a.shift()],c=this.displayWidth(u[0]);a.forEach(l=>{let d=this.displayWidth(l);if(c+d<=r){u.push(l),c+=d;return}s.push(u.join(""));let f=l.trimStart();u=[f],c=this.displayWidth(f)}),s.push(u.join(""))}),s.join(`
`)}};function vi(t){let e=/\x1b\[\d*(;\d*)*m/g;return t.replace(e,"")}cn.Help=un;cn.stripColor=vi});var pn=g(mn=>{"use strict";var{InvalidArgumentError:mf}=nt(),dn=class{constructor(e,r){this.flags=e,this.description=r||"",this.required=e.includes("<"),this.optional=e.includes("["),this.variadic=/\w\.\.\.[>\]]$/.test(e),this.mandatory=!1;let n=pf(e);this.short=n.shortFlag,this.long=n.longFlag,this.negate=!1,this.long&&(this.negate=this.long.startsWith("--no-")),this.defaultValue=void 0,this.defaultValueDescription=void 0,this.presetArg=void 0,this.envVar=void 0,this.parseArg=void 0,this.hidden=!1,this.argChoices=void 0,this.conflictsWith=[],this.implied=void 0}default(e,r){return this.defaultValue=e,this.defaultValueDescription=r,this}preset(e){return this.presetArg=e,this}conflicts(e){return this.conflictsWith=this.conflictsWith.concat(e),this}implies(e){let r=e;return typeof e=="string"&&(r={[e]:!0}),this.implied=Object.assign(this.implied||{},r),this}env(e){return this.envVar=e,this}argParser(e){return this.parseArg=e,this}makeOptionMandatory(e=!0){return this.mandatory=!!e,this}hideHelp(e=!0){return this.hidden=!!e,this}_concatValue(e,r){return r===this.defaultValue||!Array.isArray(r)?[e]:r.concat(e)}choices(e){return this.argChoices=e.slice(),this.parseArg=(r,n)=>{if(!this.argChoices.includes(r))throw new mf(`Allowed choices are ${this.argChoices.join(", ")}.`);return this.variadic?this._concatValue(r,n):r},this}name(){return this.long?this.long.replace(/^--/,""):this.short.replace(/^-/,"")}attributeName(){return this.negate?$i(this.name().replace(/^no-/,"")):$i(this.name())}is(e){return this.short===e||this.long===e}isBoolean(){return!this.required&&!this.optional&&!this.negate}},fn=class{constructor(e){this.positiveOptions=new Map,this.negativeOptions=new Map,this.dualOptions=new Set,e.forEach(r=>{r.negate?this.negativeOptions.set(r.attributeName(),r):this.positiveOptions.set(r.attributeName(),r)}),this.negativeOptions.forEach((r,n)=>{this.positiveOptions.has(n)&&this.dualOptions.add(n)})}valueFromOption(e,r){let n=r.attributeName();if(!this.dualOptions.has(n))return!0;let o=this.negativeOptions.get(n).presetArg,s=o!==void 0?o:!1;return r.negate===(s===e)}};function $i(t){return t.split("-").reduce((e,r)=>e+r[0].toUpperCase()+r.slice(1))}function pf(t){let e,r,n=/^-[^-]$/,o=/^--[^-]/,s=t.split(/[ |,]+/).concat("guard");if(n.test(s[0])&&(e=s.shift()),o.test(s[0])&&(r=s.shift()),!e&&n.test(s[0])&&(e=s.shift()),!e&&o.test(s[0])&&(e=r,r=s.shift()),s[0].startsWith("-")){let i=s[0],a=`option creation failed due to '${i}' in option flags '${t}'`;throw/^-[^-][^-]/.test(i)?new Error(`${a}
- a short flag is a single dash and a single character
  - either use a single dash and a single character (for a short flag)
  - or use a double dash for a long option (and can have two, like '--ws, --workspace')`):n.test(i)?new Error(`${a}
- too many short flags`):o.test(i)?new Error(`${a}
- too many long flags`):new Error(`${a}
- unrecognised flag format`)}if(e===void 0&&r===void 0)throw new Error(`option creation failed due to no flags found in '${t}'.`);return{shortFlag:e,longFlag:r}}mn.Option=dn;mn.DualOptions=fn});var Ii=g(Bi=>{"use strict";function Df(t,e){if(Math.abs(t.length-e.length)>3)return Math.max(t.length,e.length);let r=[];for(let n=0;n<=t.length;n++)r[n]=[n];for(let n=0;n<=e.length;n++)r[0][n]=n;for(let n=1;n<=e.length;n++)for(let o=1;o<=t.length;o++){let s=1;t[o-1]===e[n-1]?s=0:s=1,r[o][n]=Math.min(r[o-1][n]+1,r[o][n-1]+1,r[o-1][n-1]+s),o>1&&n>1&&t[o-1]===e[n-2]&&t[o-2]===e[n-1]&&(r[o][n]=Math.min(r[o][n],r[o-2][n-2]+1))}return r[t.length][e.length]}function hf(t,e){if(!e||e.length===0)return"";e=Array.from(new Set(e));let r=t.startsWith("--");r&&(t=t.slice(2),e=e.map(i=>i.slice(2)));let n=[],o=3,s=.4;return e.forEach(i=>{if(i.length<=1)return;let a=Df(t,i),u=Math.max(t.length,i.length);(u-a)/u>s&&(a<o?(o=a,n=[i]):a===o&&n.push(i))}),n.sort((i,a)=>i.localeCompare(a)),r&&(n=n.map(i=>`--${i}`)),n.length>1?`
(Did you mean one of ${n.join(", ")}?)`:n.length===1?`
(Did you mean ${n[0]}?)`:""}Bi.suggestSimilar=hf});var Li=g(Cn=>{"use strict";var gf=j("events").EventEmitter,Dn=j("child_process"),ue=j("path"),Bt=j("fs"),C=j("process"),{Argument:bf,humanReadableArgName:Cf}=$t(),{CommanderError:hn}=nt(),{Help:Ef,stripColor:yf}=ln(),{Option:Ri,DualOptions:xf}=pn(),{suggestSimilar:Mi}=Ii(),gn=class t extends gf{constructor(e){super(),this.commands=[],this.options=[],this.parent=null,this._allowUnknownOption=!1,this._allowExcessArguments=!1,this.registeredArguments=[],this._args=this.registeredArguments,this.args=[],this.rawArgs=[],this.processedArgs=[],this._scriptPath=null,this._name=e||"",this._optionValues={},this._optionValueSources={},this._storeOptionsAsProperties=!1,this._actionHandler=null,this._executableHandler=!1,this._executableFile=null,this._executableDir=null,this._defaultCommandName=null,this._exitCallback=null,this._aliases=[],this._combineFlagAndOptionalValue=!0,this._description="",this._summary="",this._argsDescription=void 0,this._enablePositionalOptions=!1,this._passThroughOptions=!1,this._lifeCycleHooks={},this._showHelpAfterError=!1,this._showSuggestionAfterError=!0,this._savedState=null,this._outputConfiguration={writeOut:r=>C.stdout.write(r),writeErr:r=>C.stderr.write(r),outputError:(r,n)=>n(r),getOutHelpWidth:()=>C.stdout.isTTY?C.stdout.columns:void 0,getErrHelpWidth:()=>C.stderr.isTTY?C.stderr.columns:void 0,getOutHasColors:()=>bn()??(C.stdout.isTTY&&C.stdout.hasColors?.()),getErrHasColors:()=>bn()??(C.stderr.isTTY&&C.stderr.hasColors?.()),stripColor:r=>yf(r)},this._hidden=!1,this._helpOption=void 0,this._addImplicitHelpCommand=void 0,this._helpCommand=void 0,this._helpConfiguration={}}copyInheritedSettings(e){return this._outputConfiguration=e._outputConfiguration,this._helpOption=e._helpOption,this._helpCommand=e._helpCommand,this._helpConfiguration=e._helpConfiguration,this._exitCallback=e._exitCallback,this._storeOptionsAsProperties=e._storeOptionsAsProperties,this._combineFlagAndOptionalValue=e._combineFlagAndOptionalValue,this._allowExcessArguments=e._allowExcessArguments,this._enablePositionalOptions=e._enablePositionalOptions,this._showHelpAfterError=e._showHelpAfterError,this._showSuggestionAfterError=e._showSuggestionAfterError,this}_getCommandAndAncestors(){let e=[];for(let r=this;r;r=r.parent)e.push(r);return e}command(e,r,n){let o=r,s=n;typeof o=="object"&&o!==null&&(s=o,o=null),s=s||{};let[,i,a]=e.match(/([^ ]+) *(.*)/),u=this.createCommand(i);return o&&(u.description(o),u._executableHandler=!0),s.isDefault&&(this._defaultCommandName=u._name),u._hidden=!!(s.noHelp||s.hidden),u._executableFile=s.executableFile||null,a&&u.arguments(a),this._registerCommand(u),u.parent=this,u.copyInheritedSettings(this),o?this:u}createCommand(e){return new t(e)}createHelp(){return Object.assign(new Ef,this.configureHelp())}configureHelp(e){return e===void 0?this._helpConfiguration:(this._helpConfiguration=e,this)}configureOutput(e){return e===void 0?this._outputConfiguration:(Object.assign(this._outputConfiguration,e),this)}showHelpAfterError(e=!0){return typeof e!="string"&&(e=!!e),this._showHelpAfterError=e,this}showSuggestionAfterError(e=!0){return this._showSuggestionAfterError=!!e,this}addCommand(e,r){if(!e._name)throw new Error(`Command passed to .addCommand() must have a name
- specify the name in Command constructor or using .name()`);return r=r||{},r.isDefault&&(this._defaultCommandName=e._name),(r.noHelp||r.hidden)&&(e._hidden=!0),this._registerCommand(e),e.parent=this,e._checkForBrokenPassThrough(),this}createArgument(e,r){return new bf(e,r)}argument(e,r,n,o){let s=this.createArgument(e,r);return typeof n=="function"?s.default(o).argParser(n):s.default(n),this.addArgument(s),this}arguments(e){return e.trim().split(/ +/).forEach(r=>{this.argument(r)}),this}addArgument(e){let r=this.registeredArguments.slice(-1)[0];if(r&&r.variadic)throw new Error(`only the last argument can be variadic '${r.name()}'`);if(e.required&&e.defaultValue!==void 0&&e.parseArg===void 0)throw new Error(`a default value for a required argument is never used: '${e.name()}'`);return this.registeredArguments.push(e),this}helpCommand(e,r){if(typeof e=="boolean")return this._addImplicitHelpCommand=e,this;e=e??"help [command]";let[,n,o]=e.match(/([^ ]+) *(.*)/),s=r??"display help for command",i=this.createCommand(n);return i.helpOption(!1),o&&i.arguments(o),s&&i.description(s),this._addImplicitHelpCommand=!0,this._helpCommand=i,this}addHelpCommand(e,r){return typeof e!="object"?(this.helpCommand(e,r),this):(this._addImplicitHelpCommand=!0,this._helpCommand=e,this)}_getHelpCommand(){return this._addImplicitHelpCommand??(this.commands.length&&!this._actionHandler&&!this._findCommand("help"))?(this._helpCommand===void 0&&this.helpCommand(void 0,void 0),this._helpCommand):null}hook(e,r){let n=["preSubcommand","preAction","postAction"];if(!n.includes(e))throw new Error(`Unexpected value for event passed to hook : '${e}'.
Expecting one of '${n.join("', '")}'`);return this._lifeCycleHooks[e]?this._lifeCycleHooks[e].push(r):this._lifeCycleHooks[e]=[r],this}exitOverride(e){return e?this._exitCallback=e:this._exitCallback=r=>{if(r.code!=="commander.executeSubCommandAsync")throw r},this}_exit(e,r,n){this._exitCallback&&this._exitCallback(new hn(e,r,n)),C.exit(e)}action(e){let r=n=>{let o=this.registeredArguments.length,s=n.slice(0,o);return this._storeOptionsAsProperties?s[o]=this:s[o]=this.opts(),s.push(this),e.apply(this,s)};return this._actionHandler=r,this}createOption(e,r){return new Ri(e,r)}_callParseArg(e,r,n,o){try{return e.parseArg(r,n)}catch(s){if(s.code==="commander.invalidArgument"){let i=`${o} ${s.message}`;this.error(i,{exitCode:s.exitCode,code:s.code})}throw s}}_registerOption(e){let r=e.short&&this._findOption(e.short)||e.long&&this._findOption(e.long);if(r){let n=e.long&&this._findOption(e.long)?e.long:e.short;throw new Error(`Cannot add option '${e.flags}'${this._name&&` to command '${this._name}'`} due to conflicting flag '${n}'
-  already used by option '${r.flags}'`)}this.options.push(e)}_registerCommand(e){let r=o=>[o.name()].concat(o.aliases()),n=r(e).find(o=>this._findCommand(o));if(n){let o=r(this._findCommand(n)).join("|"),s=r(e).join("|");throw new Error(`cannot add command '${s}' as already have command '${o}'`)}this.commands.push(e)}addOption(e){this._registerOption(e);let r=e.name(),n=e.attributeName();if(e.negate){let s=e.long.replace(/^--no-/,"--");this._findOption(s)||this.setOptionValueWithSource(n,e.defaultValue===void 0?!0:e.defaultValue,"default")}else e.defaultValue!==void 0&&this.setOptionValueWithSource(n,e.defaultValue,"default");let o=(s,i,a)=>{s==null&&e.presetArg!==void 0&&(s=e.presetArg);let u=this.getOptionValue(n);s!==null&&e.parseArg?s=this._callParseArg(e,s,u,i):s!==null&&e.variadic&&(s=e._concatValue(s,u)),s==null&&(e.negate?s=!1:e.isBoolean()||e.optional?s=!0:s=""),this.setOptionValueWithSource(n,s,a)};return this.on("option:"+r,s=>{let i=`error: option '${e.flags}' argument '${s}' is invalid.`;o(s,i,"cli")}),e.envVar&&this.on("optionEnv:"+r,s=>{let i=`error: option '${e.flags}' value '${s}' from env '${e.envVar}' is invalid.`;o(s,i,"env")}),this}_optionEx(e,r,n,o,s){if(typeof r=="object"&&r instanceof Ri)throw new Error("To add an Option object use addOption() instead of option() or requiredOption()");let i=this.createOption(r,n);if(i.makeOptionMandatory(!!e.mandatory),typeof o=="function")i.default(s).argParser(o);else if(o instanceof RegExp){let a=o;o=(u,c)=>{let l=a.exec(u);return l?l[0]:c},i.default(s).argParser(o)}else i.default(o);return this.addOption(i)}option(e,r,n,o){return this._optionEx({},e,r,n,o)}requiredOption(e,r,n,o){return this._optionEx({mandatory:!0},e,r,n,o)}combineFlagAndOptionalValue(e=!0){return this._combineFlagAndOptionalValue=!!e,this}allowUnknownOption(e=!0){return this._allowUnknownOption=!!e,this}allowExcessArguments(e=!0){return this._allowExcessArguments=!!e,this}enablePositionalOptions(e=!0){return this._enablePositionalOptions=!!e,this}passThroughOptions(e=!0){return this._passThroughOptions=!!e,this._checkForBrokenPassThrough(),this}_checkForBrokenPassThrough(){if(this.parent&&this._passThroughOptions&&!this.parent._enablePositionalOptions)throw new Error(`passThroughOptions cannot be used for '${this._name}' without turning on enablePositionalOptions for parent command(s)`)}storeOptionsAsProperties(e=!0){if(this.options.length)throw new Error("call .storeOptionsAsProperties() before adding options");if(Object.keys(this._optionValues).length)throw new Error("call .storeOptionsAsProperties() before setting option values");return this._storeOptionsAsProperties=!!e,this}getOptionValue(e){return this._storeOptionsAsProperties?this[e]:this._optionValues[e]}setOptionValue(e,r){return this.setOptionValueWithSource(e,r,void 0)}setOptionValueWithSource(e,r,n){return this._storeOptionsAsProperties?this[e]=r:this._optionValues[e]=r,this._optionValueSources[e]=n,this}getOptionValueSource(e){return this._optionValueSources[e]}getOptionValueSourceWithGlobals(e){let r;return this._getCommandAndAncestors().forEach(n=>{n.getOptionValueSource(e)!==void 0&&(r=n.getOptionValueSource(e))}),r}_prepareUserArgs(e,r){if(e!==void 0&&!Array.isArray(e))throw new Error("first parameter to parse must be array or undefined");if(r=r||{},e===void 0&&r.from===void 0){C.versions?.electron&&(r.from="electron");let o=C.execArgv??[];(o.includes("-e")||o.includes("--eval")||o.includes("-p")||o.includes("--print"))&&(r.from="eval")}e===void 0&&(e=C.argv),this.rawArgs=e.slice();let n;switch(r.from){case void 0:case"node":this._scriptPath=e[1],n=e.slice(2);break;case"electron":C.defaultApp?(this._scriptPath=e[1],n=e.slice(2)):n=e.slice(1);break;case"user":n=e.slice(0);break;case"eval":n=e.slice(1);break;default:throw new Error(`unexpected parse option { from: '${r.from}' }`)}return!this._name&&this._scriptPath&&this.nameFromFilename(this._scriptPath),this._name=this._name||"program",n}parse(e,r){this._prepareForParse();let n=this._prepareUserArgs(e,r);return this._parseCommand([],n),this}async parseAsync(e,r){this._prepareForParse();let n=this._prepareUserArgs(e,r);return await this._parseCommand([],n),this}_prepareForParse(){this._savedState===null?this.saveStateBeforeParse():this.restoreStateBeforeParse()}saveStateBeforeParse(){this._savedState={_name:this._name,_optionValues:{...this._optionValues},_optionValueSources:{...this._optionValueSources}}}restoreStateBeforeParse(){if(this._storeOptionsAsProperties)throw new Error(`Can not call parse again when storeOptionsAsProperties is true.
- either make a new Command for each call to parse, or stop storing options as properties`);this._name=this._savedState._name,this._scriptPath=null,this.rawArgs=[],this._optionValues={...this._savedState._optionValues},this._optionValueSources={...this._savedState._optionValueSources},this.args=[],this.processedArgs=[]}_checkForMissingExecutable(e,r,n){if(Bt.existsSync(e))return;let o=r?`searched for local subcommand relative to directory '${r}'`:"no directory for search for local subcommand, use .executableDir() to supply a custom directory",s=`'${e}' does not exist
 - if '${n}' is not meant to be an executable command, remove description parameter from '.command()' and use '.description()' instead
 - if the default executable name is not suitable, use the executableFile option to supply a custom name or path
 - ${o}`;throw new Error(s)}_executeSubCommand(e,r){r=r.slice();let n=!1,o=[".js",".ts",".tsx",".mjs",".cjs"];function s(l,d){let f=ue.resolve(l,d);if(Bt.existsSync(f))return f;if(o.includes(ue.extname(d)))return;let m=o.find(D=>Bt.existsSync(`${f}${D}`));if(m)return`${f}${m}`}this._checkForMissingMandatoryOptions(),this._checkForConflictingOptions();let i=e._executableFile||`${this._name}-${e._name}`,a=this._executableDir||"";if(this._scriptPath){let l;try{l=Bt.realpathSync(this._scriptPath)}catch{l=this._scriptPath}a=ue.resolve(ue.dirname(l),a)}if(a){let l=s(a,i);if(!l&&!e._executableFile&&this._scriptPath){let d=ue.basename(this._scriptPath,ue.extname(this._scriptPath));d!==this._name&&(l=s(a,`${d}-${e._name}`))}i=l||i}n=o.includes(ue.extname(i));let u;C.platform!=="win32"?n?(r.unshift(i),r=Pi(C.execArgv).concat(r),u=Dn.spawn(C.argv[0],r,{stdio:"inherit"})):u=Dn.spawn(i,r,{stdio:"inherit"}):(this._checkForMissingExecutable(i,a,e._name),r.unshift(i),r=Pi(C.execArgv).concat(r),u=Dn.spawn(C.execPath,r,{stdio:"inherit"})),u.killed||["SIGUSR1","SIGUSR2","SIGTERM","SIGINT","SIGHUP"].forEach(d=>{C.on(d,()=>{u.killed===!1&&u.exitCode===null&&u.kill(d)})});let c=this._exitCallback;u.on("close",l=>{l=l??1,c?c(new hn(l,"commander.executeSubCommandAsync","(close)")):C.exit(l)}),u.on("error",l=>{if(l.code==="ENOENT")this._checkForMissingExecutable(i,a,e._name);else if(l.code==="EACCES")throw new Error(`'${i}' not executable`);if(!c)C.exit(1);else{let d=new hn(1,"commander.executeSubCommandAsync","(error)");d.nestedError=l,c(d)}}),this.runningCommand=u}_dispatchSubcommand(e,r,n){let o=this._findCommand(e);o||this.help({error:!0}),o._prepareForParse();let s;return s=this._chainOrCallSubCommandHook(s,o,"preSubcommand"),s=this._chainOrCall(s,()=>{if(o._executableHandler)this._executeSubCommand(o,r.concat(n));else return o._parseCommand(r,n)}),s}_dispatchHelpCommand(e){e||this.help();let r=this._findCommand(e);return r&&!r._executableHandler&&r.help(),this._dispatchSubcommand(e,[],[this._getHelpOption()?.long??this._getHelpOption()?.short??"--help"])}_checkNumberOfArguments(){this.registeredArguments.forEach((e,r)=>{e.required&&this.args[r]==null&&this.missingArgument(e.name())}),!(this.registeredArguments.length>0&&this.registeredArguments[this.registeredArguments.length-1].variadic)&&this.args.length>this.registeredArguments.length&&this._excessArguments(this.args)}_processArguments(){let e=(n,o,s)=>{let i=o;if(o!==null&&n.parseArg){let a=`error: command-argument value '${o}' is invalid for argument '${n.name()}'.`;i=this._callParseArg(n,o,s,a)}return i};this._checkNumberOfArguments();let r=[];this.registeredArguments.forEach((n,o)=>{let s=n.defaultValue;n.variadic?o<this.args.length?(s=this.args.slice(o),n.parseArg&&(s=s.reduce((i,a)=>e(n,a,i),n.defaultValue))):s===void 0&&(s=[]):o<this.args.length&&(s=this.args[o],n.parseArg&&(s=e(n,s,n.defaultValue))),r[o]=s}),this.processedArgs=r}_chainOrCall(e,r){return e&&e.then&&typeof e.then=="function"?e.then(()=>r()):r()}_chainOrCallHooks(e,r){let n=e,o=[];return this._getCommandAndAncestors().reverse().filter(s=>s._lifeCycleHooks[r]!==void 0).forEach(s=>{s._lifeCycleHooks[r].forEach(i=>{o.push({hookedCommand:s,callback:i})})}),r==="postAction"&&o.reverse(),o.forEach(s=>{n=this._chainOrCall(n,()=>s.callback(s.hookedCommand,this))}),n}_chainOrCallSubCommandHook(e,r,n){let o=e;return this._lifeCycleHooks[n]!==void 0&&this._lifeCycleHooks[n].forEach(s=>{o=this._chainOrCall(o,()=>s(this,r))}),o}_parseCommand(e,r){let n=this.parseOptions(r);if(this._parseOptionsEnv(),this._parseOptionsImplied(),e=e.concat(n.operands),r=n.unknown,this.args=e.concat(r),e&&this._findCommand(e[0]))return this._dispatchSubcommand(e[0],e.slice(1),r);if(this._getHelpCommand()&&e[0]===this._getHelpCommand().name())return this._dispatchHelpCommand(e[1]);if(this._defaultCommandName)return this._outputHelpIfRequested(r),this._dispatchSubcommand(this._defaultCommandName,e,r);this.commands.length&&this.args.length===0&&!this._actionHandler&&!this._defaultCommandName&&this.help({error:!0}),this._outputHelpIfRequested(n.unknown),this._checkForMissingMandatoryOptions(),this._checkForConflictingOptions();let o=()=>{n.unknown.length>0&&this.unknownOption(n.unknown[0])},s=`command:${this.name()}`;if(this._actionHandler){o(),this._processArguments();let i;return i=this._chainOrCallHooks(i,"preAction"),i=this._chainOrCall(i,()=>this._actionHandler(this.processedArgs)),this.parent&&(i=this._chainOrCall(i,()=>{this.parent.emit(s,e,r)})),i=this._chainOrCallHooks(i,"postAction"),i}if(this.parent&&this.parent.listenerCount(s))o(),this._processArguments(),this.parent.emit(s,e,r);else if(e.length){if(this._findCommand("*"))return this._dispatchSubcommand("*",e,r);this.listenerCount("command:*")?this.emit("command:*",e,r):this.commands.length?this.unknownCommand():(o(),this._processArguments())}else this.commands.length?(o(),this.help({error:!0})):(o(),this._processArguments())}_findCommand(e){if(e)return this.commands.find(r=>r._name===e||r._aliases.includes(e))}_findOption(e){return this.options.find(r=>r.is(e))}_checkForMissingMandatoryOptions(){this._getCommandAndAncestors().forEach(e=>{e.options.forEach(r=>{r.mandatory&&e.getOptionValue(r.attributeName())===void 0&&e.missingMandatoryOptionValue(r)})})}_checkForConflictingLocalOptions(){let e=this.options.filter(n=>{let o=n.attributeName();return this.getOptionValue(o)===void 0?!1:this.getOptionValueSource(o)!=="default"});e.filter(n=>n.conflictsWith.length>0).forEach(n=>{let o=e.find(s=>n.conflictsWith.includes(s.attributeName()));o&&this._conflictingOption(n,o)})}_checkForConflictingOptions(){this._getCommandAndAncestors().forEach(e=>{e._checkForConflictingLocalOptions()})}parseOptions(e){let r=[],n=[],o=r,s=e.slice();function i(u){return u.length>1&&u[0]==="-"}let a=null;for(;s.length;){let u=s.shift();if(u==="--"){o===n&&o.push(u),o.push(...s);break}if(a&&!i(u)){this.emit(`option:${a.name()}`,u);continue}if(a=null,i(u)){let c=this._findOption(u);if(c){if(c.required){let l=s.shift();l===void 0&&this.optionMissingArgument(c),this.emit(`option:${c.name()}`,l)}else if(c.optional){let l=null;s.length>0&&!i(s[0])&&(l=s.shift()),this.emit(`option:${c.name()}`,l)}else this.emit(`option:${c.name()}`);a=c.variadic?c:null;continue}}if(u.length>2&&u[0]==="-"&&u[1]!=="-"){let c=this._findOption(`-${u[1]}`);if(c){c.required||c.optional&&this._combineFlagAndOptionalValue?this.emit(`option:${c.name()}`,u.slice(2)):(this.emit(`option:${c.name()}`),s.unshift(`-${u.slice(2)}`));continue}}if(/^--[^=]+=/.test(u)){let c=u.indexOf("="),l=this._findOption(u.slice(0,c));if(l&&(l.required||l.optional)){this.emit(`option:${l.name()}`,u.slice(c+1));continue}}if(i(u)&&(o=n),(this._enablePositionalOptions||this._passThroughOptions)&&r.length===0&&n.length===0){if(this._findCommand(u)){r.push(u),s.length>0&&n.push(...s);break}else if(this._getHelpCommand()&&u===this._getHelpCommand().name()){r.push(u),s.length>0&&r.push(...s);break}else if(this._defaultCommandName){n.push(u),s.length>0&&n.push(...s);break}}if(this._passThroughOptions){o.push(u),s.length>0&&o.push(...s);break}o.push(u)}return{operands:r,unknown:n}}opts(){if(this._storeOptionsAsProperties){let e={},r=this.options.length;for(let n=0;n<r;n++){let o=this.options[n].attributeName();e[o]=o===this._versionOptionName?this._version:this[o]}return e}return this._optionValues}optsWithGlobals(){return this._getCommandAndAncestors().reduce((e,r)=>Object.assign(e,r.opts()),{})}error(e,r){this._outputConfiguration.outputError(`${e}
`,this._outputConfiguration.writeErr),typeof this._showHelpAfterError=="string"?this._outputConfiguration.writeErr(`${this._showHelpAfterError}
`):this._showHelpAfterError&&(this._outputConfiguration.writeErr(`
`),this.outputHelp({error:!0}));let n=r||{},o=n.exitCode||1,s=n.code||"commander.error";this._exit(o,s,e)}_parseOptionsEnv(){this.options.forEach(e=>{if(e.envVar&&e.envVar in C.env){let r=e.attributeName();(this.getOptionValue(r)===void 0||["default","config","env"].includes(this.getOptionValueSource(r)))&&(e.required||e.optional?this.emit(`optionEnv:${e.name()}`,C.env[e.envVar]):this.emit(`optionEnv:${e.name()}`))}})}_parseOptionsImplied(){let e=new xf(this.options),r=n=>this.getOptionValue(n)!==void 0&&!["default","implied"].includes(this.getOptionValueSource(n));this.options.filter(n=>n.implied!==void 0&&r(n.attributeName())&&e.valueFromOption(this.getOptionValue(n.attributeName()),n)).forEach(n=>{Object.keys(n.implied).filter(o=>!r(o)).forEach(o=>{this.setOptionValueWithSource(o,n.implied[o],"implied")})})}missingArgument(e){let r=`error: missing required argument '${e}'`;this.error(r,{code:"commander.missingArgument"})}optionMissingArgument(e){let r=`error: option '${e.flags}' argument missing`;this.error(r,{code:"commander.optionMissingArgument"})}missingMandatoryOptionValue(e){let r=`error: required option '${e.flags}' not specified`;this.error(r,{code:"commander.missingMandatoryOptionValue"})}_conflictingOption(e,r){let n=i=>{let a=i.attributeName(),u=this.getOptionValue(a),c=this.options.find(d=>d.negate&&a===d.attributeName()),l=this.options.find(d=>!d.negate&&a===d.attributeName());return c&&(c.presetArg===void 0&&u===!1||c.presetArg!==void 0&&u===c.presetArg)?c:l||i},o=i=>{let a=n(i),u=a.attributeName();return this.getOptionValueSource(u)==="env"?`environment variable '${a.envVar}'`:`option '${a.flags}'`},s=`error: ${o(e)} cannot be used with ${o(r)}`;this.error(s,{code:"commander.conflictingOption"})}unknownOption(e){if(this._allowUnknownOption)return;let r="";if(e.startsWith("--")&&this._showSuggestionAfterError){let o=[],s=this;do{let i=s.createHelp().visibleOptions(s).filter(a=>a.long).map(a=>a.long);o=o.concat(i),s=s.parent}while(s&&!s._enablePositionalOptions);r=Mi(e,o)}let n=`error: unknown option '${e}'${r}`;this.error(n,{code:"commander.unknownOption"})}_excessArguments(e){if(this._allowExcessArguments)return;let r=this.registeredArguments.length,n=r===1?"":"s",s=`error: too many arguments${this.parent?` for '${this.name()}'`:""}. Expected ${r} argument${n} but got ${e.length}.`;this.error(s,{code:"commander.excessArguments"})}unknownCommand(){let e=this.args[0],r="";if(this._showSuggestionAfterError){let o=[];this.createHelp().visibleCommands(this).forEach(s=>{o.push(s.name()),s.alias()&&o.push(s.alias())}),r=Mi(e,o)}let n=`error: unknown command '${e}'${r}`;this.error(n,{code:"commander.unknownCommand"})}version(e,r,n){if(e===void 0)return this._version;this._version=e,r=r||"-V, --version",n=n||"output the version number";let o=this.createOption(r,n);return this._versionOptionName=o.attributeName(),this._registerOption(o),this.on("option:"+o.name(),()=>{this._outputConfiguration.writeOut(`${e}
`),this._exit(0,"commander.version",e)}),this}description(e,r){return e===void 0&&r===void 0?this._description:(this._description=e,r&&(this._argsDescription=r),this)}summary(e){return e===void 0?this._summary:(this._summary=e,this)}alias(e){if(e===void 0)return this._aliases[0];let r=this;if(this.commands.length!==0&&this.commands[this.commands.length-1]._executableHandler&&(r=this.commands[this.commands.length-1]),e===r._name)throw new Error("Command alias can't be the same as its name");let n=this.parent?._findCommand(e);if(n){let o=[n.name()].concat(n.aliases()).join("|");throw new Error(`cannot add alias '${e}' to command '${this.name()}' as already have command '${o}'`)}return r._aliases.push(e),this}aliases(e){return e===void 0?this._aliases:(e.forEach(r=>this.alias(r)),this)}usage(e){if(e===void 0){if(this._usage)return this._usage;let r=this.registeredArguments.map(n=>Cf(n));return[].concat(this.options.length||this._helpOption!==null?"[options]":[],this.commands.length?"[command]":[],this.registeredArguments.length?r:[]).join(" ")}return this._usage=e,this}name(e){return e===void 0?this._name:(this._name=e,this)}nameFromFilename(e){return this._name=ue.basename(e,ue.extname(e)),this}executableDir(e){return e===void 0?this._executableDir:(this._executableDir=e,this)}helpInformation(e){let r=this.createHelp(),n=this._getOutputContext(e);r.prepareContext({error:n.error,helpWidth:n.helpWidth,outputHasColors:n.hasColors});let o=r.formatHelp(this,r);return n.hasColors?o:this._outputConfiguration.stripColor(o)}_getOutputContext(e){e=e||{};let r=!!e.error,n,o,s;return r?(n=a=>this._outputConfiguration.writeErr(a),o=this._outputConfiguration.getErrHasColors(),s=this._outputConfiguration.getErrHelpWidth()):(n=a=>this._outputConfiguration.writeOut(a),o=this._outputConfiguration.getOutHasColors(),s=this._outputConfiguration.getOutHelpWidth()),{error:r,write:a=>(o||(a=this._outputConfiguration.stripColor(a)),n(a)),hasColors:o,helpWidth:s}}outputHelp(e){let r;typeof e=="function"&&(r=e,e=void 0);let n=this._getOutputContext(e),o={error:n.error,write:n.write,command:this};this._getCommandAndAncestors().reverse().forEach(i=>i.emit("beforeAllHelp",o)),this.emit("beforeHelp",o);let s=this.helpInformation({error:n.error});if(r&&(s=r(s),typeof s!="string"&&!Buffer.isBuffer(s)))throw new Error("outputHelp callback must return a string or a Buffer");n.write(s),this._getHelpOption()?.long&&this.emit(this._getHelpOption().long),this.emit("afterHelp",o),this._getCommandAndAncestors().forEach(i=>i.emit("afterAllHelp",o))}helpOption(e,r){return typeof e=="boolean"?(e?this._helpOption=this._helpOption??void 0:this._helpOption=null,this):(e=e??"-h, --help",r=r??"display help for command",this._helpOption=this.createOption(e,r),this)}_getHelpOption(){return this._helpOption===void 0&&this.helpOption(void 0,void 0),this._helpOption}addHelpOption(e){return this._helpOption=e,this}help(e){this.outputHelp(e);let r=Number(C.exitCode??0);r===0&&e&&typeof e!="function"&&e.error&&(r=1),this._exit(r,"commander.help","(outputHelp)")}addHelpText(e,r){let n=["beforeAll","before","after","afterAll"];if(!n.includes(e))throw new Error(`Unexpected value for position to addHelpText.
Expecting one of '${n.join("', '")}'`);let o=`${e}Help`;return this.on(o,s=>{let i;typeof r=="function"?i=r({error:s.error,command:s.command}):i=r,i&&s.write(`${i}
`)}),this}_outputHelpIfRequested(e){let r=this._getHelpOption();r&&e.find(o=>r.is(o))&&(this.outputHelp(),this._exit(0,"commander.helpDisplayed","(outputHelp)"))}};function Pi(t){return t.map(e=>{if(!e.startsWith("--inspect"))return e;let r,n="127.0.0.1",o="9229",s;return(s=e.match(/^(--inspect(-brk)?)$/))!==null?r=s[1]:(s=e.match(/^(--inspect(-brk|-port)?)=([^:]+)$/))!==null?(r=s[1],/^\d+$/.test(s[3])?o=s[3]:n=s[3]):(s=e.match(/^(--inspect(-brk|-port)?)=([^:]+):(\d+)$/))!==null&&(r=s[1],n=s[3],o=s[4]),r&&o!=="0"?`${r}=${n}:${parseInt(o)+1}`:e})}function bn(){if(C.env.NO_COLOR||C.env.FORCE_COLOR==="0"||C.env.FORCE_COLOR==="false")return!1;if(C.env.FORCE_COLOR||C.env.CLICOLOR_FORCE!==void 0)return!0}Cn.Command=gn;Cn.useColor=bn});var Ui=g(W=>{"use strict";var{Argument:ki}=$t(),{Command:En}=Li(),{CommanderError:wf,InvalidArgumentError:ji}=nt(),{Help:Ff}=ln(),{Option:Ni}=pn();W.program=new En;W.createCommand=t=>new En(t);W.createOption=(t,e)=>new Ni(t,e);W.createArgument=(t,e)=>new ki(t,e);W.Command=En;W.Option=Ni;W.Argument=ki;W.Help=Ff;W.CommanderError=wf;W.InvalidArgumentError=ji;W.InvalidOptionArgumentError=ji});var Se=g((cy,yn)=>{"use strict";var Rt=process||{},Gi=Rt.argv||[],It=Rt.env||{},Sf=!(It.NO_COLOR||Gi.includes("--no-color"))&&(!!It.FORCE_COLOR||Gi.includes("--color")||Rt.platform==="win32"||(Rt.stdout||{}).isTTY&&It.TERM!=="dumb"||!!It.CI),Af=(t,e,r=t)=>n=>{let o=""+n,s=o.indexOf(e,t.length);return~s?t+_f(o,e,r,s)+e:t+o+e},_f=(t,e,r,n)=>{let o="",s=0;do o+=t.substring(s,n)+r,s=n+e.length,n=t.indexOf(e,s);while(~n);return o+t.substring(s)},Hi=(t=Sf)=>{let e=t?Af:()=>String;return{isColorSupported:t,reset:e("\x1B[0m","\x1B[0m"),bold:e("\x1B[1m","\x1B[22m","\x1B[22m\x1B[1m"),dim:e("\x1B[2m","\x1B[22m","\x1B[22m\x1B[2m"),italic:e("\x1B[3m","\x1B[23m"),underline:e("\x1B[4m","\x1B[24m"),inverse:e("\x1B[7m","\x1B[27m"),hidden:e("\x1B[8m","\x1B[28m"),strikethrough:e("\x1B[9m","\x1B[29m"),black:e("\x1B[30m","\x1B[39m"),red:e("\x1B[31m","\x1B[39m"),green:e("\x1B[32m","\x1B[39m"),yellow:e("\x1B[33m","\x1B[39m"),blue:e("\x1B[34m","\x1B[39m"),magenta:e("\x1B[35m","\x1B[39m"),cyan:e("\x1B[36m","\x1B[39m"),white:e("\x1B[37m","\x1B[39m"),gray:e("\x1B[90m","\x1B[39m"),bgBlack:e("\x1B[40m","\x1B[49m"),bgRed:e("\x1B[41m","\x1B[49m"),bgGreen:e("\x1B[42m","\x1B[49m"),bgYellow:e("\x1B[43m","\x1B[49m"),bgBlue:e("\x1B[44m","\x1B[49m"),bgMagenta:e("\x1B[45m","\x1B[49m"),bgCyan:e("\x1B[46m","\x1B[49m"),bgWhite:e("\x1B[47m","\x1B[49m"),blackBright:e("\x1B[90m","\x1B[39m"),redBright:e("\x1B[91m","\x1B[39m"),greenBright:e("\x1B[92m","\x1B[39m"),yellowBright:e("\x1B[93m","\x1B[39m"),blueBright:e("\x1B[94m","\x1B[39m"),magentaBright:e("\x1B[95m","\x1B[39m"),cyanBright:e("\x1B[96m","\x1B[39m"),whiteBright:e("\x1B[97m","\x1B[39m"),bgBlackBright:e("\x1B[100m","\x1B[49m"),bgRedBright:e("\x1B[101m","\x1B[49m"),bgGreenBright:e("\x1B[102m","\x1B[49m"),bgYellowBright:e("\x1B[103m","\x1B[49m"),bgBlueBright:e("\x1B[104m","\x1B[49m"),bgMagentaBright:e("\x1B[105m","\x1B[49m"),bgCyanBright:e("\x1B[106m","\x1B[49m"),bgWhiteBright:e("\x1B[107m","\x1B[49m")}};yn.exports=Hi();yn.exports.createColors=Hi});var wn=g((ly,zi)=>{"use strict";var xn={to(t,e){return e?`\x1B[${e+1};${t+1}H`:`\x1B[${t+1}G`},move(t,e){let r="";return t<0?r+=`\x1B[${-t}D`:t>0&&(r+=`\x1B[${t}C`),e<0?r+=`\x1B[${-e}A`:e>0&&(r+=`\x1B[${e}B`),r},up:(t=1)=>`\x1B[${t}A`,down:(t=1)=>`\x1B[${t}B`,forward:(t=1)=>`\x1B[${t}C`,backward:(t=1)=>`\x1B[${t}D`,nextLine:(t=1)=>"\x1B[E".repeat(t),prevLine:(t=1)=>"\x1B[F".repeat(t),left:"\x1B[G",hide:"\x1B[?25l",show:"\x1B[?25h",save:"\x1B7",restore:"\x1B8"},Of={up:(t=1)=>"\x1B[S".repeat(t),down:(t=1)=>"\x1B[T".repeat(t)},Tf={screen:"\x1B[2J",up:(t=1)=>"\x1B[1J".repeat(t),down:(t=1)=>"\x1B[J".repeat(t),line:"\x1B[2K",lineEnd:"\x1B[K",lineStart:"\x1B[1K",lines(t){let e="";for(let r=0;r<t;r++)e+=this.line+(r<t-1?xn.up():"");return t&&(e+=xn.left),e}};zi.exports={cursor:xn,scroll:Of,erase:Tf,beep:"\x07"}});var Js=g((hw,Ks)=>{"use strict";Ks.exports=Ys;Ys.sync=hp;var zs=j("fs");function Dp(t,e){var r=e.pathExt!==void 0?e.pathExt:process.env.PATHEXT;if(!r||(r=r.split(";"),r.indexOf("")!==-1))return!0;for(var n=0;n<r.length;n++){var o=r[n].toLowerCase();if(o&&t.substr(-o.length).toLowerCase()===o)return!0}return!1}function qs(t,e,r){return!t.isSymbolicLink()&&!t.isFile()?!1:Dp(e,r)}function Ys(t,e,r){zs.stat(t,function(n,o){r(n,n?!1:qs(o,t,e))})}function hp(t,e){return qs(zs.statSync(t),t,e)}});var ta=g((gw,ea)=>{"use strict";ea.exports=Zs;Zs.sync=gp;var Xs=j("fs");function Zs(t,e,r){Xs.stat(t,function(n,o){r(n,n?!1:Qs(o,e))})}function gp(t,e){return Qs(Xs.statSync(t),e)}function Qs(t,e){return t.isFile()&&bp(t,e)}function bp(t,e){var r=t.mode,n=t.uid,o=t.gid,s=e.uid!==void 0?e.uid:process.getuid&&process.getuid(),i=e.gid!==void 0?e.gid:process.getgid&&process.getgid(),a=parseInt("100",8),u=parseInt("010",8),c=parseInt("001",8),l=a|u,d=r&c||r&u&&o===i||r&a&&n===s||r&l&&s===0;return d}});var na=g((Cw,ra)=>{"use strict";var bw=j("fs"),nr;process.platform==="win32"||global.TESTING_WINDOWS?nr=Js():nr=ta();ra.exports=Gn;Gn.sync=Cp;function Gn(t,e,r){if(typeof e=="function"&&(r=e,e={}),!r){if(typeof Promise!="function")throw new TypeError("callback not provided");return new Promise(function(n,o){Gn(t,e||{},function(s,i){s?o(s):n(i)})})}nr(t,e||{},function(n,o){n&&(n.code==="EACCES"||e&&e.ignoreErrors)&&(n=null,o=!1),r(n,o)})}function Cp(t,e){try{return nr.sync(t,e||{})}catch(r){if(e&&e.ignoreErrors||r.code==="EACCES")return!1;throw r}}});var la=g((Ew,ca)=>{"use strict";var Ne=process.platform==="win32"||process.env.OSTYPE==="cygwin"||process.env.OSTYPE==="msys",oa=j("path"),Ep=Ne?";":":",ia=na(),sa=t=>Object.assign(new Error(`not found: ${t}`),{code:"ENOENT"}),aa=(t,e)=>{let r=e.colon||Ep,n=t.match(/\//)||Ne&&t.match(/\\/)?[""]:[...Ne?[process.cwd()]:[],...(e.path||process.env.PATH||"").split(r)],o=Ne?e.pathExt||process.env.PATHEXT||".EXE;.CMD;.BAT;.COM":"",s=Ne?o.split(r):[""];return Ne&&t.indexOf(".")!==-1&&s[0]!==""&&s.unshift(""),{pathEnv:n,pathExt:s,pathExtExe:o}},ua=(t,e,r)=>{typeof e=="function"&&(r=e,e={}),e||(e={});let{pathEnv:n,pathExt:o,pathExtExe:s}=aa(t,e),i=[],a=c=>new Promise((l,d)=>{if(c===n.length)return e.all&&i.length?l(i):d(sa(t));let f=n[c],m=/^".*"$/.test(f)?f.slice(1,-1):f,D=oa.join(m,t),b=!m&&/^\.[\\\/]/.test(t)?t.slice(0,2)+D:D;l(u(b,c,0))}),u=(c,l,d)=>new Promise((f,m)=>{if(d===o.length)return f(a(l+1));let D=o[d];ia(c+D,{pathExt:s},(b,F)=>{if(!b&&F)if(e.all)i.push(c+D);else return f(c+D);return f(u(c,l,d+1))})});return r?a(0).then(c=>r(null,c),r):a(0)},yp=(t,e)=>{e=e||{};let{pathEnv:r,pathExt:n,pathExtExe:o}=aa(t,e),s=[];for(let i=0;i<r.length;i++){let a=r[i],u=/^".*"$/.test(a)?a.slice(1,-1):a,c=oa.join(u,t),l=!u&&/^\.[\\\/]/.test(t)?t.slice(0,2)+c:c;for(let d=0;d<n.length;d++){let f=l+n[d];try{if(ia.sync(f,{pathExt:o}))if(e.all)s.push(f);else return f}catch{}}}if(e.all&&s.length)return s;if(e.nothrow)return null;throw sa(t)};ca.exports=ua;ua.sync=yp});var fa=g((yw,Hn)=>{"use strict";var da=(t={})=>{let e=t.env||process.env;return(t.platform||process.platform)!=="win32"?"PATH":Object.keys(e).reverse().find(n=>n.toUpperCase()==="PATH")||"Path"};Hn.exports=da;Hn.exports.default=da});var ha=g((xw,Da)=>{"use strict";var ma=j("path"),xp=la(),wp=fa();function pa(t,e){let r=t.options.env||process.env,n=process.cwd(),o=t.options.cwd!=null,s=o&&process.chdir!==void 0&&!process.chdir.disabled;if(s)try{process.chdir(t.options.cwd)}catch{}let i;try{i=xp.sync(t.command,{path:r[wp({env:r})],pathExt:e?ma.delimiter:void 0})}catch{}finally{s&&process.chdir(n)}return i&&(i=ma.resolve(o?t.options.cwd:"",i)),i}function Fp(t){return pa(t)||pa(t,!0)}Da.exports=Fp});var ga=g((ww,qn)=>{"use strict";var zn=/([()\][%!^"`<>&|;, *?])/g;function Sp(t){return t=t.replace(zn,"^$1"),t}function Ap(t,e){return t=`${t}`,t=t.replace(/(?=(\\+?)?)\1"/g,'$1$1\\"'),t=t.replace(/(?=(\\+?)?)\1$/,"$1$1"),t=`"${t}"`,t=t.replace(zn,"^$1"),e&&(t=t.replace(zn,"^$1")),t}qn.exports.command=Sp;qn.exports.argument=Ap});var Ca=g((Fw,ba)=>{"use strict";ba.exports=/^#!(.*)/});var ya=g((Sw,Ea)=>{"use strict";var _p=Ca();Ea.exports=(t="")=>{let e=t.match(_p);if(!e)return null;let[r,n]=e[0].replace(/#! ?/,"").split(" "),o=r.split("/").pop();return o==="env"?n:n?`${o} ${n}`:o}});var wa=g((Aw,xa)=>{"use strict";var Yn=j("fs"),Op=ya();function Tp(t){let r=Buffer.alloc(150),n;try{n=Yn.openSync(t,"r"),Yn.readSync(n,r,0,150,0),Yn.closeSync(n)}catch{}return Op(r.toString())}xa.exports=Tp});var _a=g((_w,Aa)=>{"use strict";var vp=j("path"),Fa=ha(),Sa=ga(),$p=wa(),Bp=process.platform==="win32",Ip=/\.(?:com|exe)$/i,Rp=/node_modules[\\/].bin[\\/][^\\/]+\.cmd$/i;function Mp(t){t.file=Fa(t);let e=t.file&&$p(t.file);return e?(t.args.unshift(t.file),t.command=e,Fa(t)):t.file}function Pp(t){if(!Bp)return t;let e=Mp(t),r=!Ip.test(e);if(t.options.forceShell||r){let n=Rp.test(e);t.command=vp.normalize(t.command),t.command=Sa.command(t.command),t.args=t.args.map(s=>Sa.argument(s,n));let o=[t.command].concat(t.args).join(" ");t.args=["/d","/s","/c",`"${o}"`],t.command=process.env.comspec||"cmd.exe",t.options.windowsVerbatimArguments=!0}return t}function Lp(t,e,r){e&&!Array.isArray(e)&&(r=e,e=null),e=e?e.slice(0):[],r=Object.assign({},r);let n={command:t,args:e,options:r,file:void 0,original:{command:t,args:e}};return r.shell?n:Pp(n)}Aa.exports=Lp});var va=g((Ow,Ta)=>{"use strict";var Kn=process.platform==="win32";function Jn(t,e){return Object.assign(new Error(`${e} ${t.command} ENOENT`),{code:"ENOENT",errno:"ENOENT",syscall:`${e} ${t.command}`,path:t.command,spawnargs:t.args})}function kp(t,e){if(!Kn)return;let r=t.emit;t.emit=function(n,o){if(n==="exit"){let s=Oa(o,e);if(s)return r.call(t,"error",s)}return r.apply(t,arguments)}}function Oa(t,e){return Kn&&t===1&&!e.file?Jn(e.original,"spawn"):null}function jp(t,e){return Kn&&t===1&&!e.file?Jn(e.original,"spawnSync"):null}Ta.exports={hookChildProcess:kp,verifyENOENT:Oa,verifyENOENTSync:jp,notFoundError:Jn}});var Ia=g((Tw,Ue)=>{"use strict";var $a=j("child_process"),Xn=_a(),Zn=va();function Ba(t,e,r){let n=Xn(t,e,r),o=$a.spawn(n.command,n.args,n.options);return Zn.hookChildProcess(o,n),o}function Np(t,e,r){let n=Xn(t,e,r),o=$a.spawnSync(n.command,n.args,n.options);return o.error=o.error||Zn.verifyENOENTSync(o.status,n),o}Ue.exports=Ba;Ue.exports.spawn=Ba;Ue.exports.sync=Np;Ue.exports._parse=Xn;Ue.exports._enoent=Zn});var mi=g(Qe=>{"use strict";Object.defineProperty(Qe,"__esModule",{value:!0});Qe.DEFAULT_COLOR_MAP=void 0;Qe.DEFAULT_COLOR_MAP={red:"\x1B[31m",green:"\x1B[32m",yellow:"\x1B[33m",blue:"\x1B[34m",magenta:"\x1B[35m",cyan:"\x1B[36m",white:"\x1B[37m",white_bold:"\x1B[01m",reset:"\x1B[0m"};var fi=class{constructor(e=Qe.DEFAULT_COLOR_MAP){this.text="",this.colorMap=e}addCharsWithColor(e,r){let n=this.colorMap[e];this.text+=n!==void 0?`${n}${r}${this.colorMap.reset}`:r}renderConsole(){return this.text}};Qe.default=fi});var St=g($=>{"use strict";Object.defineProperty($,"__esModule",{value:!0});$.DEFAULT_HEADER_ALIGNMENT=$.DEFAULT_ROW_ALIGNMENT=$.DEFAULT_HEADER_FONT_COLOR=$.DEFAULT_ROW_FONT_COLOR=$.COLORS=$.ALIGNMENTS=$.DEFAULT_TABLE_STYLE=$.DEFAULT_ROW_SEPARATOR=$.DEFAULT_COLUMN_LEN=void 0;$.DEFAULT_COLUMN_LEN=20;$.DEFAULT_ROW_SEPARATOR=!1;$.DEFAULT_TABLE_STYLE={headerTop:{left:"\u250C",mid:"\u252C",right:"\u2510",other:"\u2500"},headerBottom:{left:"\u251C",mid:"\u253C",right:"\u2524",other:"\u2500"},tableBottom:{left:"\u2514",mid:"\u2534",right:"\u2518",other:"\u2500"},vertical:"\u2502",rowSeparator:{left:"\u251C",mid:"\u253C",right:"\u2524",other:"\u2500"}};$.ALIGNMENTS=["right","left","center"];$.COLORS=["red","green","yellow","white","blue","magenta","cyan","white_bold","reset"];$.DEFAULT_ROW_FONT_COLOR="white";$.DEFAULT_HEADER_FONT_COLOR="white_bold";$.DEFAULT_ROW_ALIGNMENT="right";$.DEFAULT_HEADER_ALIGNMENT="center"});var Bd=g(pi=>{"use strict";Object.defineProperty(pi,"__esModule",{value:!0});var UC=[{first:768,last:879},{first:1155,last:1158},{first:1160,last:1161},{first:1425,last:1469},{first:1471,last:1471},{first:1473,last:1474},{first:1476,last:1477},{first:1479,last:1479},{first:1536,last:1539},{first:1552,last:1557},{first:1611,last:1630},{first:1648,last:1648},{first:1750,last:1764},{first:1767,last:1768},{first:1770,last:1773},{first:1807,last:1807},{first:1809,last:1809},{first:1840,last:1866},{first:1958,last:1968},{first:2027,last:2035},{first:2305,last:2306},{first:2364,last:2364},{first:2369,last:2376},{first:2381,last:2381},{first:2385,last:2388},{first:2402,last:2403},{first:2433,last:2433},{first:2492,last:2492},{first:2497,last:2500},{first:2509,last:2509},{first:2530,last:2531},{first:2561,last:2562},{first:2620,last:2620},{first:2625,last:2626},{first:2631,last:2632},{first:2635,last:2637},{first:2672,last:2673},{first:2689,last:2690},{first:2748,last:2748},{first:2753,last:2757},{first:2759,last:2760},{first:2765,last:2765},{first:2786,last:2787},{first:2817,last:2817},{first:2876,last:2876},{first:2879,last:2879},{first:2881,last:2883},{first:2893,last:2893},{first:2902,last:2902},{first:2946,last:2946},{first:3008,last:3008},{first:3021,last:3021},{first:3134,last:3136},{first:3142,last:3144},{first:3146,last:3149},{first:3157,last:3158},{first:3260,last:3260},{first:3263,last:3263},{first:3270,last:3270},{first:3276,last:3277},{first:3298,last:3299},{first:3393,last:3395},{first:3405,last:3405},{first:3530,last:3530},{first:3538,last:3540},{first:3542,last:3542},{first:3633,last:3633},{first:3636,last:3642},{first:3655,last:3662},{first:3761,last:3761},{first:3764,last:3769},{first:3771,last:3772},{first:3784,last:3789},{first:3864,last:3865},{first:3893,last:3893},{first:3895,last:3895},{first:3897,last:3897},{first:3953,last:3966},{first:3968,last:3972},{first:3974,last:3975},{first:3984,last:3991},{first:3993,last:4028},{first:4038,last:4038},{first:4141,last:4144},{first:4146,last:4146},{first:4150,last:4151},{first:4153,last:4153},{first:4184,last:4185},{first:4448,last:4607},{first:4959,last:4959},{first:5906,last:5908},{first:5938,last:5940},{first:5970,last:5971},{first:6002,last:6003},{first:6068,last:6069},{first:6071,last:6077},{first:6086,last:6086},{first:6089,last:6099},{first:6109,last:6109},{first:6155,last:6157},{first:6313,last:6313},{first:6432,last:6434},{first:6439,last:6440},{first:6450,last:6450},{first:6457,last:6459},{first:6679,last:6680},{first:6912,last:6915},{first:6964,last:6964},{first:6966,last:6970},{first:6972,last:6972},{first:6978,last:6978},{first:7019,last:7027},{first:7616,last:7626},{first:7678,last:7679},{first:8203,last:8207},{first:8234,last:8238},{first:8288,last:8291},{first:8298,last:8303},{first:8400,last:8431},{first:12330,last:12335},{first:12441,last:12442},{first:43014,last:43014},{first:43019,last:43019},{first:43045,last:43046},{first:64286,last:64286},{first:65024,last:65039},{first:65056,last:65059},{first:65279,last:65279},{first:65529,last:65531},{first:68097,last:68099},{first:68101,last:68102},{first:68108,last:68111},{first:68152,last:68154},{first:68159,last:68159},{first:119143,last:119145},{first:119155,last:119170},{first:119173,last:119179},{first:119210,last:119213},{first:119362,last:119364},{first:917505,last:917505},{first:917536,last:917631},{first:917760,last:917999}];pi.default=UC});var Id=g(Di=>{"use strict";Object.defineProperty(Di,"__esModule",{value:!0});var WC=(t,e,r)=>{let n=0,o,s=r;if(t<e[0].first||t>e[s].last)return 0;for(;s>=n;)if(o=Math.floor((n+s)/2),t>e[o].last)n=o+1;else if(t<e[o].first)s=o-1;else return 1;return 0};Di.default=WC});var hi=g(At=>{"use strict";var Md=At&&At.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(At,"__esModule",{value:!0});var Rd=Md(Bd()),VC=Md(Id()),GC=t=>t===0?0:t<32||t>=127&&t<160?-1:(0,VC.default)(t,Rd.default,Rd.default.length-1)?0:1+ +(t>=4352&&(t<=4447||t===9001||t===9002||t>=11904&&t<=42191&&t!==12351||t>=44032&&t<=55203||t>=63744&&t<=64255||t>=65040&&t<=65049||t>=65072&&t<=65135||t>=65280&&t<=65376||t>=65504&&t<=65510||t>=131072&&t<=196605||t>=196608&&t<=262141));At.default=GC});var Pd=g(_t=>{"use strict";var HC=_t&&_t.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(_t,"__esModule",{value:!0});var zC=HC(hi()),qC=t=>{let e=0;for(let r=0;r<t.length;r++){let n=t.charCodeAt(r),o=(0,zC.default)(n);if(o<0)return-1;e+=o}return e};_t.default=qC});var kd=g(xe=>{"use strict";var Ld=xe&&xe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(xe,"__esModule",{value:!0});xe.wcswidth=xe.wcwidth=void 0;var YC=Ld(Pd());xe.wcswidth=YC.default;var KC=Ld(hi());xe.wcwidth=KC.default});var gi=g(Re=>{"use strict";Object.defineProperty(Re,"__esModule",{value:!0});Re.findWidthInConsole=Re.stripAnsi=void 0;var JC=kd(),XC=/\x1b\[\d{1,3}(;\d{1,3})*m/g,ZC=t=>t.replace(XC,"");Re.stripAnsi=ZC;var QC=(t,e)=>{let r=0;return t=(0,Re.stripAnsi)(t),e&&Object.entries(e).forEach(([n,o])=>{let s=new RegExp(n,"g");r+=(t.match(s)||[]).length*o,t=t.replace(n,"")}),r+=(0,JC.wcswidth)(t),r};Re.findWidthInConsole=QC});var Ci=g(se=>{"use strict";Object.defineProperty(se,"__esModule",{value:!0});se.biggestWordInSentence=se.textWithPadding=se.splitTextIntoTextsOfMinLen=void 0;var bi=gi(),eE=(t,e,r)=>{let n=[];return t.split(/[\n\r]/).forEach(s=>{let i=s.split(" "),a=[],u=0;i.forEach(c=>{let l=(0,bi.findWidthInConsole)(c,r);u+l<=e?(u+=l+1,a.push(c)):(a.length>0&&n.push(a.join(" ")),a=[c],u=l+1)}),n.push(a.join(" "))}),n};se.splitTextIntoTextsOfMinLen=eE;var tE=(t,e,r,n)=>{let o=(0,bi.findWidthInConsole)(t,n),s=Math.floor((r-o)/2),i=r-s-o;if(r<o){let a=(0,se.splitTextIntoTextsOfMinLen)(t,r);return a.length===1?t:a.map(u=>(0,se.textWithPadding)(u,e,r,n)).join(`
`)}switch(e){case"left":return t.concat(" ".repeat(r-o));case"center":return" ".repeat(s).concat(t).concat(" ".repeat(i));default:return" ".repeat(r-o).concat(t)}};se.textWithPadding=tE;var rE=(t,e)=>t.split(" ").reduce((r,n)=>Math.max(r,(0,bi.findWidthInConsole)(n,e)),0);se.biggestWordInSentence=rE});var Ot=g(x=>{"use strict";Object.defineProperty(x,"__esModule",{value:!0});x.getWidthLimitedColumnsArray=x.createHeaderAsRow=x.renderTableHorizontalBorders=x.findLenOfColumn=x.createRow=x.createColumFromOnlyName=x.createTableHorizontalBorders=x.convertRawRowOptionsToStandard=x.evaluateCellText=x.cellText=void 0;var jd=gi(),Ei=Ci(),yi=St(),et=(t,e)=>Math.max(t,e),nE=t=>t==null?"":`${t}`;x.cellText=nE;var oE=(t,e)=>e?`${e(t)}`:(0,x.cellText)(t);x.evaluateCellText=oE;var iE=t=>{if(t)return{color:t.color,separator:t.separator||yi.DEFAULT_ROW_SEPARATOR}};x.convertRawRowOptionsToStandard=iE;var sE=({left:t,mid:e,right:r,other:n},o)=>{let s=t;return o.forEach(i=>{s+=n.repeat(i+2),s+=e}),s=s.slice(0,-e.length),s+=r,s};x.createTableHorizontalBorders=sE;var aE=t=>({name:t,title:t});x.createColumFromOnlyName=aE;var uE=(t,e,r)=>({color:t,separator:r,text:e});x.createRow=uE;var cE=(t,e,r)=>{let n=t.name,o=t.title,s=t.transform,i=et(0,t?.minLen||0);return t.maxLen?(i=et(i,et(t.maxLen,(0,Ei.biggestWordInSentence)(o,r))),i=e.reduce((a,u)=>et(a,(0,Ei.biggestWordInSentence)((0,x.evaluateCellText)(u.text[n],s),r)),i),i):(i=et(i,(0,jd.findWidthInConsole)(o,r)),e.forEach(a=>{i=et(i,(0,jd.findWidthInConsole)((0,x.evaluateCellText)(a.text[n],s),r))}),i)};x.findLenOfColumn=cE;var lE=(t,e)=>(0,x.createTableHorizontalBorders)(t,e);x.renderTableHorizontalBorders=lE;var dE=(t,e)=>{let r=yi.DEFAULT_HEADER_FONT_COLOR,n=t(r,{},!1);return e.forEach(o=>{n.text[o.name]=o.title}),n};x.createHeaderAsRow=dE;var fE=(t,e,r)=>{let n={};return t.forEach(o=>{n[o.name]=(0,Ei.splitTextIntoTextsOfMinLen)((0,x.cellText)(e.text[o.name]),o.length||yi.DEFAULT_COLUMN_LEN,r)}),n};x.getWidthLimitedColumnsArray=fE});var Nd=g(me=>{"use strict";Object.defineProperty(me,"__esModule",{value:!0});me.rawColumnToInternalColumn=me.objIfExists=void 0;var mE=St(),pE=(t,e)=>e?{[t]:e}:{};me.objIfExists=pE;var DE=(t,e)=>{var r;return Object.assign(Object.assign(Object.assign(Object.assign({name:t.name,title:(r=t.title)!==null&&r!==void 0?r:t.name},(0,me.objIfExists)("color",t.color||e?.color)),(0,me.objIfExists)("maxLen",t.maxLen||e?.maxLen)),(0,me.objIfExists)("minLen",t.minLen||e?.minLen)),{alignment:t.alignment||e?.alignment||mE.DEFAULT_ROW_ALIGNMENT,transform:t.transform})};me.rawColumnToInternalColumn=DE});var Ud=g(tt=>{"use strict";Object.defineProperty(tt,"__esModule",{value:!0});tt.preProcessRows=tt.preProcessColumns=void 0;var hE=Ot(),gE=t=>{t.computedColumns.length&&t.computedColumns.forEach(e=>{t.columns.some(n=>n.name===e.name)||(t.addColumn(Object.assign(Object.assign({},e),t.defaultColumnOptions)),t.rows.forEach((n,o,s)=>{let i=s.map(a=>a.text);n.text[e.name]=e.function(n.text,o,i)}))})},bE=t=>{t.enabledColumns.length&&(t.columns=t.columns.filter(e=>t.enabledColumns.includes(e.name)))},CE=t=>{t.disabledColumns.length&&(t.columns=t.columns.filter(e=>!t.disabledColumns.includes(e.name)))},EE=t=>{t.columns.forEach(e=>{e.length=(0,hE.findLenOfColumn)(e,t.rows,t.charLength)})},yE=t=>{gE(t),CE(t),bE(t),EE(t)};tt.preProcessColumns=yE;var xE=t=>{let e=t.rows.filter(r=>t.filterFunction(r.text)).sort((r,n)=>t.sortFunction(r.text,n.text));t.rows=e};tt.preProcessRows=xE});var xi=g(H=>{"use strict";var Vd=H&&H.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(H,"__esModule",{value:!0});H.printSimpleTable=H.renderSimpleTable=H.renderTable=void 0;var Gd=Vd(mi()),Hd=Ci(),ee=St(),we=Ot(),wE=Vd(wi()),Wd=Ud(),FE=(t,e,r,n,o,s,i,a)=>{let u=new Gd.default(i);return u.addCharsWithColor("",t.vertical),e.forEach(c=>{let d=r<n[c.name].length?(0,we.cellText)(n[c.name][r]):"";u.addCharsWithColor(ee.DEFAULT_ROW_FONT_COLOR," "),u.addCharsWithColor(o&&ee.DEFAULT_HEADER_FONT_COLOR||c.color||s.color,(0,Hd.textWithPadding)(d,c.alignment||ee.DEFAULT_ROW_ALIGNMENT,c.length||ee.DEFAULT_COLUMN_LEN,a)),u.addCharsWithColor("",` ${t.vertical}`)}),u.renderConsole()},zd=(t,e,r,n,o,s)=>{let i=(0,we.getWidthLimitedColumnsArray)(e,r,s),a=Object.values(i).reduce((c,l)=>Math.max(c,l.length),0),u=[];for(let c=0;c<a;c+=1){let l=FE(t,e,c,i,o,r,n,s);u.push(l)}return u},SE=(t,e)=>{let r=JSON.parse(JSON.stringify(t)),n={};return e.filter(o=>!!o.transform).forEach(o=>{n[o.name]=o.transform}),Object.keys(n).forEach(o=>{r.text[o]=n[o](r.text[o])}),r},AE=(t,e)=>{let r=[],n=SE(e,t.columns);return r=r.concat(zd(t.tableStyle,t.columns,n,t.colorMap,void 0,t.charLength)),r},_E=t=>{let e=[];if(t.title===void 0)return e;let r=()=>{let s=(i,a)=>i+a+2+1;return t.columns.map(i=>i.length||ee.DEFAULT_COLUMN_LEN).reduce(s,1)},n=(0,Hd.textWithPadding)(t.title,ee.DEFAULT_HEADER_ALIGNMENT,r()),o=new Gd.default(t.colorMap);return o.addCharsWithColor(ee.DEFAULT_HEADER_FONT_COLOR,n),e.push(o.renderConsole()),e},OE=t=>{let e=[];e.push((0,we.renderTableHorizontalBorders)(t.tableStyle.headerTop,t.columns.map(n=>n.length||ee.DEFAULT_COLUMN_LEN)));let r=(0,we.createHeaderAsRow)(we.createRow,t.columns);return e=e.concat(zd(t.tableStyle,t.columns,r,t.colorMap,!0)),e.push((0,we.renderTableHorizontalBorders)(t.tableStyle.headerBottom,t.columns.map(n=>n.length||ee.DEFAULT_COLUMN_LEN))),e},TE=t=>{let e=[];return e.push((0,we.renderTableHorizontalBorders)(t.tableStyle.tableBottom,t.columns.map(r=>r.length||ee.DEFAULT_COLUMN_LEN))),e},vE=(t,e)=>{let r=[],n=t.rows.length-1;return t.rows.indexOf(e)!==n&&e.separator&&r.push((0,we.renderTableHorizontalBorders)(t.tableStyle.rowSeparator,t.columns.map(s=>s.length||ee.DEFAULT_COLUMN_LEN))),r},$E=t=>{(0,Wd.preProcessColumns)(t),(0,Wd.preProcessRows)(t);let e=[];return _E(t).forEach(r=>e.push(r)),OE(t).forEach(r=>e.push(r)),t.rows.forEach(r=>{AE(t,r).forEach(n=>e.push(n)),vE(t,r).forEach(n=>e.push(n))}),TE(t).forEach(r=>e.push(r)),e.join(`
`)};H.renderTable=$E;var BE=(t,e)=>{let r=new wE.default(e);return r.addRows(t),(0,H.renderTable)(r)};H.renderSimpleTable=BE;var IE=(t,e)=>{console.log((0,H.renderSimpleTable)(t,e))};H.printSimpleTable=IE});var wi=g(_i=>{"use strict";Object.defineProperty(_i,"__esModule",{value:!0});var RE=mi(),tn=St(),Fi=Ot(),Si=Nd(),ME=xi(),PE=()=>0,LE=()=>!0,Ai=class{initSimple(e){this.columns=e.map(r=>({name:r,title:r,alignment:tn.DEFAULT_ROW_ALIGNMENT}))}initDetailed(e){var r;this.title=e?.title||this.title,this.tableStyle=Object.assign(Object.assign({},this.tableStyle),e?.style),this.sortFunction=e?.sort||this.sortFunction,this.filterFunction=e?.filter||this.filterFunction,this.enabledColumns=e?.enabledColumns||this.enabledColumns,this.disabledColumns=e?.disabledColumns||this.disabledColumns,this.computedColumns=e?.computedColumns||this.computedColumns,this.columns=((r=e?.columns)===null||r===void 0?void 0:r.map(n=>(0,Si.rawColumnToInternalColumn)(n,e?.defaultColumnOptions)))||this.columns,this.rowSeparator=e?.rowSeparator||this.rowSeparator,this.charLength=e?.charLength||this.charLength,this.defaultColumnOptions=e?.defaultColumnOptions||this.defaultColumnOptions,e?.shouldDisableColors?this.colorMap={}:e?.colorMap&&(this.colorMap=Object.assign(Object.assign({},this.colorMap),e.colorMap)),e.rows!==void 0&&this.addRows(e.rows)}constructor(e){this.rows=[],this.columns=[],this.title=void 0,this.tableStyle=tn.DEFAULT_TABLE_STYLE,this.filterFunction=LE,this.sortFunction=PE,this.enabledColumns=[],this.disabledColumns=[],this.computedColumns=[],this.rowSeparator=tn.DEFAULT_ROW_SEPARATOR,this.colorMap=RE.DEFAULT_COLOR_MAP,this.charLength={},this.defaultColumnOptions=void 0,this.transforms={},e instanceof Array?this.initSimple(e):typeof e=="object"&&this.initDetailed(e)}createColumnFromRow(e){let r=this.columns.map(n=>n.name);Object.keys(e).forEach(n=>{r.includes(n)||this.columns.push((0,Si.rawColumnToInternalColumn)((0,Fi.createColumFromOnlyName)(n),this.defaultColumnOptions))})}addColumn(e){let r=typeof e=="string"?(0,Fi.createColumFromOnlyName)(e):e;this.columns.push((0,Si.rawColumnToInternalColumn)(r,this.defaultColumnOptions))}addColumns(e){e.forEach(r=>{this.addColumn(r)})}addRow(e,r){this.createColumnFromRow(e),this.rows.push((0,Fi.createRow)(r?.color||tn.DEFAULT_ROW_FONT_COLOR,e,r?.separator!==void 0?r?.separator:this.rowSeparator))}addRows(e,r){e.forEach(n=>{this.addRow(n,r)})}renderTable(){return(0,ME.renderTable)(this)}};_i.default=Ai});var Yd=g(Tt=>{"use strict";var kE=Tt&&Tt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Tt,"__esModule",{value:!0});var jE=kE(wi()),qd=Ot(),Oi=class{constructor(e){this.table=new jE.default(e)}addColumn(e){return this.table.addColumn(e),this}addColumns(e){return this.table.addColumns(e),this}addRow(e,r){return this.table.addRow(e,(0,qd.convertRawRowOptionsToStandard)(r)),this}addRows(e,r){return this.table.addRows(e,(0,qd.convertRawRowOptionsToStandard)(r)),this}printTable(){let e=this.table.renderTable();console.log(e)}render(){return this.table.renderTable()}};Tt.default=Oi});var Jd=g(ae=>{"use strict";var NE=ae&&ae.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ae,"__esModule",{value:!0});ae.renderTable=ae.printTable=ae.Table=void 0;var UE=NE(Yd());ae.Table=UE.default;var Kd=xi();Object.defineProperty(ae,"printTable",{enumerable:!0,get:function(){return Kd.printSimpleTable}});Object.defineProperty(ae,"renderTable",{enumerable:!0,get:function(){return Kd.renderSimpleTable}})});var Wi=q(Ui(),1),{program:ZE,createCommand:QE,createArgument:ey,createOption:ty,CommanderError:ry,InvalidArgumentError:ny,InvalidOptionArgumentError:oy,Command:Vi,Argument:iy,Option:sy,Help:ay}=Wi.default;var rf=q(Se(),1);import{stripVTControlCharacters as vn}from"util";var P=q(wn(),1),ot=q(Se(),1);import{stdin as rs,stdout as ns}from"process";import*as he from"readline";import qi from"readline";import{Writable as vf}from"stream";function $f({onlyFirst:t=!1}={}){let e=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?(?:\\u0007|\\u001B\\u005C|\\u009C))","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PR-TZcf-nq-uy=><~]))"].join("|");return new RegExp(e,t?void 0:"g")}var Bf=$f();function os(t){if(typeof t!="string")throw new TypeError(`Expected a \`string\`, got \`${typeof t}\``);return t.replace(Bf,"")}function is(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ss={exports:{}};(function(t){var e={};t.exports=e,e.eastAsianWidth=function(n){var o=n.charCodeAt(0),s=n.length==2?n.charCodeAt(1):0,i=o;return 55296<=o&&o<=56319&&56320<=s&&s<=57343&&(o&=1023,s&=1023,i=o<<10|s,i+=65536),i==12288||65281<=i&&i<=65376||65504<=i&&i<=65510?"F":i==8361||65377<=i&&i<=65470||65474<=i&&i<=65479||65482<=i&&i<=65487||65490<=i&&i<=65495||65498<=i&&i<=65500||65512<=i&&i<=65518?"H":4352<=i&&i<=4447||4515<=i&&i<=4519||4602<=i&&i<=4607||9001<=i&&i<=9002||11904<=i&&i<=11929||11931<=i&&i<=12019||12032<=i&&i<=12245||12272<=i&&i<=12283||12289<=i&&i<=12350||12353<=i&&i<=12438||12441<=i&&i<=12543||12549<=i&&i<=12589||12593<=i&&i<=12686||12688<=i&&i<=12730||12736<=i&&i<=12771||12784<=i&&i<=12830||12832<=i&&i<=12871||12880<=i&&i<=13054||13056<=i&&i<=19903||19968<=i&&i<=42124||42128<=i&&i<=42182||43360<=i&&i<=43388||44032<=i&&i<=55203||55216<=i&&i<=55238||55243<=i&&i<=55291||63744<=i&&i<=64255||65040<=i&&i<=65049||65072<=i&&i<=65106||65108<=i&&i<=65126||65128<=i&&i<=65131||110592<=i&&i<=110593||127488<=i&&i<=127490||127504<=i&&i<=127546||127552<=i&&i<=127560||127568<=i&&i<=127569||131072<=i&&i<=194367||177984<=i&&i<=196605||196608<=i&&i<=262141?"W":32<=i&&i<=126||162<=i&&i<=163||165<=i&&i<=166||i==172||i==175||10214<=i&&i<=10221||10629<=i&&i<=10630?"Na":i==161||i==164||167<=i&&i<=168||i==170||173<=i&&i<=174||176<=i&&i<=180||182<=i&&i<=186||188<=i&&i<=191||i==198||i==208||215<=i&&i<=216||222<=i&&i<=225||i==230||232<=i&&i<=234||236<=i&&i<=237||i==240||242<=i&&i<=243||247<=i&&i<=250||i==252||i==254||i==257||i==273||i==275||i==283||294<=i&&i<=295||i==299||305<=i&&i<=307||i==312||319<=i&&i<=322||i==324||328<=i&&i<=331||i==333||338<=i&&i<=339||358<=i&&i<=359||i==363||i==462||i==464||i==466||i==468||i==470||i==472||i==474||i==476||i==593||i==609||i==708||i==711||713<=i&&i<=715||i==717||i==720||728<=i&&i<=731||i==733||i==735||768<=i&&i<=879||913<=i&&i<=929||931<=i&&i<=937||945<=i&&i<=961||963<=i&&i<=969||i==1025||1040<=i&&i<=1103||i==1105||i==8208||8211<=i&&i<=8214||8216<=i&&i<=8217||8220<=i&&i<=8221||8224<=i&&i<=8226||8228<=i&&i<=8231||i==8240||8242<=i&&i<=8243||i==8245||i==8251||i==8254||i==8308||i==8319||8321<=i&&i<=8324||i==8364||i==8451||i==8453||i==8457||i==8467||i==8470||8481<=i&&i<=8482||i==8486||i==8491||8531<=i&&i<=8532||8539<=i&&i<=8542||8544<=i&&i<=8555||8560<=i&&i<=8569||i==8585||8592<=i&&i<=8601||8632<=i&&i<=8633||i==8658||i==8660||i==8679||i==8704||8706<=i&&i<=8707||8711<=i&&i<=8712||i==8715||i==8719||i==8721||i==8725||i==8730||8733<=i&&i<=8736||i==8739||i==8741||8743<=i&&i<=8748||i==8750||8756<=i&&i<=8759||8764<=i&&i<=8765||i==8776||i==8780||i==8786||8800<=i&&i<=8801||8804<=i&&i<=8807||8810<=i&&i<=8811||8814<=i&&i<=8815||8834<=i&&i<=8835||8838<=i&&i<=8839||i==8853||i==8857||i==8869||i==8895||i==8978||9312<=i&&i<=9449||9451<=i&&i<=9547||9552<=i&&i<=9587||9600<=i&&i<=9615||9618<=i&&i<=9621||9632<=i&&i<=9633||9635<=i&&i<=9641||9650<=i&&i<=9651||9654<=i&&i<=9655||9660<=i&&i<=9661||9664<=i&&i<=9665||9670<=i&&i<=9672||i==9675||9678<=i&&i<=9681||9698<=i&&i<=9701||i==9711||9733<=i&&i<=9734||i==9737||9742<=i&&i<=9743||9748<=i&&i<=9749||i==9756||i==9758||i==9792||i==9794||9824<=i&&i<=9825||9827<=i&&i<=9829||9831<=i&&i<=9834||9836<=i&&i<=9837||i==9839||9886<=i&&i<=9887||9918<=i&&i<=9919||9924<=i&&i<=9933||9935<=i&&i<=9953||i==9955||9960<=i&&i<=9983||i==10045||i==10071||10102<=i&&i<=10111||11093<=i&&i<=11097||12872<=i&&i<=12879||57344<=i&&i<=63743||65024<=i&&i<=65039||i==65533||127232<=i&&i<=127242||127248<=i&&i<=127277||127280<=i&&i<=127337||127344<=i&&i<=127386||917760<=i&&i<=917999||983040<=i&&i<=1048573||1048576<=i&&i<=1114109?"A":"N"},e.characterLength=function(n){var o=this.eastAsianWidth(n);return o=="F"||o=="W"||o=="A"?2:1};function r(n){return n.match(/[\uD800-\uDBFF][\uDC00-\uDFFF]|[^\uD800-\uDFFF]/g)||[]}e.length=function(n){for(var o=r(n),s=0,i=0;i<o.length;i++)s=s+this.characterLength(o[i]);return s},e.slice=function(n,o,s){textLen=e.length(n),o=o||0,s=s||1,o<0&&(o=textLen+o),s<0&&(s=textLen+s);for(var i="",a=0,u=r(n),c=0;c<u.length;c++){var l=u[c],d=e.length(l);if(a>=o-(d==2?1:0))if(a+d<=s)i+=l;else break;a+=d}return i}})(ss);var If=ss.exports,Rf=is(If),Mf=function(){return/\uD83C\uDFF4\uDB40\uDC67\uDB40\uDC62(?:\uDB40\uDC77\uDB40\uDC6C\uDB40\uDC73|\uDB40\uDC73\uDB40\uDC63\uDB40\uDC74|\uDB40\uDC65\uDB40\uDC6E\uDB40\uDC67)\uDB40\uDC7F|(?:\uD83E\uDDD1\uD83C\uDFFF\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFF\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB-\uDFFE])|(?:\uD83E\uDDD1\uD83C\uDFFE\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFE\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB-\uDFFD\uDFFF])|(?:\uD83E\uDDD1\uD83C\uDFFD\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFD\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])|(?:\uD83E\uDDD1\uD83C\uDFFC\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFC\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB\uDFFD-\uDFFF])|(?:\uD83E\uDDD1\uD83C\uDFFB\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFB\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFC-\uDFFF])|\uD83D\uDC68(?:\uD83C\uDFFB(?:\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFF]))|\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFC-\uDFFF])|[\u2695\u2696\u2708]\uFE0F|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD]))?|(?:\uD83C[\uDFFC-\uDFFF])\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFF]))|\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83D\uDC68|(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFE])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFE\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFD\uDFFF])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFC\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFD-\uDFFF])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|(?:\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])\uFE0F|\u200D(?:(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D[\uDC66\uDC67])|\uD83D[\uDC66\uDC67])|\uD83C\uDFFF|\uD83C\uDFFE|\uD83C\uDFFD|\uD83C\uDFFC)?|(?:\uD83D\uDC69(?:\uD83C\uDFFB\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69])|(?:\uD83C[\uDFFC-\uDFFF])\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69]))|\uD83E\uDDD1(?:\uD83C[\uDFFB-\uDFFF])\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1)(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|\uD83D\uDC69(?:\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFE\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFC\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFB\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD]))|\uD83E\uDDD1(?:\u200D(?:\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFE\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFC\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFB\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD]))|\uD83D\uDC69\u200D\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D[\uDC66\uDC67])|\uD83D\uDC69\u200D\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|(?:\uD83D\uDC41\uFE0F\u200D\uD83D\uDDE8|\uD83E\uDDD1(?:\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708]|\uD83C\uDFFB\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])|\uD83D\uDC69(?:\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708]|\uD83C\uDFFB\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])|\uD83D\uDE36\u200D\uD83C\uDF2B|\uD83C\uDFF3\uFE0F\u200D\u26A7|\uD83D\uDC3B\u200D\u2744|(?:(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC6F|\uD83E[\uDD3C\uDDDE\uDDDF])\u200D[\u2640\u2642]|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]|\uD83C\uDFF4\u200D\u2620|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD])\u200D[\u2640\u2642]|[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u2328\u23CF\u23ED-\u23EF\u23F1\u23F2\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB\u25FC\u2600-\u2604\u260E\u2611\u2618\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u2692\u2694-\u2697\u2699\u269B\u269C\u26A0\u26A7\u26B0\u26B1\u26C8\u26CF\u26D1\u26D3\u26E9\u26F0\u26F1\u26F4\u26F7\u26F8\u2702\u2708\u2709\u270F\u2712\u2714\u2716\u271D\u2721\u2733\u2734\u2744\u2747\u2763\u27A1\u2934\u2935\u2B05-\u2B07\u3030\u303D\u3297\u3299]|\uD83C[\uDD70\uDD71\uDD7E\uDD7F\uDE02\uDE37\uDF21\uDF24-\uDF2C\uDF36\uDF7D\uDF96\uDF97\uDF99-\uDF9B\uDF9E\uDF9F\uDFCD\uDFCE\uDFD4-\uDFDF\uDFF5\uDFF7]|\uD83D[\uDC3F\uDCFD\uDD49\uDD4A\uDD6F\uDD70\uDD73\uDD76-\uDD79\uDD87\uDD8A-\uDD8D\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA\uDECB\uDECD-\uDECF\uDEE0-\uDEE5\uDEE9\uDEF0\uDEF3])\uFE0F|\uD83C\uDFF3\uFE0F\u200D\uD83C\uDF08|\uD83D\uDC69\u200D\uD83D\uDC67|\uD83D\uDC69\u200D\uD83D\uDC66|\uD83D\uDE35\u200D\uD83D\uDCAB|\uD83D\uDE2E\u200D\uD83D\uDCA8|\uD83D\uDC15\u200D\uD83E\uDDBA|\uD83E\uDDD1(?:\uD83C\uDFFF|\uD83C\uDFFE|\uD83C\uDFFD|\uD83C\uDFFC|\uD83C\uDFFB)?|\uD83D\uDC69(?:\uD83C\uDFFF|\uD83C\uDFFE|\uD83C\uDFFD|\uD83C\uDFFC|\uD83C\uDFFB)?|\uD83C\uDDFD\uD83C\uDDF0|\uD83C\uDDF6\uD83C\uDDE6|\uD83C\uDDF4\uD83C\uDDF2|\uD83D\uDC08\u200D\u2B1B|\u2764\uFE0F\u200D(?:\uD83D\uDD25|\uD83E\uDE79)|\uD83D\uDC41\uFE0F|\uD83C\uDFF3\uFE0F|\uD83C\uDDFF(?:\uD83C[\uDDE6\uDDF2\uDDFC])|\uD83C\uDDFE(?:\uD83C[\uDDEA\uDDF9])|\uD83C\uDDFC(?:\uD83C[\uDDEB\uDDF8])|\uD83C\uDDFB(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA])|\uD83C\uDDFA(?:\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF])|\uD83C\uDDF9(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF])|\uD83C\uDDF8(?:\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF])|\uD83C\uDDF7(?:\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC])|\uD83C\uDDF5(?:\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE])|\uD83C\uDDF3(?:\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF])|\uD83C\uDDF2(?:\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF])|\uD83C\uDDF1(?:\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE])|\uD83C\uDDF0(?:\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF])|\uD83C\uDDEF(?:\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5])|\uD83C\uDDEE(?:\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9])|\uD83C\uDDED(?:\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA])|\uD83C\uDDEC(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE])|\uD83C\uDDEB(?:\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7])|\uD83C\uDDEA(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA])|\uD83C\uDDE9(?:\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF])|\uD83C\uDDE8(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF])|\uD83C\uDDE7(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF])|\uD83C\uDDE6(?:\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF])|[#\*0-9]\uFE0F\u20E3|\u2764\uFE0F|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])|\uD83C\uDFF4|(?:[\u270A\u270B]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDC8F\uDC91\uDCAA\uDD7A\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD0C\uDD0F\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD34\uDD36\uDD77\uDDB5\uDDB6\uDDBB\uDDD2\uDDD3\uDDD5])(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u270C\u270D]|\uD83D[\uDD74\uDD90])(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])|[\u270A\u270B]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC08\uDC15\uDC3B\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDC8F\uDC91\uDCAA\uDD7A\uDD95\uDD96\uDE2E\uDE35\uDE36\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD0C\uDD0F\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD34\uDD36\uDD77\uDDB5\uDDB6\uDDBB\uDDD2\uDDD3\uDDD5]|\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD]|\uD83D\uDC6F|\uD83E[\uDD3C\uDDDE\uDDDF]|[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF84\uDF86-\uDF93\uDFA0-\uDFC1\uDFC5\uDFC6\uDFC8\uDFC9\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC07\uDC09-\uDC14\uDC16-\uDC3A\uDC3C-\uDC3E\uDC40\uDC44\uDC45\uDC51-\uDC65\uDC6A\uDC79-\uDC7B\uDC7D-\uDC80\uDC84\uDC88-\uDC8E\uDC90\uDC92-\uDCA9\uDCAB-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDDA4\uDDFB-\uDE2D\uDE2F-\uDE34\uDE37-\uDE44\uDE48-\uDE4A\uDE80-\uDEA2\uDEA4-\uDEB3\uDEB7-\uDEBF\uDEC1-\uDEC5\uDED0-\uDED2\uDED5-\uDED7\uDEEB\uDEEC\uDEF4-\uDEFC\uDFE0-\uDFEB]|\uD83E[\uDD0D\uDD0E\uDD10-\uDD17\uDD1D\uDD20-\uDD25\uDD27-\uDD2F\uDD3A\uDD3F-\uDD45\uDD47-\uDD76\uDD78\uDD7A-\uDDB4\uDDB7\uDDBA\uDDBC-\uDDCB\uDDD0\uDDE0-\uDDFF\uDE70-\uDE74\uDE78-\uDE7A\uDE80-\uDE86\uDE90-\uDEA8\uDEB0-\uDEB6\uDEC0-\uDEC2\uDED0-\uDED6]|(?:[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u270A\u270B\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF93\uDFA0-\uDFCA\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF4\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC3E\uDC40\uDC42-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDD7A\uDD95\uDD96\uDDA4\uDDFB-\uDE4F\uDE80-\uDEC5\uDECC\uDED0-\uDED2\uDED5-\uDED7\uDEEB\uDEEC\uDEF4-\uDEFC\uDFE0-\uDFEB]|\uD83E[\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDD78\uDD7A-\uDDCB\uDDCD-\uDDFF\uDE70-\uDE74\uDE78-\uDE7A\uDE80-\uDE86\uDE90-\uDEA8\uDEB0-\uDEB6\uDEC0-\uDEC2\uDED0-\uDED6])|(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26A7\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDED5-\uDED7\uDEE0-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEFC\uDFE0-\uDFEB]|\uD83E[\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDD78\uDD7A-\uDDCB\uDDCD-\uDDFF\uDE70-\uDE74\uDE78-\uDE7A\uDE80-\uDE86\uDE90-\uDEA8\uDEB0-\uDEB6\uDEC0-\uDEC2\uDED0-\uDED6])\uFE0F|(?:[\u261D\u26F9\u270A-\u270D]|\uD83C[\uDF85\uDFC2-\uDFC4\uDFC7\uDFCA-\uDFCC]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66-\uDC78\uDC7C\uDC81-\uDC83\uDC85-\uDC87\uDC8F\uDC91\uDCAA\uDD74\uDD75\uDD7A\uDD90\uDD95\uDD96\uDE45-\uDE47\uDE4B-\uDE4F\uDEA3\uDEB4-\uDEB6\uDEC0\uDECC]|\uD83E[\uDD0C\uDD0F\uDD18-\uDD1F\uDD26\uDD30-\uDD39\uDD3C-\uDD3E\uDD77\uDDB5\uDDB6\uDDB8\uDDB9\uDDBB\uDDCD-\uDDCF\uDDD1-\uDDDD])/g},Pf=is(Mf);function it(t,e={}){if(typeof t!="string"||t.length===0||(e={ambiguousIsNarrow:!0,...e},t=os(t),t.length===0))return 0;t=t.replace(Pf(),"  ");let r=e.ambiguousIsNarrow?1:2,n=0;for(let o of t){let s=o.codePointAt(0);if(!(s<=31||s>=127&&s<=159||s>=768&&s<=879))switch(Rf.eastAsianWidth(o)){case"F":case"W":n+=2;break;case"A":n+=r;break;default:n+=1}}return n}var Fn=10,Yi=(t=0)=>e=>`\x1B[${e+t}m`,Ki=(t=0)=>e=>`\x1B[${38+t};5;${e}m`,Ji=(t=0)=>(e,r,n)=>`\x1B[${38+t};2;${e};${r};${n}m`,S={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],overline:[53,55],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],gray:[90,39],grey:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgGray:[100,49],bgGrey:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};Object.keys(S.modifier);var Lf=Object.keys(S.color),kf=Object.keys(S.bgColor);[...Lf,...kf];function jf(){let t=new Map;for(let[e,r]of Object.entries(S)){for(let[n,o]of Object.entries(r))S[n]={open:`\x1B[${o[0]}m`,close:`\x1B[${o[1]}m`},r[n]=S[n],t.set(o[0],o[1]);Object.defineProperty(S,e,{value:r,enumerable:!1})}return Object.defineProperty(S,"codes",{value:t,enumerable:!1}),S.color.close="\x1B[39m",S.bgColor.close="\x1B[49m",S.color.ansi=Yi(),S.color.ansi256=Ki(),S.color.ansi16m=Ji(),S.bgColor.ansi=Yi(Fn),S.bgColor.ansi256=Ki(Fn),S.bgColor.ansi16m=Ji(Fn),Object.defineProperties(S,{rgbToAnsi256:{value:(e,r,n)=>e===r&&r===n?e<8?16:e>248?231:Math.round((e-8)/247*24)+232:16+36*Math.round(e/255*5)+6*Math.round(r/255*5)+Math.round(n/255*5),enumerable:!1},hexToRgb:{value:e=>{let r=/[a-f\d]{6}|[a-f\d]{3}/i.exec(e.toString(16));if(!r)return[0,0,0];let[n]=r;n.length===3&&(n=[...n].map(s=>s+s).join(""));let o=Number.parseInt(n,16);return[o>>16&255,o>>8&255,o&255]},enumerable:!1},hexToAnsi256:{value:e=>S.rgbToAnsi256(...S.hexToRgb(e)),enumerable:!1},ansi256ToAnsi:{value:e=>{if(e<8)return 30+e;if(e<16)return 90+(e-8);let r,n,o;if(e>=232)r=((e-232)*10+8)/255,n=r,o=r;else{e-=16;let a=e%36;r=Math.floor(e/36)/5,n=Math.floor(a/6)/5,o=a%6/5}let s=Math.max(r,n,o)*2;if(s===0)return 30;let i=30+(Math.round(o)<<2|Math.round(n)<<1|Math.round(r));return s===2&&(i+=60),i},enumerable:!1},rgbToAnsi:{value:(e,r,n)=>S.ansi256ToAnsi(S.rgbToAnsi256(e,r,n)),enumerable:!1},hexToAnsi:{value:e=>S.ansi256ToAnsi(S.hexToAnsi256(e)),enumerable:!1}}),S}var Nf=jf(),Nt=new Set(["\x1B","\x9B"]),Uf=39,_n="\x07",as="[",Wf="]",us="m",On=`${Wf}8;;`,Xi=t=>`${Nt.values().next().value}${as}${t}${us}`,Zi=t=>`${Nt.values().next().value}${On}${t}${_n}`,Vf=t=>t.split(" ").map(e=>it(e)),Sn=(t,e,r)=>{let n=[...e],o=!1,s=!1,i=it(os(t[t.length-1]));for(let[a,u]of n.entries()){let c=it(u);if(i+c<=r?t[t.length-1]+=u:(t.push(u),i=0),Nt.has(u)&&(o=!0,s=n.slice(a+1).join("").startsWith(On)),o){s?u===_n&&(o=!1,s=!1):u===us&&(o=!1);continue}i+=c,i===r&&a<n.length-1&&(t.push(""),i=0)}!i&&t[t.length-1].length>0&&t.length>1&&(t[t.length-2]+=t.pop())},Gf=t=>{let e=t.split(" "),r=e.length;for(;r>0&&!(it(e[r-1])>0);)r--;return r===e.length?t:e.slice(0,r).join(" ")+e.slice(r).join("")},Hf=(t,e,r={})=>{if(r.trim!==!1&&t.trim()==="")return"";let n="",o,s,i=Vf(t),a=[""];for(let[c,l]of t.split(" ").entries()){r.trim!==!1&&(a[a.length-1]=a[a.length-1].trimStart());let d=it(a[a.length-1]);if(c!==0&&(d>=e&&(r.wordWrap===!1||r.trim===!1)&&(a.push(""),d=0),(d>0||r.trim===!1)&&(a[a.length-1]+=" ",d++)),r.hard&&i[c]>e){let f=e-d,m=1+Math.floor((i[c]-f-1)/e);Math.floor((i[c]-1)/e)<m&&a.push(""),Sn(a,l,e);continue}if(d+i[c]>e&&d>0&&i[c]>0){if(r.wordWrap===!1&&d<e){Sn(a,l,e);continue}a.push("")}if(d+i[c]>e&&r.wordWrap===!1){Sn(a,l,e);continue}a[a.length-1]+=l}r.trim!==!1&&(a=a.map(c=>Gf(c)));let u=[...a.join(`
`)];for(let[c,l]of u.entries()){if(n+=l,Nt.has(l)){let{groups:f}=new RegExp(`(?:\\${as}(?<code>\\d+)m|\\${On}(?<uri>.*)${_n})`).exec(u.slice(c).join(""))||{groups:{}};if(f.code!==void 0){let m=Number.parseFloat(f.code);o=m===Uf?void 0:m}else f.uri!==void 0&&(s=f.uri.length===0?void 0:f.uri)}let d=Nf.codes.get(Number(o));u[c+1]===`
`?(s&&(n+=Zi("")),o&&d&&(n+=Xi(d))):l===`
`&&(o&&d&&(n+=Xi(o)),s&&(n+=Zi(s)))}return n};function Qi(t,e,r){return String(t).normalize().replace(/\r\n/g,`
`).split(`
`).map(n=>Hf(n,e,r)).join(`
`)}var zf=["up","down","left","right","space","enter","cancel"],Pt={actions:new Set(zf),aliases:new Map([["k","up"],["j","down"],["h","left"],["l","right"],["","cancel"],["escape","cancel"]])};function Tn(t,e){if(typeof t=="string")return Pt.aliases.get(t)===e;for(let r of t)if(r!==void 0&&Tn(r,e))return!0;return!1}function qf(t,e){if(t===e)return;let r=t.split(`
`),n=e.split(`
`),o=[];for(let s=0;s<Math.max(r.length,n.length);s++)r[s]!==n[s]&&o.push(s);return o}var Yf=globalThis.process.platform.startsWith("win"),An=Symbol("clack:cancel");function ge(t){return t===An}function Mt(t,e){let r=t;r.isTTY&&r.setRawMode(e)}function cs({input:t=rs,output:e=ns,overwrite:r=!0,hideCursor:n=!0}={}){let o=he.createInterface({input:t,output:e,prompt:"",tabSize:1});he.emitKeypressEvents(t,o),t.isTTY&&t.setRawMode(!0);let s=(i,{name:a,sequence:u})=>{let c=String(i);if(Tn([c,a,u],"cancel")){n&&e.write(P.cursor.show),process.exit(0);return}if(!r)return;he.moveCursor(e,a==="return"?0:-1,a==="return"?-1:0,()=>{he.clearLine(e,1,()=>{t.once("keypress",s)})})};return n&&e.write(P.cursor.hide),t.once("keypress",s),()=>{t.off("keypress",s),n&&e.write(P.cursor.show),t.isTTY&&!Yf&&t.setRawMode(!1),o.terminal=!1,o.close()}}var Kf=Object.defineProperty,Jf=(t,e,r)=>e in t?Kf(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,N=(t,e,r)=>(Jf(t,typeof e!="symbol"?e+"":e,r),r),st=class{constructor(e,r=!0){N(this,"input"),N(this,"output"),N(this,"_abortSignal"),N(this,"rl"),N(this,"opts"),N(this,"_render"),N(this,"_track",!1),N(this,"_prevFrame",""),N(this,"_subscribers",new Map),N(this,"_cursor",0),N(this,"state","initial"),N(this,"error",""),N(this,"value");let{input:n=rs,output:o=ns,render:s,signal:i,...a}=e;this.opts=a,this.onKeypress=this.onKeypress.bind(this),this.close=this.close.bind(this),this.render=this.render.bind(this),this._render=s.bind(this),this._track=r,this._abortSignal=i,this.input=n,this.output=o}unsubscribe(){this._subscribers.clear()}setSubscriber(e,r){let n=this._subscribers.get(e)??[];n.push(r),this._subscribers.set(e,n)}on(e,r){this.setSubscriber(e,{cb:r})}once(e,r){this.setSubscriber(e,{cb:r,once:!0})}emit(e,...r){let n=this._subscribers.get(e)??[],o=[];for(let s of n)s.cb(...r),s.once&&o.push(()=>n.splice(n.indexOf(s),1));for(let s of o)s()}prompt(){return new Promise((e,r)=>{if(this._abortSignal){if(this._abortSignal.aborted)return this.state="cancel",this.close(),e(An);this._abortSignal.addEventListener("abort",()=>{this.state="cancel",this.close()},{once:!0})}let n=new vf;n._write=(o,s,i)=>{this._track&&(this.value=this.rl?.line.replace(/\t/g,""),this._cursor=this.rl?.cursor??0,this.emit("value",this.value)),i()},this.input.pipe(n),this.rl=qi.createInterface({input:this.input,output:n,tabSize:2,prompt:"",escapeCodeTimeout:50,terminal:!0}),qi.emitKeypressEvents(this.input,this.rl),this.rl.prompt(),this.opts.initialValue!==void 0&&this._track&&this.rl.write(this.opts.initialValue),this.input.on("keypress",this.onKeypress),Mt(this.input,!0),this.output.on("resize",this.render),this.render(),this.once("submit",()=>{this.output.write(P.cursor.show),this.output.off("resize",this.render),Mt(this.input,!1),e(this.value)}),this.once("cancel",()=>{this.output.write(P.cursor.show),this.output.off("resize",this.render),Mt(this.input,!1),e(An)})})}onKeypress(e,r){if(this.state==="error"&&(this.state="active"),r?.name&&(!this._track&&Pt.aliases.has(r.name)&&this.emit("cursor",Pt.aliases.get(r.name)),Pt.actions.has(r.name)&&this.emit("cursor",r.name)),e&&(e.toLowerCase()==="y"||e.toLowerCase()==="n")&&this.emit("confirm",e.toLowerCase()==="y"),e==="	"&&this.opts.placeholder&&(this.value||(this.rl?.write(this.opts.placeholder),this.emit("value",this.opts.placeholder))),e&&this.emit("key",e.toLowerCase()),r?.name==="return"){if(!this.value&&this.opts.placeholder&&(this.rl?.write(this.opts.placeholder),this.emit("value",this.opts.placeholder)),this.opts.validate){let n=this.opts.validate(this.value);n&&(this.error=n instanceof Error?n.message:n,this.state="error",this.rl?.write(this.value))}this.state!=="error"&&(this.state="submit")}Tn([e,r?.name,r?.sequence],"cancel")&&(this.state="cancel"),(this.state==="submit"||this.state==="cancel")&&this.emit("finalize"),this.render(),(this.state==="submit"||this.state==="cancel")&&this.close()}close(){this.input.unpipe(),this.input.removeListener("keypress",this.onKeypress),this.output.write(`
`),Mt(this.input,!1),this.rl?.close(),this.rl=void 0,this.emit(`${this.state}`,this.value),this.unsubscribe()}restoreCursor(){let e=Qi(this._prevFrame,process.stdout.columns,{hard:!0}).split(`
`).length-1;this.output.write(P.cursor.move(-999,e*-1))}render(){let e=Qi(this._render(this)??"",process.stdout.columns,{hard:!0});if(e!==this._prevFrame){if(this.state==="initial")this.output.write(P.cursor.hide);else{let r=qf(this._prevFrame,e);if(this.restoreCursor(),r&&r?.length===1){let n=r[0];this.output.write(P.cursor.move(0,n)),this.output.write(P.erase.lines(1));let o=e.split(`
`);this.output.write(o[n]),this._prevFrame=e,this.output.write(P.cursor.move(0,o.length-n-1));return}if(r&&r?.length>1){let n=r[0];this.output.write(P.cursor.move(0,n)),this.output.write(P.erase.down());let o=e.split(`
`).slice(n);this.output.write(o.join(`
`)),this._prevFrame=e;return}this.output.write(P.erase.down())}this.output.write(e),this.state==="initial"&&(this.state="active"),this._prevFrame=e}}};var Xf;Xf=new WeakMap;var Zf=Object.defineProperty,Qf=(t,e,r)=>e in t?Zf(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,es=(t,e,r)=>(Qf(t,typeof e!="symbol"?e+"":e,r),r),Lt=class extends st{constructor({mask:e,...r}){super(r),es(this,"valueWithCursor",""),es(this,"_mask","\u2022"),this._mask=e??"\u2022",this.on("finalize",()=>{this.valueWithCursor=this.masked}),this.on("value",()=>{if(this.cursor>=this.value.length)this.valueWithCursor=`${this.masked}${ot.default.inverse(ot.default.hidden("_"))}`;else{let n=this.masked.slice(0,this.cursor),o=this.masked.slice(this.cursor);this.valueWithCursor=`${n}${ot.default.inverse(o[0])}${o.slice(1)}`}})}get cursor(){return this._cursor}get masked(){return this.value.replaceAll(/./g,this._mask)}},em=Object.defineProperty,tm=(t,e,r)=>e in t?em(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,ts=(t,e,r)=>(tm(t,typeof e!="symbol"?e+"":e,r),r),kt=class extends st{constructor(e){super(e,!1),ts(this,"options"),ts(this,"cursor",0),this.options=e.options,this.cursor=this.options.findIndex(({value:r})=>r===e.initialValue),this.cursor===-1&&(this.cursor=0),this.changeValue(),this.on("cursor",r=>{switch(r){case"left":case"up":this.cursor=this.cursor===0?this.options.length-1:this.cursor-1;break;case"down":case"right":this.cursor=this.cursor===this.options.length-1?0:this.cursor+1;break}this.changeValue()})}get _value(){return this.options[this.cursor]}changeValue(){this.value=this._value.value}};var jt=class extends st{get valueWithCursor(){if(this.state==="submit")return this.value;if(this.cursor>=this.value.length)return`${this.value}\u2588`;let e=this.value.slice(0,this.cursor),[r,...n]=this.value.slice(this.cursor);return`${e}${ot.default.inverse(r)}${n.join("")}`}get cursor(){return this._cursor}constructor(e){super(e),this.on("finalize",()=>{this.value||(this.value=e.defaultValue)})}};var p=q(Se(),1),Ut=q(wn(),1);import Y from"process";function rm(){return Y.platform!=="win32"?Y.env.TERM!=="linux":!!Y.env.CI||!!Y.env.WT_SESSION||!!Y.env.TERMINUS_SUBLIME||Y.env.ConEmuTask==="{cmd::Cmder}"||Y.env.TERM_PROGRAM==="Terminus-Sublime"||Y.env.TERM_PROGRAM==="vscode"||Y.env.TERM==="xterm-256color"||Y.env.TERM==="alacritty"||Y.env.TERMINAL_EMULATOR==="JetBrains-JediTerm"}var $n=rm(),O=(t,e)=>$n?t:e,nm=O("\u25C6","*"),ds=O("\u25A0","x"),fs=O("\u25B2","x"),Wt=O("\u25C7","o"),wy=O("\u250C","T"),w=O("\u2502","|"),Me=O("\u2514","\u2014"),om=O("\u25CF",">"),im=O("\u25CB"," "),Fy=O("\u25FB","[\u2022]"),Sy=O("\u25FC","[+]"),Ay=O("\u25FB","[ ]"),sm=O("\u25AA","\u2022"),ls=O("\u2500","-"),am=O("\u256E","+"),um=O("\u251C","+"),cm=O("\u256F","+"),lm=O("\u25CF","\u2022"),dm=O("\u25C6","*"),fm=O("\u25B2","!"),mm=O("\u25A0","x"),Bn=t=>{switch(t){case"initial":case"active":return p.default.cyan(nm);case"cancel":return p.default.red(ds);case"error":return p.default.yellow(fs);case"submit":return p.default.green(Wt)}},pm=t=>{let{cursor:e,options:r,style:n}=t,o=t.maxItems??Number.POSITIVE_INFINITY,s=Math.max(process.stdout.rows-4,0),i=Math.min(s,Math.max(o,5)),a=0;e>=a+i-3?a=Math.max(Math.min(e-i+3,r.length-i),0):e<a+2&&(a=Math.max(e-2,0));let u=i<r.length&&a>0,c=i<r.length&&a+i<r.length;return r.slice(a,a+i).map((l,d,f)=>{let m=d===0&&u,D=d===f.length-1&&c;return m||D?p.default.dim("..."):n(l,d+a===e)})},Vt=t=>new jt({validate:t.validate,placeholder:t.placeholder,defaultValue:t.defaultValue,initialValue:t.initialValue,render(){let e=`${p.default.gray(w)}
${Bn(this.state)}  ${t.message}
`,r=t.placeholder?p.default.inverse(t.placeholder[0])+p.default.dim(t.placeholder.slice(1)):p.default.inverse(p.default.hidden("_")),n=this.value?this.valueWithCursor:r;switch(this.state){case"error":return`${e.trim()}
${p.default.yellow(w)}  ${n}
${p.default.yellow(Me)}  ${p.default.yellow(this.error)}
`;case"submit":return`${e}${p.default.gray(w)}  ${p.default.dim(this.value||t.placeholder)}`;case"cancel":return`${e}${p.default.gray(w)}  ${p.default.strikethrough(p.default.dim(this.value??""))}${this.value?.trim()?`
${p.default.gray(w)}`:""}`;default:return`${e}${p.default.cyan(w)}  ${n}
${p.default.cyan(Me)}
`}}}).prompt(),ms=t=>new Lt({validate:t.validate,mask:t.mask??sm,render(){let e=`${p.default.gray(w)}
${Bn(this.state)}  ${t.message}
`,r=this.valueWithCursor,n=this.masked;switch(this.state){case"error":return`${e.trim()}
${p.default.yellow(w)}  ${n}
${p.default.yellow(Me)}  ${p.default.yellow(this.error)}
`;case"submit":return`${e}${p.default.gray(w)}  ${p.default.dim(n)}`;case"cancel":return`${e}${p.default.gray(w)}  ${p.default.strikethrough(p.default.dim(n??""))}${n?`
${p.default.gray(w)}`:""}`;default:return`${e}${p.default.cyan(w)}  ${r}
${p.default.cyan(Me)}
`}}}).prompt();var ps=t=>{let e=(r,n)=>{let o=r.label??String(r.value);switch(n){case"selected":return`${p.default.dim(o)}`;case"active":return`${p.default.green(om)} ${o} ${r.hint?p.default.dim(`(${r.hint})`):""}`;case"cancelled":return`${p.default.strikethrough(p.default.dim(o))}`;default:return`${p.default.dim(im)} ${p.default.dim(o)}`}};return new kt({options:t.options,initialValue:t.initialValue,render(){let r=`${p.default.gray(w)}
${Bn(this.state)}  ${t.message}
`;switch(this.state){case"submit":return`${r}${p.default.gray(w)}  ${e(this.options[this.cursor],"selected")}`;case"cancel":return`${r}${p.default.gray(w)}  ${e(this.options[this.cursor],"cancelled")}
${p.default.gray(w)}`;default:return`${r}${p.default.cyan(w)}  ${pm({cursor:this.cursor,options:this.options,maxItems:t.maxItems,style:(n,o)=>e(n,o?"active":"inactive")}).join(`
${p.default.cyan(w)}  `)}
${p.default.cyan(Me)}
`}}}).prompt()};var Gt=(t="",e="")=>{let r=`
${t}
`.split(`
`),n=vn(e).length,o=Math.max(r.reduce((i,a)=>{let u=vn(a);return u.length>i?u.length:i},0),n)+2,s=r.map(i=>`${p.default.gray(w)}  ${p.default.dim(i)}${" ".repeat(o-vn(i).length)}${p.default.gray(w)}`).join(`
`);process.stdout.write(`${p.default.gray(w)}
${p.default.green(Wt)}  ${p.default.reset(e)} ${p.default.gray(ls.repeat(Math.max(o-n-1,1))+am)}
${s}
${p.default.gray(um+ls.repeat(o+2)+cm)}
`)},Pe=(t="")=>{process.stdout.write(`${p.default.gray(Me)}  ${p.default.red(t)}

`)};var L={message:(t="",{symbol:e=p.default.gray(w)}={})=>{let r=[`${p.default.gray(w)}`];if(t){let[n,...o]=t.split(`
`);r.push(`${e}  ${n}`,...o.map(s=>`${p.default.gray(w)}  ${s}`))}process.stdout.write(`${r.join(`
`)}
`)},info:t=>{L.message(t,{symbol:p.default.blue(lm)})},success:t=>{L.message(t,{symbol:p.default.green(dm)})},step:t=>{L.message(t,{symbol:p.default.green(Wt)})},warn:t=>{L.message(t,{symbol:p.default.yellow(fm)})},warning:t=>{L.warn(t)},error:t=>{L.message(t,{symbol:p.default.red(mm)})}},_y=`${p.default.gray(w)}  `;var M=({indicator:t="dots"}={})=>{let e=$n?["\u25D2","\u25D0","\u25D3","\u25D1"]:["\u2022","o","O","0"],r=$n?80:120,n=process.env.CI==="true",o,s,i=!1,a="",u,c=performance.now(),l=y=>{let A=y>1?"Something went wrong":"Canceled";i&&R(A,y)},d=()=>l(2),f=()=>l(1),m=()=>{process.on("uncaughtExceptionMonitor",d),process.on("unhandledRejection",d),process.on("SIGINT",f),process.on("SIGTERM",f),process.on("exit",l)},D=()=>{process.removeListener("uncaughtExceptionMonitor",d),process.removeListener("unhandledRejection",d),process.removeListener("SIGINT",f),process.removeListener("SIGTERM",f),process.removeListener("exit",l)},b=()=>{if(u===void 0)return;n&&process.stdout.write(`
`);let y=u.split(`
`);process.stdout.write(Ut.cursor.move(-999,y.length-1)),process.stdout.write(Ut.erase.down(y.length))},F=y=>y.replace(/\.+$/,""),E=y=>{let A=(performance.now()-y)/1e3,B=Math.floor(A/60),k=Math.floor(A%60);return B>0?`[${B}m ${k}s]`:`[${k}s]`},v=(y="")=>{i=!0,o=cs(),a=F(y),c=performance.now(),process.stdout.write(`${p.default.gray(w)}
`);let A=0,B=0;m(),s=setInterval(()=>{if(n&&a===u)return;b(),u=a;let k=p.default.magenta(e[A]);if(n)process.stdout.write(`${k}  ${a}...`);else if(t==="timer")process.stdout.write(`${k}  ${a} ${E(c)}`);else{let pe=".".repeat(Math.floor(B)).slice(0,3);process.stdout.write(`${k}  ${a}${pe}`)}A=A+1<e.length?A+1:0,B=B<e.length?B+.125:0},r)},R=(y="",A=0)=>{i=!1,clearInterval(s),b();let B=A===0?p.default.green(Wt):A===1?p.default.red(ds):p.default.red(fs);a=F(y??a),t==="timer"?process.stdout.write(`${B}  ${a} ${E(c)}
`):process.stdout.write(`${B}  ${a}
`),D(),o()};return{start:v,stop:R,message:(y="")=>{a=F(y??a)}}};var Ft=q(Se(),1);import In from"fs";import bs from"path";var Ds="spree@example.com",hs="spree123";function _(t=process.cwd()){let e=bs.join(t,"docker-compose.yml");if(!In.existsSync(e))throw new Error(`Not a Spree project directory. No docker-compose.yml found.
Run this command from a directory created with create-spree-app.`);let r=Dm(t);return{mode:"docker",projectDir:t,port:r}}function Dm(t){let e=bs.join(t,".env");if(!In.existsSync(e))return 3e3;let n=In.readFileSync(e,"utf-8").match(/^SPREE_PORT=(\d+)/m);return n?Number(n[1]):3e3}function T(t){if(typeof t!="object"||t===null)return!1;let e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}import{fileURLToPath as hm}from"url";var Le=(t,e)=>{let r=Mn(gm(t));if(typeof r!="string")throw new TypeError(`${e} must be a string or a file URL: ${r}.`);return r},gm=t=>Rn(t)?t.toString():t,Rn=t=>typeof t!="string"&&t&&Object.getPrototypeOf(t)===String.prototype,Mn=t=>t instanceof URL?hm(t):t;var Ht=(t,e=[],r={})=>{let n=Le(t,"First argument"),[o,s]=T(e)?[[],e]:[e,r];if(!Array.isArray(o))throw new TypeError(`Second argument must be either an array of arguments or an options object: ${o}`);if(o.some(u=>typeof u=="object"&&u!==null))throw new TypeError(`Second argument must be an array of strings: ${o}`);let i=o.map(String),a=i.find(u=>u.includes("\0"));if(a!==void 0)throw new TypeError(`Arguments cannot contain null bytes ("\\0"): ${a}`);if(!T(s))throw new TypeError(`Last argument must be an options object: ${s}`);return[n,i,s]};import{ChildProcess as Fm}from"child_process";import{StringDecoder as bm}from"string_decoder";var{toString:Cs}=Object.prototype,Es=t=>Cs.call(t)==="[object ArrayBuffer]",I=t=>Cs.call(t)==="[object Uint8Array]",ce=t=>new Uint8Array(t.buffer,t.byteOffset,t.byteLength),Cm=new TextEncoder,ys=t=>Cm.encode(t),Em=new TextDecoder,zt=t=>Em.decode(t),xs=(t,e)=>ym(t,e).join(""),ym=(t,e)=>{if(e==="utf8"&&t.every(s=>typeof s=="string"))return t;let r=new bm(e),n=t.map(s=>typeof s=="string"?ys(s):s).map(s=>r.write(s)),o=r.end();return o===""?n:[...n,o]},at=t=>t.length===1&&I(t[0])?t[0]:Pn(xm(t)),xm=t=>t.map(e=>typeof e=="string"?ys(e):e),Pn=t=>{let e=new Uint8Array(wm(t)),r=0;for(let n of t)e.set(n,r),r+=n.length;return e},wm=t=>{let e=0;for(let r of t)e+=r.length;return e};var As=t=>Array.isArray(t)&&Array.isArray(t.raw),_s=(t,e)=>{let r=[];for(let[s,i]of t.entries())r=Sm({templates:t,expressions:e,tokens:r,index:s,template:i});if(r.length===0)throw new TypeError("Template script must not be empty");let[n,...o]=r;return[n,o,{}]},Sm=({templates:t,expressions:e,tokens:r,index:n,template:o})=>{if(o===void 0)throw new TypeError(`Invalid backslash sequence: ${t.raw[n]}`);let{nextTokens:s,leadingWhitespaces:i,trailingWhitespaces:a}=Am(o,t.raw[n]),u=Fs(r,s,i);if(n===e.length)return u;let c=e[n],l=Array.isArray(c)?c.map(d=>Ss(d)):[Ss(c)];return Fs(u,l,a)},Am=(t,e)=>{if(e.length===0)return{nextTokens:[],leadingWhitespaces:!1,trailingWhitespaces:!1};let r=[],n=0,o=ws.has(e[0]);for(let i=0,a=0;i<t.length;i+=1,a+=1){let u=e[a];if(ws.has(u))n!==i&&r.push(t.slice(n,i)),n=i+1;else if(u==="\\"){let c=e[a+1];c===`
`?(i-=1,a+=1):c==="u"&&e[a+2]==="{"?a=e.indexOf("}",a+3):a+=_m[c]??1}}let s=n===t.length;return s||r.push(t.slice(n)),{nextTokens:r,leadingWhitespaces:o,trailingWhitespaces:s}},ws=new Set([" ","	","\r",`
`]),_m={x:3,u:5},Fs=(t,e,r)=>r||t.length===0||e.length===0?[...t,...e]:[...t.slice(0,-1),`${t.at(-1)}${e[0]}`,...e.slice(1)],Ss=t=>{let e=typeof t;if(e==="string")return t;if(e==="number")return String(t);if(T(t)&&("stdout"in t||"isMaxBuffer"in t))return Om(t);throw t instanceof Fm||Object.prototype.toString.call(t)==="[object Promise]"?new TypeError("Unexpected subprocess in template expression. Please use ${await subprocess} instead of ${subprocess}."):new TypeError(`Unexpected "${e}" in template expression`)},Om=({stdout:t})=>{if(typeof t=="string")return t;if(I(t))return zt(t);throw t===void 0?new TypeError(`Missing result.stdout in template expression. This is probably due to the previous subprocess' "stdout" option.`):new TypeError(`Unexpected "${typeof t}" stdout in template expression`)};import{spawnSync as B0}from"child_process";import{debuglog as Tm}from"util";import Ln from"process";var K=t=>qt.includes(t),qt=[Ln.stdin,Ln.stdout,Ln.stderr],V=["stdin","stdout","stderr"],Yt=t=>V[t]??`stdio[${t}]`;var Ts=t=>{let e={...t};for(let r of Nn)e[r]=kn(t,r);return e},kn=(t,e)=>{let r=Array.from({length:vm(t)+1}),n=$m(t[e],r,e);return Pm(n,e)},vm=({stdio:t})=>Array.isArray(t)?Math.max(t.length,V.length):V.length,$m=(t,e,r)=>T(t)?Bm(t,e,r):e.fill(t),Bm=(t,e,r)=>{for(let n of Object.keys(t).sort(Im))for(let o of Rm(n,r,e))e[o]=t[n];return e},Im=(t,e)=>Os(t)<Os(e)?1:-1,Os=t=>t==="stdout"||t==="stderr"?0:t==="all"?2:1,Rm=(t,e,r)=>{if(t==="ipc")return[r.length-1];let n=jn(t);if(n===void 0||n===0)throw new TypeError(`"${e}.${t}" is invalid.
It must be "${e}.stdout", "${e}.stderr", "${e}.all", "${e}.ipc", or "${e}.fd3", "${e}.fd4" (and so on).`);if(n>=r.length)throw new TypeError(`"${e}.${t}" is invalid: that file descriptor does not exist.
Please set the "stdio" option to ensure that file descriptor exists.`);return n==="all"?[1,2]:[n]},jn=t=>{if(t==="all")return t;if(V.includes(t))return V.indexOf(t);let e=Mm.exec(t);if(e!==null)return Number(e[1])},Mm=/^fd(\d+)$/,Pm=(t,e)=>t.map(r=>r===void 0?km[e]:r),Lm=Tm("execa").enabled?"full":"none",km={lines:!1,buffer:!0,maxBuffer:1e3*1e3*100,verbose:Lm,stripFinalNewline:!0},Nn=["lines","buffer","maxBuffer","verbose","stripFinalNewline"],le=(t,e)=>e==="ipc"?t.at(-1):t[e];var ke=({verbose:t},e)=>Un(t,e)!=="none",je=({verbose:t},e)=>!["none","short"].includes(Un(t,e)),vs=({verbose:t},e)=>{let r=Un(t,e);return Kt(r)?r:void 0},Un=(t,e)=>e===void 0?jm(t):le(t,e),jm=t=>t.find(e=>Kt(e))??Jt.findLast(e=>t.includes(e)),Kt=t=>typeof t=="function",Jt=["none","short","full"];import{inspect as ap}from"util";import{platform as Nm}from"process";import{stripVTControlCharacters as Um}from"util";var $s=(t,e)=>{let r=[t,...e],n=r.join(" "),o=r.map(s=>qm(Bs(s))).join(" ");return{command:n,escapedCommand:o}},ut=t=>Um(t).split(`
`).map(e=>Bs(e)).join(`
`),Bs=t=>t.replaceAll(Gm,e=>Wm(e)),Wm=t=>{let e=Hm[t];if(e!==void 0)return e;let r=t.codePointAt(0),n=r.toString(16);return r<=zm?`\\u${n.padStart(4,"0")}`:`\\U${n}`},Vm=()=>{try{return new RegExp("\\p{Separator}|\\p{Other}","gu")}catch{return/[\s\u0000-\u001F\u007F-\u009F\u00AD]/g}},Gm=Vm(),Hm={" ":" ","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t"},zm=65535,qm=t=>Ym.test(t)?t:Nm==="win32"?`"${t.replaceAll('"','""')}"`:`'${t.replaceAll("'","'\\''")}'`,Ym=/^[\w./-]+$/;import Is from"process";function Wn(){let{env:t}=Is,{TERM:e,TERM_PROGRAM:r}=t;return Is.platform!=="win32"?e!=="linux":!!t.WT_SESSION||!!t.TERMINUS_SUBLIME||t.ConEmuTask==="{cmd::Cmder}"||r==="Terminus-Sublime"||r==="vscode"||e==="xterm-256color"||e==="alacritty"||e==="rxvt-unicode"||e==="rxvt-unicode-256color"||t.TERMINAL_EMULATOR==="JetBrains-JediTerm"}var Rs={circleQuestionMark:"(?)",questionMarkPrefix:"(?)",square:"\u2588",squareDarkShade:"\u2593",squareMediumShade:"\u2592",squareLightShade:"\u2591",squareTop:"\u2580",squareBottom:"\u2584",squareLeft:"\u258C",squareRight:"\u2590",squareCenter:"\u25A0",bullet:"\u25CF",dot:"\u2024",ellipsis:"\u2026",pointerSmall:"\u203A",triangleUp:"\u25B2",triangleUpSmall:"\u25B4",triangleDown:"\u25BC",triangleDownSmall:"\u25BE",triangleLeftSmall:"\u25C2",triangleRightSmall:"\u25B8",home:"\u2302",heart:"\u2665",musicNote:"\u266A",musicNoteBeamed:"\u266B",arrowUp:"\u2191",arrowDown:"\u2193",arrowLeft:"\u2190",arrowRight:"\u2192",arrowLeftRight:"\u2194",arrowUpDown:"\u2195",almostEqual:"\u2248",notEqual:"\u2260",lessOrEqual:"\u2264",greaterOrEqual:"\u2265",identical:"\u2261",infinity:"\u221E",subscriptZero:"\u2080",subscriptOne:"\u2081",subscriptTwo:"\u2082",subscriptThree:"\u2083",subscriptFour:"\u2084",subscriptFive:"\u2085",subscriptSix:"\u2086",subscriptSeven:"\u2087",subscriptEight:"\u2088",subscriptNine:"\u2089",oneHalf:"\xBD",oneThird:"\u2153",oneQuarter:"\xBC",oneFifth:"\u2155",oneSixth:"\u2159",oneEighth:"\u215B",twoThirds:"\u2154",twoFifths:"\u2156",threeQuarters:"\xBE",threeFifths:"\u2157",threeEighths:"\u215C",fourFifths:"\u2158",fiveSixths:"\u215A",fiveEighths:"\u215D",sevenEighths:"\u215E",line:"\u2500",lineBold:"\u2501",lineDouble:"\u2550",lineDashed0:"\u2504",lineDashed1:"\u2505",lineDashed2:"\u2508",lineDashed3:"\u2509",lineDashed4:"\u254C",lineDashed5:"\u254D",lineDashed6:"\u2574",lineDashed7:"\u2576",lineDashed8:"\u2578",lineDashed9:"\u257A",lineDashed10:"\u257C",lineDashed11:"\u257E",lineDashed12:"\u2212",lineDashed13:"\u2013",lineDashed14:"\u2010",lineDashed15:"\u2043",lineVertical:"\u2502",lineVerticalBold:"\u2503",lineVerticalDouble:"\u2551",lineVerticalDashed0:"\u2506",lineVerticalDashed1:"\u2507",lineVerticalDashed2:"\u250A",lineVerticalDashed3:"\u250B",lineVerticalDashed4:"\u254E",lineVerticalDashed5:"\u254F",lineVerticalDashed6:"\u2575",lineVerticalDashed7:"\u2577",lineVerticalDashed8:"\u2579",lineVerticalDashed9:"\u257B",lineVerticalDashed10:"\u257D",lineVerticalDashed11:"\u257F",lineDownLeft:"\u2510",lineDownLeftArc:"\u256E",lineDownBoldLeftBold:"\u2513",lineDownBoldLeft:"\u2512",lineDownLeftBold:"\u2511",lineDownDoubleLeftDouble:"\u2557",lineDownDoubleLeft:"\u2556",lineDownLeftDouble:"\u2555",lineDownRight:"\u250C",lineDownRightArc:"\u256D",lineDownBoldRightBold:"\u250F",lineDownBoldRight:"\u250E",lineDownRightBold:"\u250D",lineDownDoubleRightDouble:"\u2554",lineDownDoubleRight:"\u2553",lineDownRightDouble:"\u2552",lineUpLeft:"\u2518",lineUpLeftArc:"\u256F",lineUpBoldLeftBold:"\u251B",lineUpBoldLeft:"\u251A",lineUpLeftBold:"\u2519",lineUpDoubleLeftDouble:"\u255D",lineUpDoubleLeft:"\u255C",lineUpLeftDouble:"\u255B",lineUpRight:"\u2514",lineUpRightArc:"\u2570",lineUpBoldRightBold:"\u2517",lineUpBoldRight:"\u2516",lineUpRightBold:"\u2515",lineUpDoubleRightDouble:"\u255A",lineUpDoubleRight:"\u2559",lineUpRightDouble:"\u2558",lineUpDownLeft:"\u2524",lineUpBoldDownBoldLeftBold:"\u252B",lineUpBoldDownBoldLeft:"\u2528",lineUpDownLeftBold:"\u2525",lineUpBoldDownLeftBold:"\u2529",lineUpDownBoldLeftBold:"\u252A",lineUpDownBoldLeft:"\u2527",lineUpBoldDownLeft:"\u2526",lineUpDoubleDownDoubleLeftDouble:"\u2563",lineUpDoubleDownDoubleLeft:"\u2562",lineUpDownLeftDouble:"\u2561",lineUpDownRight:"\u251C",lineUpBoldDownBoldRightBold:"\u2523",lineUpBoldDownBoldRight:"\u2520",lineUpDownRightBold:"\u251D",lineUpBoldDownRightBold:"\u2521",lineUpDownBoldRightBold:"\u2522",lineUpDownBoldRight:"\u251F",lineUpBoldDownRight:"\u251E",lineUpDoubleDownDoubleRightDouble:"\u2560",lineUpDoubleDownDoubleRight:"\u255F",lineUpDownRightDouble:"\u255E",lineDownLeftRight:"\u252C",lineDownBoldLeftBoldRightBold:"\u2533",lineDownLeftBoldRightBold:"\u252F",lineDownBoldLeftRight:"\u2530",lineDownBoldLeftBoldRight:"\u2531",lineDownBoldLeftRightBold:"\u2532",lineDownLeftRightBold:"\u252E",lineDownLeftBoldRight:"\u252D",lineDownDoubleLeftDoubleRightDouble:"\u2566",lineDownDoubleLeftRight:"\u2565",lineDownLeftDoubleRightDouble:"\u2564",lineUpLeftRight:"\u2534",lineUpBoldLeftBoldRightBold:"\u253B",lineUpLeftBoldRightBold:"\u2537",lineUpBoldLeftRight:"\u2538",lineUpBoldLeftBoldRight:"\u2539",lineUpBoldLeftRightBold:"\u253A",lineUpLeftRightBold:"\u2536",lineUpLeftBoldRight:"\u2535",lineUpDoubleLeftDoubleRightDouble:"\u2569",lineUpDoubleLeftRight:"\u2568",lineUpLeftDoubleRightDouble:"\u2567",lineUpDownLeftRight:"\u253C",lineUpBoldDownBoldLeftBoldRightBold:"\u254B",lineUpDownBoldLeftBoldRightBold:"\u2548",lineUpBoldDownLeftBoldRightBold:"\u2547",lineUpBoldDownBoldLeftRightBold:"\u254A",lineUpBoldDownBoldLeftBoldRight:"\u2549",lineUpBoldDownLeftRight:"\u2540",lineUpDownBoldLeftRight:"\u2541",lineUpDownLeftBoldRight:"\u253D",lineUpDownLeftRightBold:"\u253E",lineUpBoldDownBoldLeftRight:"\u2542",lineUpDownLeftBoldRightBold:"\u253F",lineUpBoldDownLeftBoldRight:"\u2543",lineUpBoldDownLeftRightBold:"\u2544",lineUpDownBoldLeftBoldRight:"\u2545",lineUpDownBoldLeftRightBold:"\u2546",lineUpDoubleDownDoubleLeftDoubleRightDouble:"\u256C",lineUpDoubleDownDoubleLeftRight:"\u256B",lineUpDownLeftDoubleRightDouble:"\u256A",lineCross:"\u2573",lineBackslash:"\u2572",lineSlash:"\u2571"},Ms={tick:"\u2714",info:"\u2139",warning:"\u26A0",cross:"\u2718",squareSmall:"\u25FB",squareSmallFilled:"\u25FC",circle:"\u25EF",circleFilled:"\u25C9",circleDotted:"\u25CC",circleDouble:"\u25CE",circleCircle:"\u24DE",circleCross:"\u24E7",circlePipe:"\u24BE",radioOn:"\u25C9",radioOff:"\u25EF",checkboxOn:"\u2612",checkboxOff:"\u2610",checkboxCircleOn:"\u24E7",checkboxCircleOff:"\u24BE",pointer:"\u276F",triangleUpOutline:"\u25B3",triangleLeft:"\u25C0",triangleRight:"\u25B6",lozenge:"\u25C6",lozengeOutline:"\u25C7",hamburger:"\u2630",smiley:"\u32E1",mustache:"\u0DF4",star:"\u2605",play:"\u25B6",nodejs:"\u2B22",oneSeventh:"\u2150",oneNinth:"\u2151",oneTenth:"\u2152"},Km={tick:"\u221A",info:"i",warning:"\u203C",cross:"\xD7",squareSmall:"\u25A1",squareSmallFilled:"\u25A0",circle:"( )",circleFilled:"(*)",circleDotted:"( )",circleDouble:"( )",circleCircle:"(\u25CB)",circleCross:"(\xD7)",circlePipe:"(\u2502)",radioOn:"(*)",radioOff:"( )",checkboxOn:"[\xD7]",checkboxOff:"[ ]",checkboxCircleOn:"(\xD7)",checkboxCircleOff:"( )",pointer:">",triangleUpOutline:"\u2206",triangleLeft:"\u25C4",triangleRight:"\u25BA",lozenge:"\u2666",lozengeOutline:"\u25CA",hamburger:"\u2261",smiley:"\u263A",mustache:"\u250C\u2500\u2510",star:"\u2736",play:"\u25BA",nodejs:"\u2666",oneSeventh:"1/7",oneNinth:"1/9",oneTenth:"1/10"},Jm={...Rs,...Ms},Xm={...Rs,...Km},Zm=Wn(),Qm=Zm?Jm:Xm,Xt=Qm,sx=Object.entries(Ms);import ep from"tty";var tp=ep?.WriteStream?.prototype?.hasColors?.()??!1,h=(t,e)=>{if(!tp)return o=>o;let r=`\x1B[${t}m`,n=`\x1B[${e}m`;return o=>{let s=o+"",i=s.indexOf(n);if(i===-1)return r+s+n;let a=r,u=0,l=(e===22?n:"")+r;for(;i!==-1;)a+=s.slice(u,i)+l,u=i+n.length,i=s.indexOf(n,u);return a+=s.slice(u)+n,a}},cx=h(0,0),Ps=h(1,22),lx=h(2,22),dx=h(3,23),fx=h(4,24),mx=h(53,55),px=h(7,27),Dx=h(8,28),hx=h(9,29),gx=h(30,39),bx=h(31,39),Cx=h(32,39),Ex=h(33,39),yx=h(34,39),xx=h(35,39),wx=h(36,39),Fx=h(37,39),Zt=h(90,39),Sx=h(40,49),Ax=h(41,49),_x=h(42,49),Ox=h(43,49),Tx=h(44,49),vx=h(45,49),$x=h(46,49),Bx=h(47,49),Ix=h(100,49),Ls=h(91,39),Rx=h(92,39),ks=h(93,39),Mx=h(94,39),Px=h(95,39),Lx=h(96,39),kx=h(97,39),jx=h(101,49),Nx=h(102,49),Ux=h(103,49),Wx=h(104,49),Vx=h(105,49),Gx=h(106,49),Hx=h(107,49);var Us=({type:t,message:e,timestamp:r,piped:n,commandId:o,result:{failed:s=!1}={},options:{reject:i=!0}})=>{let a=rp(r),u=np[t]({failed:s,reject:i,piped:n}),c=op[t]({reject:i});return`${Zt(`[${a}]`)} ${Zt(`[${o}]`)} ${c(u)} ${c(e)}`},rp=t=>`${Qt(t.getHours(),2)}:${Qt(t.getMinutes(),2)}:${Qt(t.getSeconds(),2)}.${Qt(t.getMilliseconds(),3)}`,Qt=(t,e)=>String(t).padStart(e,"0"),js=({failed:t,reject:e})=>t?e?Xt.cross:Xt.warning:Xt.tick,np={command:({piped:t})=>t?"|":"$",output:()=>" ",ipc:()=>"*",error:js,duration:js},Ns=t=>t,op={command:()=>Ps,output:()=>Ns,ipc:()=>Ns,error:({reject:t})=>t?Ls:ks,duration:()=>Zt};var Ws=(t,e,r)=>{let n=vs(e,r);return t.map(({verboseLine:o,verboseObject:s})=>ip(o,s,n)).filter(o=>o!==void 0).map(o=>sp(o)).join("")},ip=(t,e,r)=>{if(r===void 0)return t;let n=r(t,e);if(typeof n=="string")return n},sp=t=>t.endsWith(`
`)?t:`${t}
`;var te=({type:t,verboseMessage:e,fdNumber:r,verboseInfo:n,result:o})=>{let s=up({type:t,result:o,verboseInfo:n}),i=cp(e,s),a=Ws(i,n,r);a!==""&&console.warn(a.slice(0,-1))},up=({type:t,result:e,verboseInfo:{escapedCommand:r,commandId:n,rawOptions:{piped:o=!1,...s}}})=>({type:t,escapedCommand:r,commandId:`${n}`,timestamp:new Date,piped:o,result:e,options:s}),cp=(t,e)=>t.split(`
`).map(r=>lp({...e,message:r})),lp=t=>({verboseLine:Us(t),verboseObject:t}),er=t=>{let e=typeof t=="string"?t:ap(t);return ut(e).replaceAll("	"," ".repeat(dp))},dp=2;var Vs=(t,e)=>{ke(e)&&te({type:"command",verboseMessage:t,verboseInfo:e})};var Gs=(t,e,r)=>{pp(t);let n=fp(t);return{verbose:t,escapedCommand:e,commandId:n,rawOptions:r}},fp=t=>ke({verbose:t})?mp++:void 0,mp=0n,pp=t=>{for(let e of t){if(e===!1)throw new TypeError(`The "verbose: false" option was renamed to "verbose: 'none'".`);if(e===!0)throw new TypeError(`The "verbose: true" option was renamed to "verbose: 'short'".`);if(!Jt.includes(e)&&!Kt(e)){let r=Jt.map(n=>`'${n}'`).join(", ");throw new TypeError(`The "verbose" option must not be ${e}. Allowed values are: ${r} or a function.`)}}};import{hrtime as Hs}from"process";var tr=()=>Hs.bigint(),Vn=t=>Number(Hs.bigint()-t)/1e6;var rr=(t,e,r)=>{let n=tr(),{command:o,escapedCommand:s}=$s(t,e),i=kn(r,"verbose"),a=Gs(i,s,{...r});return Vs(s,a),{command:o,escapedCommand:s,startTime:n,verboseInfo:a}};var Gu=q(Ia(),1);import XD from"path";import Vu from"process";import sr from"process";import _e from"path";function or(t={}){let{env:e=process.env,platform:r=process.platform}=t;return r!=="win32"?"PATH":Object.keys(e).reverse().find(n=>n.toUpperCase()==="PATH")||"Path"}import{promisify as Up}from"util";import{execFile as Wp,execFileSync as Iw}from"child_process";import Ra from"path";import{fileURLToPath as Vp}from"url";var Pw=Up(Wp);function ir(t){return t instanceof URL?Vp(t):t}function Ma(t){return{*[Symbol.iterator](){let e=Ra.resolve(ir(t)),r;for(;r!==e;)yield e,r=e,e=Ra.resolve(e,"..")}}}var Lw=10*1024*1024;var Gp=({cwd:t=sr.cwd(),path:e=sr.env[or()],preferLocal:r=!0,execPath:n=sr.execPath,addExecPath:o=!0}={})=>{let s=_e.resolve(ir(t)),i=[],a=e.split(_e.delimiter);return r&&Hp(i,a,s),o&&zp(i,a,n,s),e===""||e===_e.delimiter?`${i.join(_e.delimiter)}${e}`:[...i,e].join(_e.delimiter)},Hp=(t,e,r)=>{for(let n of Ma(r)){let o=_e.join(n,"node_modules/.bin");e.includes(o)||t.push(o)}},zp=(t,e,r,n)=>{let o=_e.resolve(n,ir(r),"..");e.includes(o)||t.push(o)},Pa=({env:t=sr.env,...e}={})=>{t={...t};let r=or({env:t});return e.path=t[r],t[r]=Gp(e),t};import{setTimeout as aD}from"timers/promises";var La=(t,e,r)=>{let n=r?lt:ct,o=t instanceof J?{}:{cause:t};return new n(e,o)},J=class extends Error{},ka=(t,e)=>{Object.defineProperty(t.prototype,"name",{value:e,writable:!0,enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,Na,{value:!0,writable:!1,enumerable:!1,configurable:!1})},ja=t=>ar(t)&&Na in t,Na=Symbol("isExecaError"),ar=t=>Object.prototype.toString.call(t)==="[object Error]",ct=class extends Error{};ka(ct,ct.name);var lt=class extends Error{};ka(lt,lt.name);import{constants as dt}from"os";import{constants as Jp}from"os";var Ua=()=>{let t=Va-Wa+1;return Array.from({length:t},qp)},qp=(t,e)=>({name:`SIGRT${e+1}`,number:Wa+e,action:"terminate",description:"Application-specific signal (realtime)",standard:"posix"}),Wa=34,Va=64;import{constants as Yp}from"os";var Ga=[{name:"SIGHUP",number:1,action:"terminate",description:"Terminal closed",standard:"posix"},{name:"SIGINT",number:2,action:"terminate",description:"User interruption with CTRL-C",standard:"ansi"},{name:"SIGQUIT",number:3,action:"core",description:"User interruption with CTRL-\\",standard:"posix"},{name:"SIGILL",number:4,action:"core",description:"Invalid machine instruction",standard:"ansi"},{name:"SIGTRAP",number:5,action:"core",description:"Debugger breakpoint",standard:"posix"},{name:"SIGABRT",number:6,action:"core",description:"Aborted",standard:"ansi"},{name:"SIGIOT",number:6,action:"core",description:"Aborted",standard:"bsd"},{name:"SIGBUS",number:7,action:"core",description:"Bus error due to misaligned, non-existing address or paging error",standard:"bsd"},{name:"SIGEMT",number:7,action:"terminate",description:"Command should be emulated but is not implemented",standard:"other"},{name:"SIGFPE",number:8,action:"core",description:"Floating point arithmetic error",standard:"ansi"},{name:"SIGKILL",number:9,action:"terminate",description:"Forced termination",standard:"posix",forced:!0},{name:"SIGUSR1",number:10,action:"terminate",description:"Application-specific signal",standard:"posix"},{name:"SIGSEGV",number:11,action:"core",description:"Segmentation fault",standard:"ansi"},{name:"SIGUSR2",number:12,action:"terminate",description:"Application-specific signal",standard:"posix"},{name:"SIGPIPE",number:13,action:"terminate",description:"Broken pipe or socket",standard:"posix"},{name:"SIGALRM",number:14,action:"terminate",description:"Timeout or timer",standard:"posix"},{name:"SIGTERM",number:15,action:"terminate",description:"Termination",standard:"ansi"},{name:"SIGSTKFLT",number:16,action:"terminate",description:"Stack is empty or overflowed",standard:"other"},{name:"SIGCHLD",number:17,action:"ignore",description:"Child process terminated, paused or unpaused",standard:"posix"},{name:"SIGCLD",number:17,action:"ignore",description:"Child process terminated, paused or unpaused",standard:"other"},{name:"SIGCONT",number:18,action:"unpause",description:"Unpaused",standard:"posix",forced:!0},{name:"SIGSTOP",number:19,action:"pause",description:"Paused",standard:"posix",forced:!0},{name:"SIGTSTP",number:20,action:"pause",description:'Paused using CTRL-Z or "suspend"',standard:"posix"},{name:"SIGTTIN",number:21,action:"pause",description:"Background process cannot read terminal input",standard:"posix"},{name:"SIGBREAK",number:21,action:"terminate",description:"User interruption with CTRL-BREAK",standard:"other"},{name:"SIGTTOU",number:22,action:"pause",description:"Background process cannot write to terminal output",standard:"posix"},{name:"SIGURG",number:23,action:"ignore",description:"Socket received out-of-band data",standard:"bsd"},{name:"SIGXCPU",number:24,action:"core",description:"Process timed out",standard:"bsd"},{name:"SIGXFSZ",number:25,action:"core",description:"File too big",standard:"bsd"},{name:"SIGVTALRM",number:26,action:"terminate",description:"Timeout or timer",standard:"bsd"},{name:"SIGPROF",number:27,action:"terminate",description:"Timeout or timer",standard:"bsd"},{name:"SIGWINCH",number:28,action:"ignore",description:"Terminal window size changed",standard:"bsd"},{name:"SIGIO",number:29,action:"terminate",description:"I/O is available",standard:"other"},{name:"SIGPOLL",number:29,action:"terminate",description:"Watched event",standard:"other"},{name:"SIGINFO",number:29,action:"ignore",description:"Request for process information",standard:"other"},{name:"SIGPWR",number:30,action:"terminate",description:"Device running out of power",standard:"systemv"},{name:"SIGSYS",number:31,action:"core",description:"Invalid system call",standard:"other"},{name:"SIGUNUSED",number:31,action:"terminate",description:"Invalid system call",standard:"other"}];var Qn=()=>{let t=Ua();return[...Ga,...t].map(Kp)},Kp=({name:t,number:e,description:r,action:n,forced:o=!1,standard:s})=>{let{signals:{[t]:i}}=Yp,a=i!==void 0;return{name:t,number:a?i:e,description:r,supported:a,action:n,forced:o,standard:s}};var Xp=()=>{let t=Qn();return Object.fromEntries(t.map(Zp))},Zp=({name:t,number:e,description:r,supported:n,action:o,forced:s,standard:i})=>[t,{name:t,number:e,description:r,supported:n,action:o,forced:s,standard:i}],Ha=Xp(),Qp=()=>{let t=Qn(),e=65,r=Array.from({length:e},(n,o)=>eD(o,t));return Object.assign({},...r)},eD=(t,e)=>{let r=tD(t,e);if(r===void 0)return{};let{name:n,description:o,supported:s,action:i,forced:a,standard:u}=r;return{[t]:{name:n,number:t,description:o,supported:s,action:i,forced:a,standard:u}}},tD=(t,e)=>{let r=e.find(({name:n})=>Jp.signals[n]===t);return r!==void 0?r:e.find(n=>n.number===t)},eF=Qp();var qa=t=>{let e="option `killSignal`";if(t===0)throw new TypeError(`Invalid ${e}: 0 cannot be used.`);return Ka(t,e)},Ya=t=>t===0?t:Ka(t,"`subprocess.kill()`'s argument"),Ka=(t,e)=>{if(Number.isInteger(t))return rD(t,e);if(typeof t=="string")return oD(t,e);throw new TypeError(`Invalid ${e} ${String(t)}: it must be a string or an integer.
${eo()}`)},rD=(t,e)=>{if(za.has(t))return za.get(t);throw new TypeError(`Invalid ${e} ${t}: this signal integer does not exist.
${eo()}`)},nD=()=>new Map(Object.entries(dt.signals).reverse().map(([t,e])=>[e,t])),za=nD(),oD=(t,e)=>{if(t in dt.signals)return t;throw t.toUpperCase()in dt.signals?new TypeError(`Invalid ${e} '${t}': please rename it to '${t.toUpperCase()}'.`):new TypeError(`Invalid ${e} '${t}': this signal name does not exist.
${eo()}`)},eo=()=>`Available signal names: ${iD()}.
Available signal numbers: ${sD()}.`,iD=()=>Object.keys(dt.signals).sort().map(t=>`'${t}'`).join(", "),sD=()=>[...new Set(Object.values(dt.signals).sort((t,e)=>t-e))].join(", "),ur=t=>Ha[t].description;var Ja=t=>{if(t===!1)return t;if(t===!0)return uD;if(!Number.isFinite(t)||t<0)throw new TypeError(`Expected the \`forceKillAfterDelay\` option to be a non-negative integer, got \`${t}\` (${typeof t})`);return t},uD=1e3*5,Xa=({kill:t,options:{forceKillAfterDelay:e,killSignal:r},onInternalError:n,context:o,controller:s},i,a)=>{let{signal:u,error:c}=cD(i,a,r);lD(c,n);let l=t(u);return dD({kill:t,signal:u,forceKillAfterDelay:e,killSignal:r,killResult:l,context:o,controller:s}),l},cD=(t,e,r)=>{let[n=r,o]=ar(t)?[void 0,t]:[t,e];if(typeof n!="string"&&!Number.isInteger(n))throw new TypeError(`The first argument must be an error instance or a signal name string/integer: ${String(n)}`);if(o!==void 0&&!ar(o))throw new TypeError(`The second argument is optional. If specified, it must be an error instance: ${o}`);return{signal:Ya(n),error:o}},lD=(t,e)=>{t!==void 0&&e.reject(t)},dD=async({kill:t,signal:e,forceKillAfterDelay:r,killSignal:n,killResult:o,context:s,controller:i})=>{e===n&&o&&to({kill:t,forceKillAfterDelay:r,context:s,controllerSignal:i.signal})},to=async({kill:t,forceKillAfterDelay:e,context:r,controllerSignal:n})=>{if(e!==!1)try{await aD(e,void 0,{signal:n}),t("SIGKILL")&&(r.isForcefullyTerminated??=!0)}catch{}};import{once as fD}from"events";var cr=async(t,e)=>{t.aborted||await fD(t,"abort",{signal:e})};var Za=({cancelSignal:t})=>{if(t!==void 0&&Object.prototype.toString.call(t)!=="[object AbortSignal]")throw new Error(`The \`cancelSignal\` option must be an AbortSignal: ${String(t)}`)},Qa=({subprocess:t,cancelSignal:e,gracefulCancel:r,context:n,controller:o})=>e===void 0||r?[]:[mD(t,e,n,o)],mD=async(t,e,r,{signal:n})=>{throw await cr(e,n),r.terminationReason??="cancel",t.kill(),e.reason};import{scheduler as RD}from"timers/promises";import{promisify as $D}from"util";var We=({methodName:t,isSubprocess:e,ipc:r,isConnected:n})=>{pD(t,e,r),ro(t,e,n)},pD=(t,e,r)=>{if(!r)throw new Error(`${X(t,e)} can only be used if the \`ipc\` option is \`true\`.`)},ro=(t,e,r)=>{if(!r)throw new Error(`${X(t,e)} cannot be used: the ${be(e)} has already exited or disconnected.`)},eu=t=>{throw new Error(`${X("getOneMessage",t)} could not complete: the ${be(t)} exited or disconnected.`)},tu=t=>{throw new Error(`${X("sendMessage",t)} failed: the ${be(t)} is sending a message too, instead of listening to incoming messages.
This can be fixed by both sending a message and listening to incoming messages at the same time:

const [receivedMessage] = await Promise.all([
	${X("getOneMessage",t)},
	${X("sendMessage",t,"message, {strict: true}")},
]);`)},lr=(t,e)=>new Error(`${X("sendMessage",e)} failed when sending an acknowledgment response to the ${be(e)}.`,{cause:t}),ru=t=>{throw new Error(`${X("sendMessage",t)} failed: the ${be(t)} is not listening to incoming messages.`)},nu=t=>{throw new Error(`${X("sendMessage",t)} failed: the ${be(t)} exited without listening to incoming messages.`)},ou=()=>new Error(`\`cancelSignal\` aborted: the ${be(!0)} disconnected.`),iu=()=>{throw new Error("`getCancelSignal()` cannot be used without setting the `cancelSignal` subprocess option.")},su=({error:t,methodName:e,isSubprocess:r})=>{if(t.code==="EPIPE")throw new Error(`${X(e,r)} cannot be used: the ${be(r)} is disconnecting.`,{cause:t})},au=({error:t,methodName:e,isSubprocess:r,message:n})=>{if(DD(t))throw new Error(`${X(e,r)}'s argument type is invalid: the message cannot be serialized: ${String(n)}.`,{cause:t})},DD=({code:t,message:e})=>hD.has(t)||gD.some(r=>e.includes(r)),hD=new Set(["ERR_MISSING_ARGS","ERR_INVALID_ARG_TYPE"]),gD=["could not be cloned","circular structure","call stack size exceeded"],X=(t,e,r="")=>t==="cancelSignal"?"`cancelSignal`'s `controller.abort()`":`${bD(e)}${t}(${r})`,bD=t=>t?"":"subprocess.",be=t=>t?"parent process":"subprocess",Ve=t=>{t.connected&&t.disconnect()};var re=()=>{let t={},e=new Promise((r,n)=>{Object.assign(t,{resolve:r,reject:n})});return Object.assign(e,t)};var fr=(t,e="stdin")=>{let{options:n,fileDescriptors:o}=ne.get(t),s=uu(o,e,!0),i=t.stdio[s];if(i===null)throw new TypeError(cu(s,e,n,!0));return i},Ge=(t,e="stdout")=>{let{options:n,fileDescriptors:o}=ne.get(t),s=uu(o,e,!1),i=s==="all"?t.all:t.stdio[s];if(i==null)throw new TypeError(cu(s,e,n,!1));return i},ne=new WeakMap,uu=(t,e,r)=>{let n=CD(e,r);return ED(n,e,r,t),n},CD=(t,e)=>{let r=jn(t);if(r!==void 0)return r;let{validOptions:n,defaultValue:o}=e?{validOptions:'"stdin"',defaultValue:"stdin"}:{validOptions:'"stdout", "stderr", "all"',defaultValue:"stdout"};throw new TypeError(`"${ft(e)}" must not be "${t}".
It must be ${n} or "fd3", "fd4" (and so on).
It is optional and defaults to "${o}".`)},ED=(t,e,r,n)=>{let o=n[lu(t)];if(o===void 0)throw new TypeError(`"${ft(r)}" must not be ${e}. That file descriptor does not exist.
Please set the "stdio" option to ensure that file descriptor exists.`);if(o.direction==="input"&&!r)throw new TypeError(`"${ft(r)}" must not be ${e}. It must be a readable stream, not writable.`);if(o.direction!=="input"&&r)throw new TypeError(`"${ft(r)}" must not be ${e}. It must be a writable stream, not readable.`)},cu=(t,e,r,n)=>{if(t==="all"&&!r.all)return`The "all" option must be true to use "from: 'all'".`;let{optionName:o,optionValue:s}=yD(t,r);return`The "${o}: ${dr(s)}" option is incompatible with using "${ft(n)}: ${dr(e)}".
Please set this option with "pipe" instead.`},yD=(t,{stdin:e,stdout:r,stderr:n,stdio:o})=>{let s=lu(t);return s===0&&e!==void 0?{optionName:"stdin",optionValue:e}:s===1&&r!==void 0?{optionName:"stdout",optionValue:r}:s===2&&n!==void 0?{optionName:"stderr",optionValue:n}:{optionName:`stdio[${s}]`,optionValue:o[s]}},lu=t=>t==="all"?1:t,ft=t=>t?"to":"from",dr=t=>typeof t=="string"?`'${t}'`:typeof t=="number"?`${t}`:"Stream";import{once as _D}from"events";import{addAbortListener as xD}from"events";var Oe=(t,e,r)=>{let n=t.getMaxListeners();n===0||n===Number.POSITIVE_INFINITY||(t.setMaxListeners(n+e),xD(r,()=>{t.setMaxListeners(t.getMaxListeners()-e)}))};import{EventEmitter as SD}from"events";import{once as wD}from"events";import{scheduler as FD}from"timers/promises";var mr=(t,e)=>{e&&no(t)},no=t=>{t.refCounted()},pr=(t,e)=>{e&&oo(t)},oo=t=>{t.unrefCounted()},du=(t,e)=>{e&&(oo(t),oo(t))},fu=(t,e)=>{e&&(no(t),no(t))};var mu=async({anyProcess:t,channel:e,isSubprocess:r,ipcEmitter:n},o)=>{if(hu(o)||bu(o))return;Dr.has(t)||Dr.set(t,[]);let s=Dr.get(t);if(s.push(o),!(s.length>1))for(;s.length>0;){await gu(t,n,o),await FD.yield();let i=await Du({wrappedMessage:s[0],anyProcess:t,channel:e,isSubprocess:r,ipcEmitter:n});s.shift(),n.emit("message",i),n.emit("message:done")}},pu=async({anyProcess:t,channel:e,isSubprocess:r,ipcEmitter:n,boundOnMessage:o})=>{io();let s=Dr.get(t);for(;s?.length>0;)await wD(n,"message:done");t.removeListener("message",o),fu(e,r),n.connected=!1,n.emit("disconnect")},Dr=new WeakMap;var Ce=(t,e,r)=>{if(hr.has(t))return hr.get(t);let n=new SD;return n.connected=!0,hr.set(t,n),AD({ipcEmitter:n,anyProcess:t,channel:e,isSubprocess:r}),n},hr=new WeakMap,AD=({ipcEmitter:t,anyProcess:e,channel:r,isSubprocess:n})=>{let o=mu.bind(void 0,{anyProcess:e,channel:r,isSubprocess:n,ipcEmitter:t});e.on("message",o),e.once("disconnect",pu.bind(void 0,{anyProcess:e,channel:r,isSubprocess:n,ipcEmitter:t,boundOnMessage:o})),du(r,n)},gr=t=>{let e=hr.get(t);return e===void 0?t.channel!==null:e.connected};var Cu=({anyProcess:t,channel:e,isSubprocess:r,message:n,strict:o})=>{if(!o)return n;let s=Ce(t,e,r),i=Er(t,s);return{id:OD++,type:Cr,message:n,hasListeners:i}},OD=0n,Eu=(t,e)=>{if(!(e?.type!==Cr||e.hasListeners))for(let{id:r}of t)r!==void 0&&br[r].resolve({isDeadlock:!0,hasListeners:!1})},Du=async({wrappedMessage:t,anyProcess:e,channel:r,isSubprocess:n,ipcEmitter:o})=>{if(t?.type!==Cr||!e.connected)return t;let{id:s,message:i}=t,a={id:s,type:xu,message:Er(e,o)};try{await yr({anyProcess:e,channel:r,isSubprocess:n,ipc:!0},a)}catch(u){o.emit("strict:error",u)}return i},hu=t=>{if(t?.type!==xu)return!1;let{id:e,message:r}=t;return br[e]?.resolve({isDeadlock:!1,hasListeners:r}),!0},yu=async(t,e,r)=>{if(t?.type!==Cr)return;let n=re();br[t.id]=n;let o=new AbortController;try{let{isDeadlock:s,hasListeners:i}=await Promise.race([n,TD(e,r,o)]);s&&tu(r),i||ru(r)}finally{o.abort(),delete br[t.id]}},br={},TD=async(t,e,{signal:r})=>{Oe(t,1,r),await _D(t,"disconnect",{signal:r}),nu(e)},Cr="execa:ipc:request",xu="execa:ipc:response";var wu=(t,e,r)=>{mt.has(t)||mt.set(t,new Set);let n=mt.get(t),o=re(),s=r?e.id:void 0,i={onMessageSent:o,id:s};return n.add(i),{outgoingMessages:n,outgoingMessage:i}},Fu=({outgoingMessages:t,outgoingMessage:e})=>{t.delete(e),e.onMessageSent.resolve()},gu=async(t,e,r)=>{for(;!Er(t,e)&&mt.get(t)?.size>0;){let n=[...mt.get(t)];Eu(n,r),await Promise.all(n.map(({onMessageSent:o})=>o))}},mt=new WeakMap,Er=(t,e)=>e.listenerCount("message")>vD(t),vD=t=>ne.has(t)&&!le(ne.get(t).options.buffer,"ipc")?1:0;var yr=({anyProcess:t,channel:e,isSubprocess:r,ipc:n},o,{strict:s=!1}={})=>{let i="sendMessage";return We({methodName:i,isSubprocess:r,ipc:n,isConnected:t.connected}),BD({anyProcess:t,channel:e,methodName:i,isSubprocess:r,message:o,strict:s})},BD=async({anyProcess:t,channel:e,methodName:r,isSubprocess:n,message:o,strict:s})=>{let i=Cu({anyProcess:t,channel:e,isSubprocess:n,message:o,strict:s}),a=wu(t,i,s);try{await ao({anyProcess:t,methodName:r,isSubprocess:n,wrappedMessage:i,message:o})}catch(u){throw Ve(t),u}finally{Fu(a)}},ao=async({anyProcess:t,methodName:e,isSubprocess:r,wrappedMessage:n,message:o})=>{let s=ID(t);try{await Promise.all([yu(n,t,r),s(n)])}catch(i){throw su({error:i,methodName:e,isSubprocess:r}),au({error:i,methodName:e,isSubprocess:r,message:o}),i}},ID=t=>{if(so.has(t))return so.get(t);let e=$D(t.send.bind(t));return so.set(t,e),e},so=new WeakMap;var Au=(t,e)=>{let r="cancelSignal";return ro(r,!1,t.connected),ao({anyProcess:t,methodName:r,isSubprocess:!1,wrappedMessage:{type:Ou,message:e},message:e})},_u=async({anyProcess:t,channel:e,isSubprocess:r,ipc:n})=>(await MD({anyProcess:t,channel:e,isSubprocess:r,ipc:n}),uo.signal),MD=async({anyProcess:t,channel:e,isSubprocess:r,ipc:n})=>{if(!Su){if(Su=!0,!n){iu();return}if(e===null){io();return}Ce(t,e,r),await RD.yield()}},Su=!1,bu=t=>t?.type!==Ou?!1:(uo.abort(t.message),!0),Ou="execa:ipc:cancel",io=()=>{uo.abort(ou())},uo=new AbortController;var Tu=({gracefulCancel:t,cancelSignal:e,ipc:r,serialization:n})=>{if(t){if(e===void 0)throw new Error("The `cancelSignal` option must be defined when setting the `gracefulCancel` option.");if(!r)throw new Error("The `ipc` option cannot be false when setting the `gracefulCancel` option.");if(n==="json")throw new Error("The `serialization` option cannot be 'json' when setting the `gracefulCancel` option.")}},vu=({subprocess:t,cancelSignal:e,gracefulCancel:r,forceKillAfterDelay:n,context:o,controller:s})=>r?[PD({subprocess:t,cancelSignal:e,forceKillAfterDelay:n,context:o,controller:s})]:[],PD=async({subprocess:t,cancelSignal:e,forceKillAfterDelay:r,context:n,controller:{signal:o}})=>{await cr(e,o);let s=LD(e);throw await Au(t,s),to({kill:t.kill,forceKillAfterDelay:r,context:n,controllerSignal:o}),n.terminationReason??="gracefulCancel",e.reason},LD=({reason:t})=>{if(!(t instanceof DOMException))return t;let e=new Error(t.message);return Object.defineProperty(e,"stack",{value:t.stack,enumerable:!1,configurable:!0,writable:!0}),e};import{setTimeout as kD}from"timers/promises";var $u=({timeout:t})=>{if(t!==void 0&&(!Number.isFinite(t)||t<0))throw new TypeError(`Expected the \`timeout\` option to be a non-negative integer, got \`${t}\` (${typeof t})`)},Bu=(t,e,r,n)=>e===0||e===void 0?[]:[jD(t,e,r,n)],jD=async(t,e,r,{signal:n})=>{throw await kD(e,void 0,{signal:n}),r.terminationReason??="timeout",t.kill(),new J};import{execPath as ND,execArgv as UD}from"process";import Iu from"path";var Ru=({options:t})=>{if(t.node===!1)throw new TypeError('The "node" option cannot be false with `execaNode()`.');return{options:{...t,node:!0}}},Mu=(t,e,{node:r=!1,nodePath:n=ND,nodeOptions:o=UD.filter(u=>!u.startsWith("--inspect")),cwd:s,execPath:i,...a})=>{if(i!==void 0)throw new TypeError('The "execPath" option has been removed. Please use the "nodePath" option instead.');let u=Le(n,'The "nodePath" option'),c=Iu.resolve(s,u),l={...a,nodePath:c,node:r,cwd:s};if(!r)return[t,e,l];if(Iu.basename(t,".exe")==="node")throw new TypeError('When the "node" option is true, the first argument does not need to be "node".');return[c,[...o,t,...e],{ipc:!0,...l,shell:!1}]};import{serialize as WD}from"v8";var Pu=({ipcInput:t,ipc:e,serialization:r})=>{if(t!==void 0){if(!e)throw new Error("The `ipcInput` option cannot be set unless the `ipc` option is `true`.");HD[r](t)}},VD=t=>{try{WD(t)}catch(e){throw new Error("The `ipcInput` option is not serializable with a structured clone.",{cause:e})}},GD=t=>{try{JSON.stringify(t)}catch(e){throw new Error("The `ipcInput` option is not serializable with JSON.",{cause:e})}},HD={advanced:VD,json:GD},Lu=async(t,e)=>{e!==void 0&&await t.sendMessage(e)};var ju=({encoding:t})=>{if(co.has(t))return;let e=qD(t);if(e!==void 0)throw new TypeError(`Invalid option \`encoding: ${xr(t)}\`.
Please rename it to ${xr(e)}.`);let r=[...co].map(n=>xr(n)).join(", ");throw new TypeError(`Invalid option \`encoding: ${xr(t)}\`.
Please rename it to one of: ${r}.`)},zD=new Set(["utf8","utf16le"]),U=new Set(["buffer","hex","base64","base64url","latin1","ascii"]),co=new Set([...zD,...U]),qD=t=>{if(t===null)return"buffer";if(typeof t!="string")return;let e=t.toLowerCase();if(e in ku)return ku[e];if(co.has(e))return e},ku={"utf-8":"utf8","utf-16le":"utf16le","ucs-2":"utf16le",ucs2:"utf16le",binary:"latin1"},xr=t=>typeof t=="string"?`"${t}"`:String(t);import{statSync as YD}from"fs";import KD from"path";import JD from"process";var Nu=(t=Uu())=>{let e=Le(t,'The "cwd" option');return KD.resolve(e)},Uu=()=>{try{return JD.cwd()}catch(t){throw t.message=`The current directory does not exist.
${t.message}`,t}},Wu=(t,e)=>{if(e===Uu())return t;let r;try{r=YD(e)}catch(n){return`The "cwd" option is invalid: ${e}.
${n.message}
${t}`}return r.isDirectory()?t:`The "cwd" option is not a directory: ${e}.
${t}`};var wr=(t,e,r)=>{r.cwd=Nu(r.cwd);let[n,o,s]=Mu(t,e,r),{command:i,args:a,options:u}=Gu.default._parse(n,o,s),c=Ts(u),l=ZD(c);return $u(l),ju(l),Pu(l),Za(l),Tu(l),l.shell=Mn(l.shell),l.env=QD(l),l.killSignal=qa(l.killSignal),l.forceKillAfterDelay=Ja(l.forceKillAfterDelay),l.lines=l.lines.map((d,f)=>d&&!U.has(l.encoding)&&l.buffer[f]),Vu.platform==="win32"&&XD.basename(i,".exe")==="cmd"&&a.unshift("/q"),{file:i,commandArguments:a,options:l}},ZD=({extendEnv:t=!0,preferLocal:e=!1,cwd:r,localDir:n=r,encoding:o="utf8",reject:s=!0,cleanup:i=!0,all:a=!1,windowsHide:u=!0,killSignal:c="SIGTERM",forceKillAfterDelay:l=!0,gracefulCancel:d=!1,ipcInput:f,ipc:m=f!==void 0||d,serialization:D="advanced",...b})=>({...b,extendEnv:t,preferLocal:e,cwd:r,localDirectory:n,encoding:o,reject:s,cleanup:i,all:a,windowsHide:u,killSignal:c,forceKillAfterDelay:l,gracefulCancel:d,ipcInput:f,ipc:m,serialization:D}),QD=({env:t,extendEnv:e,preferLocal:r,node:n,localDirectory:o,nodePath:s})=>{let i=e?{...Vu.env,...t}:t;return r||n?Pa({env:i,cwd:o,execPath:s,preferLocal:r,addExecPath:n}):i};var Fr=(t,e,r)=>r.shell&&e.length>0?[[t,...e].join(" "),[],r]:[t,e,r];import{inspect as Ih}from"util";function He(t){if(typeof t=="string")return eh(t);if(!(ArrayBuffer.isView(t)&&t.BYTES_PER_ELEMENT===1))throw new Error("Input must be a string or a Uint8Array");return th(t)}var eh=t=>t.at(-1)===Hu?t.slice(0,t.at(-2)===zu?-2:-1):t,th=t=>t.at(-1)===rh?t.subarray(0,t.at(-2)===nh?-2:-1):t,Hu=`
`,rh=Hu.codePointAt(0),zu="\r",nh=zu.codePointAt(0);import{on as Th}from"events";import{finished as vh}from"stream/promises";function Z(t,{checkOpen:e=!0}={}){return t!==null&&typeof t=="object"&&(t.writable||t.readable||!e||t.writable===void 0&&t.readable===void 0)&&typeof t.pipe=="function"}function lo(t,{checkOpen:e=!0}={}){return Z(t,{checkOpen:e})&&(t.writable||!e)&&typeof t.write=="function"&&typeof t.end=="function"&&typeof t.writable=="boolean"&&typeof t.writableObjectMode=="boolean"&&typeof t.destroy=="function"&&typeof t.destroyed=="boolean"}function Te(t,{checkOpen:e=!0}={}){return Z(t,{checkOpen:e})&&(t.readable||!e)&&typeof t.read=="function"&&typeof t.readable=="boolean"&&typeof t.readableObjectMode=="boolean"&&typeof t.destroy=="function"&&typeof t.destroyed=="boolean"}function fo(t,e){return lo(t,e)&&Te(t,e)}var oh=Object.getPrototypeOf(Object.getPrototypeOf(async function*(){}).prototype),mo=class{#t;#r;#e=!1;#n=void 0;constructor(e,r){this.#t=e,this.#r=r}next(){let e=()=>this.#i();return this.#n=this.#n?this.#n.then(e,e):e(),this.#n}return(e){let r=()=>this.#o(e);return this.#n?this.#n.then(r,r):r()}async#i(){if(this.#e)return{done:!0,value:void 0};let e;try{e=await this.#t.read()}catch(r){throw this.#n=void 0,this.#e=!0,this.#t.releaseLock(),r}return e.done&&(this.#n=void 0,this.#e=!0,this.#t.releaseLock()),e}async#o(e){if(this.#e)return{done:!0,value:e};if(this.#e=!0,!this.#r){let r=this.#t.cancel(e);return this.#t.releaseLock(),await r,{done:!0,value:e}}return this.#t.releaseLock(),{done:!0,value:e}}},po=Symbol();function qu(){return this[po].next()}Object.defineProperty(qu,"name",{value:"next"});function Yu(t){return this[po].return(t)}Object.defineProperty(Yu,"name",{value:"return"});var ih=Object.create(oh,{next:{enumerable:!0,configurable:!0,writable:!0,value:qu},return:{enumerable:!0,configurable:!0,writable:!0,value:Yu}});function Do({preventCancel:t=!1}={}){let e=this.getReader(),r=new mo(e,t),n=Object.create(ih);return n[po]=r,n}var Ku=t=>{if(Te(t,{checkOpen:!1})&&pt.on!==void 0)return ah(t);if(typeof t?.[Symbol.asyncIterator]=="function")return t;if(sh.call(t)==="[object ReadableStream]")return Do.call(t);throw new TypeError("The first argument must be a Readable, a ReadableStream, or an async iterable.")},{toString:sh}=Object.prototype,ah=async function*(t){let e=new AbortController,r={};uh(t,e,r);try{for await(let[n]of pt.on(t,"data",{signal:e.signal}))yield n}catch(n){if(r.error!==void 0)throw r.error;if(!e.signal.aborted)throw n}finally{t.destroy()}},uh=async(t,e,r)=>{try{await pt.finished(t,{cleanup:!0,readable:!0,writable:!1,error:!1})}catch(n){r.error=n}finally{e.abort()}},pt={};var ze=async(t,{init:e,convertChunk:r,getSize:n,truncateChunk:o,addChunk:s,getFinalChunk:i,finalize:a},{maxBuffer:u=Number.POSITIVE_INFINITY}={})=>{let c=Ku(t),l=e();l.length=0;try{for await(let d of c){let f=lh(d),m=r[f](d,l);Zu({convertedChunk:m,state:l,getSize:n,truncateChunk:o,addChunk:s,maxBuffer:u})}return ch({state:l,convertChunk:r,getSize:n,truncateChunk:o,addChunk:s,getFinalChunk:i,maxBuffer:u}),a(l)}catch(d){let f=typeof d=="object"&&d!==null?d:new Error(d);throw f.bufferedData=a(l),f}},ch=({state:t,getSize:e,truncateChunk:r,addChunk:n,getFinalChunk:o,maxBuffer:s})=>{let i=o(t);i!==void 0&&Zu({convertedChunk:i,state:t,getSize:e,truncateChunk:r,addChunk:n,maxBuffer:s})},Zu=({convertedChunk:t,state:e,getSize:r,truncateChunk:n,addChunk:o,maxBuffer:s})=>{let i=r(t),a=e.length+i;if(a<=s){Ju(t,e,o,a);return}let u=n(t,s-e.length);throw u!==void 0&&Ju(u,e,o,s),new oe},Ju=(t,e,r,n)=>{e.contents=r(t,e,n),e.length=n},lh=t=>{let e=typeof t;if(e==="string")return"string";if(e!=="object"||t===null)return"others";if(globalThis.Buffer?.isBuffer(t))return"buffer";let r=Xu.call(t);return r==="[object ArrayBuffer]"?"arrayBuffer":r==="[object DataView]"?"dataView":Number.isInteger(t.byteLength)&&Number.isInteger(t.byteOffset)&&Xu.call(t.buffer)==="[object ArrayBuffer]"?"typedArray":"others"},{toString:Xu}=Object.prototype,oe=class extends Error{name="MaxBufferError";constructor(){super("maxBuffer exceeded")}};var de=t=>t,Dt=()=>{},Sr=({contents:t})=>t,Ar=t=>{throw new Error(`Streams in object mode are not supported: ${String(t)}`)},_r=t=>t.length;async function Or(t,e){return ze(t,ph,e)}var dh=()=>({contents:[]}),fh=()=>1,mh=(t,{contents:e})=>(e.push(t),e),ph={init:dh,convertChunk:{string:de,buffer:de,arrayBuffer:de,dataView:de,typedArray:de,others:de},getSize:fh,truncateChunk:Dt,addChunk:mh,getFinalChunk:Dt,finalize:Sr};async function Tr(t,e){return ze(t,wh,e)}var Dh=()=>({contents:new ArrayBuffer(0)}),hh=t=>gh.encode(t),gh=new TextEncoder,Qu=t=>new Uint8Array(t),ec=t=>new Uint8Array(t.buffer,t.byteOffset,t.byteLength),bh=(t,e)=>t.slice(0,e),Ch=(t,{contents:e,length:r},n)=>{let o=nc()?yh(e,n):Eh(e,n);return new Uint8Array(o).set(t,r),o},Eh=(t,e)=>{if(e<=t.byteLength)return t;let r=new ArrayBuffer(rc(e));return new Uint8Array(r).set(new Uint8Array(t),0),r},yh=(t,e)=>{if(e<=t.maxByteLength)return t.resize(e),t;let r=new ArrayBuffer(e,{maxByteLength:rc(e)});return new Uint8Array(r).set(new Uint8Array(t),0),r},rc=t=>tc**Math.ceil(Math.log(t)/Math.log(tc)),tc=2,xh=({contents:t,length:e})=>nc()?t:t.slice(0,e),nc=()=>"resize"in ArrayBuffer.prototype,wh={init:Dh,convertChunk:{string:hh,buffer:Qu,arrayBuffer:Qu,dataView:ec,typedArray:ec,others:Ar},getSize:_r,truncateChunk:bh,addChunk:Ch,getFinalChunk:Dt,finalize:xh};async function $r(t,e){return ze(t,Oh,e)}var Fh=()=>({contents:"",textDecoder:new TextDecoder}),vr=(t,{textDecoder:e})=>e.decode(t,{stream:!0}),Sh=(t,{contents:e})=>e+t,Ah=(t,e)=>t.slice(0,e),_h=({textDecoder:t})=>{let e=t.decode();return e===""?void 0:e},Oh={init:Fh,convertChunk:{string:de,buffer:vr,arrayBuffer:vr,dataView:vr,typedArray:vr,others:Ar},getSize:_r,truncateChunk:Ah,addChunk:Sh,getFinalChunk:_h,finalize:Sr};Object.assign(pt,{on:Th,finished:vh});var oc=({error:t,stream:e,readableObjectMode:r,lines:n,encoding:o,fdNumber:s})=>{if(!(t instanceof oe))throw t;if(s==="all")return t;let i=$h(r,n,o);throw t.maxBufferInfo={fdNumber:s,unit:i},e.destroy(),t},$h=(t,e,r)=>t?"objects":e?"lines":r==="buffer"?"bytes":"characters",ic=(t,e,r)=>{if(e.length!==r)return;let n=new oe;throw n.maxBufferInfo={fdNumber:"ipc"},n},sc=(t,e)=>{let{streamName:r,threshold:n,unit:o}=Bh(t,e);return`Command's ${r} was larger than ${n} ${o}`},Bh=(t,e)=>{if(t?.maxBufferInfo===void 0)return{streamName:"output",threshold:e[1],unit:"bytes"};let{maxBufferInfo:{fdNumber:r,unit:n}}=t;delete t.maxBufferInfo;let o=le(e,r);return r==="ipc"?{streamName:"IPC output",threshold:o,unit:"messages"}:{streamName:Yt(r),threshold:o,unit:n}},ac=(t,e,r)=>t?.code==="ENOBUFS"&&e!==null&&e.some(n=>n!==null&&n.length>Br(r)),uc=(t,e,r)=>{if(!e)return t;let n=Br(r);return t.length>n?t.slice(0,n):t},Br=([,t])=>t;var lc=({stdio:t,all:e,ipcOutput:r,originalError:n,signal:o,signalDescription:s,exitCode:i,escapedCommand:a,timedOut:u,isCanceled:c,isGracefullyCanceled:l,isMaxBuffer:d,isForcefullyTerminated:f,forceKillAfterDelay:m,killSignal:D,maxBuffer:b,timeout:F,cwd:E})=>{let v=n?.code,R=Rh({originalError:n,timedOut:u,timeout:F,isMaxBuffer:d,maxBuffer:b,errorCode:v,signal:o,signalDescription:s,exitCode:i,isCanceled:c,isGracefullyCanceled:l,isForcefullyTerminated:f,forceKillAfterDelay:m,killSignal:D}),y=Ph(n,E),A=y===void 0?"":`
${y}`,B=`${R}: ${a}${A}`,k=e===void 0?[t[2],t[1]]:[e],pe=[B,...k,...t.slice(3),r.map(De=>Lh(De)).join(`
`)].map(De=>ut(He(kh(De)))).filter(Boolean).join(`

`);return{originalMessage:y,shortMessage:B,message:pe}},Rh=({originalError:t,timedOut:e,timeout:r,isMaxBuffer:n,maxBuffer:o,errorCode:s,signal:i,signalDescription:a,exitCode:u,isCanceled:c,isGracefullyCanceled:l,isForcefullyTerminated:d,forceKillAfterDelay:f,killSignal:m})=>{let D=Mh(d,f);return e?`Command timed out after ${r} milliseconds${D}`:l?i===void 0?`Command was gracefully canceled with exit code ${u}`:d?`Command was gracefully canceled${D}`:`Command was gracefully canceled with ${i} (${a})`:c?`Command was canceled${D}`:n?`${sc(t,o)}${D}`:s!==void 0?`Command failed with ${s}${D}`:d?`Command was killed with ${m} (${ur(m)})${D}`:i!==void 0?`Command was killed with ${i} (${a})`:u!==void 0?`Command failed with exit code ${u}`:"Command failed"},Mh=(t,e)=>t?` and was forcefully terminated after ${e} milliseconds`:"",Ph=(t,e)=>{if(t instanceof J)return;let r=ja(t)?t.originalMessage:String(t?.message??t),n=ut(Wu(r,e));return n===""?void 0:n},Lh=t=>typeof t=="string"?t:Ih(t),kh=t=>Array.isArray(t)?t.map(e=>He(cc(e))).filter(Boolean).join(`
`):cc(t),cc=t=>typeof t=="string"?t:I(t)?zt(t):"";var Ir=({command:t,escapedCommand:e,stdio:r,all:n,ipcOutput:o,options:{cwd:s},startTime:i})=>dc({command:t,escapedCommand:e,cwd:s,durationMs:Vn(i),failed:!1,timedOut:!1,isCanceled:!1,isGracefullyCanceled:!1,isTerminated:!1,isMaxBuffer:!1,isForcefullyTerminated:!1,exitCode:0,stdout:r[1],stderr:r[2],all:n,stdio:r,ipcOutput:o,pipedFrom:[]}),qe=({error:t,command:e,escapedCommand:r,fileDescriptors:n,options:o,startTime:s,isSync:i})=>ht({error:t,command:e,escapedCommand:r,startTime:s,timedOut:!1,isCanceled:!1,isGracefullyCanceled:!1,isMaxBuffer:!1,isForcefullyTerminated:!1,stdio:Array.from({length:n.length}),ipcOutput:[],options:o,isSync:i}),ht=({error:t,command:e,escapedCommand:r,startTime:n,timedOut:o,isCanceled:s,isGracefullyCanceled:i,isMaxBuffer:a,isForcefullyTerminated:u,exitCode:c,signal:l,stdio:d,all:f,ipcOutput:m,options:{timeoutDuration:D,timeout:b=D,forceKillAfterDelay:F,killSignal:E,cwd:v,maxBuffer:R},isSync:y})=>{let{exitCode:A,signal:B,signalDescription:k}=Nh(c,l),{originalMessage:pe,shortMessage:De,message:rn}=lc({stdio:d,all:f,ipcOutput:m,originalError:t,signal:B,signalDescription:k,exitCode:A,escapedCommand:r,timedOut:o,isCanceled:s,isGracefullyCanceled:i,isMaxBuffer:a,isForcefullyTerminated:u,forceKillAfterDelay:F,killSignal:E,maxBuffer:R,timeout:b,cwd:v}),rt=La(t,rn,y);return Object.assign(rt,jh({error:rt,command:e,escapedCommand:r,startTime:n,timedOut:o,isCanceled:s,isGracefullyCanceled:i,isMaxBuffer:a,isForcefullyTerminated:u,exitCode:A,signal:B,signalDescription:k,stdio:d,all:f,ipcOutput:m,cwd:v,originalMessage:pe,shortMessage:De})),rt},jh=({error:t,command:e,escapedCommand:r,startTime:n,timedOut:o,isCanceled:s,isGracefullyCanceled:i,isMaxBuffer:a,isForcefullyTerminated:u,exitCode:c,signal:l,signalDescription:d,stdio:f,all:m,ipcOutput:D,cwd:b,originalMessage:F,shortMessage:E})=>dc({shortMessage:E,originalMessage:F,command:e,escapedCommand:r,cwd:b,durationMs:Vn(n),failed:!0,timedOut:o,isCanceled:s,isGracefullyCanceled:i,isTerminated:l!==void 0,isMaxBuffer:a,isForcefullyTerminated:u,exitCode:c,signal:l,signalDescription:d,code:t.cause?.code,stdout:f[1],stderr:f[2],all:m,stdio:f,ipcOutput:D,pipedFrom:[]}),dc=t=>Object.fromEntries(Object.entries(t).filter(([,e])=>e!==void 0)),Nh=(t,e)=>{let r=t===null?void 0:t,n=e===null?void 0:e,o=n===void 0?void 0:ur(e);return{exitCode:r,signal:n,signalDescription:o}};var fc=t=>Number.isFinite(t)?t:0;function Uh(t){return{days:Math.trunc(t/864e5),hours:Math.trunc(t/36e5%24),minutes:Math.trunc(t/6e4%60),seconds:Math.trunc(t/1e3%60),milliseconds:Math.trunc(t%1e3),microseconds:Math.trunc(fc(t*1e3)%1e3),nanoseconds:Math.trunc(fc(t*1e6)%1e3)}}function Wh(t){return{days:t/86400000n,hours:t/3600000n%24n,minutes:t/60000n%60n,seconds:t/1000n%60n,milliseconds:t%1000n,microseconds:0n,nanoseconds:0n}}function ho(t){switch(typeof t){case"number":{if(Number.isFinite(t))return Uh(t);break}case"bigint":return Wh(t)}throw new TypeError("Expected a finite number or bigint")}var Vh=t=>t===0||t===0n,Gh=(t,e)=>e===1||e===1n?t:`${t}s`,Hh=1e-7,zh=24n*60n*60n*1000n;function go(t,e){let r=typeof t=="bigint";if(!r&&!Number.isFinite(t))throw new TypeError("Expected a finite number or bigint");e={...e};let n=t<0?"-":"";t=t<0?-t:t,e.colonNotation&&(e.compact=!1,e.formatSubMilliseconds=!1,e.separateMilliseconds=!1,e.verbose=!1),e.compact&&(e.unitCount=1,e.secondsDecimalDigits=0,e.millisecondsDecimalDigits=0);let o=[],s=(l,d)=>{let f=Math.floor(l*10**d+Hh);return(Math.round(f)/10**d).toFixed(d)},i=(l,d,f,m)=>{if(!((o.length===0||!e.colonNotation)&&Vh(l)&&!(e.colonNotation&&f==="m"))){if(m??=String(l),e.colonNotation){let D=m.includes(".")?m.split(".")[0].length:m.length,b=o.length>0?2:1;m="0".repeat(Math.max(0,b-D))+m}else m+=e.verbose?" "+Gh(d,l):f;o.push(m)}},a=ho(t),u=BigInt(a.days);if(e.hideYearAndDays?i(BigInt(u)*24n+BigInt(a.hours),"hour","h"):(e.hideYear?i(u,"day","d"):(i(u/365n,"year","y"),i(u%365n,"day","d")),i(Number(a.hours),"hour","h")),i(Number(a.minutes),"minute","m"),!e.hideSeconds)if(e.separateMilliseconds||e.formatSubMilliseconds||!e.colonNotation&&t<1e3&&!e.subSecondsAsDecimals){let l=Number(a.seconds),d=Number(a.milliseconds),f=Number(a.microseconds),m=Number(a.nanoseconds);if(i(l,"second","s"),e.formatSubMilliseconds)i(d,"millisecond","ms"),i(f,"microsecond","\xB5s"),i(m,"nanosecond","ns");else{let D=d+f/1e3+m/1e6,b=typeof e.millisecondsDecimalDigits=="number"?e.millisecondsDecimalDigits:0,F=D>=1?Math.round(D):Math.ceil(D),E=b?D.toFixed(b):F;i(Number.parseFloat(E),"millisecond","ms",E)}}else{let l=(r?Number(t%zh):t)/1e3%60,d=typeof e.secondsDecimalDigits=="number"?e.secondsDecimalDigits:1,f=s(l,d),m=e.keepDecimalsOnWholeSeconds?f:f.replace(/\.0+$/,"");i(Number.parseFloat(m),"second","s",m)}if(o.length===0)return n+"0"+(e.verbose?" milliseconds":"ms");let c=e.colonNotation?":":" ";return typeof e.unitCount=="number"&&(o=o.slice(0,Math.max(e.unitCount,1))),n+o.join(c)}var mc=(t,e)=>{t.failed&&te({type:"error",verboseMessage:t.shortMessage,verboseInfo:e,result:t})};var pc=(t,e)=>{ke(e)&&(mc(t,e),qh(t,e))},qh=(t,e)=>{let r=`(done in ${go(t.durationMs)})`;te({type:"duration",verboseMessage:r,verboseInfo:e,result:t})};var Ye=(t,e,{reject:r})=>{if(pc(t,e),t.failed&&r)throw t;return t};import{readFileSync as Uc}from"fs";var gc=(t,e)=>ve(t)?"asyncGenerator":Ec(t)?"generator":Rr(t)?"fileUrl":Zh(t)?"filePath":tg(t)?"webStream":Z(t,{checkOpen:!1})?"native":I(t)?"uint8Array":rg(t)?"asyncIterable":ng(t)?"iterable":Eo(t)?bc({transform:t},e):Xh(t)?Yh(t,e):"native",Yh=(t,e)=>fo(t.transform,{checkOpen:!1})?Kh(t,e):Eo(t.transform)?bc(t,e):Jh(t,e),Kh=(t,e)=>(Cc(t,e,"Duplex stream"),"duplex"),bc=(t,e)=>(Cc(t,e,"web TransformStream"),"webTransform"),Cc=({final:t,binary:e,objectMode:r},n,o)=>{Dc(t,`${n}.final`,o),Dc(e,`${n}.binary`,o),bo(r,`${n}.objectMode`)},Dc=(t,e,r)=>{if(t!==void 0)throw new TypeError(`The \`${e}\` option can only be defined when using a generator, not a ${r}.`)},Jh=({transform:t,final:e,binary:r,objectMode:n},o)=>{if(t!==void 0&&!hc(t))throw new TypeError(`The \`${o}.transform\` option must be a generator, a Duplex stream or a web TransformStream.`);if(fo(e,{checkOpen:!1}))throw new TypeError(`The \`${o}.final\` option must not be a Duplex stream.`);if(Eo(e))throw new TypeError(`The \`${o}.final\` option must not be a web TransformStream.`);if(e!==void 0&&!hc(e))throw new TypeError(`The \`${o}.final\` option must be a generator.`);return bo(r,`${o}.binary`),bo(n,`${o}.objectMode`),ve(t)||ve(e)?"asyncGenerator":"generator"},bo=(t,e)=>{if(t!==void 0&&typeof t!="boolean")throw new TypeError(`The \`${e}\` option must use a boolean.`)},hc=t=>ve(t)||Ec(t),ve=t=>Object.prototype.toString.call(t)==="[object AsyncGeneratorFunction]",Ec=t=>Object.prototype.toString.call(t)==="[object GeneratorFunction]",Xh=t=>T(t)&&(t.transform!==void 0||t.final!==void 0),Rr=t=>Object.prototype.toString.call(t)==="[object URL]",yc=t=>Rr(t)&&t.protocol!=="file:",Zh=t=>T(t)&&Object.keys(t).length>0&&Object.keys(t).every(e=>Qh.has(e))&&Co(t.file),Qh=new Set(["file","append"]),Co=t=>typeof t=="string",xc=(t,e)=>t==="native"&&typeof e=="string"&&!eg.has(e),eg=new Set(["ipc","ignore","inherit","overlapped","pipe"]),wc=t=>Object.prototype.toString.call(t)==="[object ReadableStream]",Mr=t=>Object.prototype.toString.call(t)==="[object WritableStream]",tg=t=>wc(t)||Mr(t),Eo=t=>wc(t?.readable)&&Mr(t?.writable),rg=t=>Fc(t)&&typeof t[Symbol.asyncIterator]=="function",ng=t=>Fc(t)&&typeof t[Symbol.iterator]=="function",Fc=t=>typeof t=="object"&&t!==null,G=new Set(["generator","asyncGenerator","duplex","webTransform"]),Pr=new Set(["fileUrl","filePath","fileNumber"]),yo=new Set(["fileUrl","filePath"]),Sc=new Set([...yo,"webStream","nodeStream"]),Ac=new Set(["webTransform","duplex"]),Ee={generator:"a generator",asyncGenerator:"an async generator",fileUrl:"a file URL",filePath:"a file path string",fileNumber:"a file descriptor number",webStream:"a web stream",nodeStream:"a Node.js stream",webTransform:"a web TransformStream",duplex:"a Duplex stream",native:"any value",iterable:"an iterable",asyncIterable:"an async iterable",string:"a string",uint8Array:"a Uint8Array"};var xo=(t,e,r,n)=>n==="output"?og(t,e,r):ig(t,e,r),og=(t,e,r)=>{let n=e!==0&&r[e-1].value.readableObjectMode;return{writableObjectMode:n,readableObjectMode:t??n}},ig=(t,e,r)=>{let n=e===0?t===!0:r[e-1].value.readableObjectMode,o=e!==r.length-1&&(t??n);return{writableObjectMode:n,readableObjectMode:o}},_c=(t,e)=>{let r=t.findLast(({type:n})=>G.has(n));return r===void 0?!1:e==="input"?r.value.writableObjectMode:r.value.readableObjectMode};var Oc=(t,e,r,n)=>[...t.filter(({type:o})=>!G.has(o)),...sg(t,e,r,n)],sg=(t,e,r,{encoding:n})=>{let o=t.filter(({type:i})=>G.has(i)),s=Array.from({length:o.length});for(let[i,a]of Object.entries(o))s[i]=ag({stdioItem:a,index:Number(i),newTransforms:s,optionName:e,direction:r,encoding:n});return dg(s,r)},ag=({stdioItem:t,stdioItem:{type:e},index:r,newTransforms:n,optionName:o,direction:s,encoding:i})=>e==="duplex"?ug({stdioItem:t,optionName:o}):e==="webTransform"?cg({stdioItem:t,index:r,newTransforms:n,direction:s}):lg({stdioItem:t,index:r,newTransforms:n,direction:s,encoding:i}),ug=({stdioItem:t,stdioItem:{value:{transform:e,transform:{writableObjectMode:r,readableObjectMode:n},objectMode:o=n}},optionName:s})=>{if(o&&!n)throw new TypeError(`The \`${s}.objectMode\` option can only be \`true\` if \`new Duplex({objectMode: true})\` is used.`);if(!o&&n)throw new TypeError(`The \`${s}.objectMode\` option cannot be \`false\` if \`new Duplex({objectMode: true})\` is used.`);return{...t,value:{transform:e,writableObjectMode:r,readableObjectMode:n}}},cg=({stdioItem:t,stdioItem:{value:e},index:r,newTransforms:n,direction:o})=>{let{transform:s,objectMode:i}=T(e)?e:{transform:e},{writableObjectMode:a,readableObjectMode:u}=xo(i,r,n,o);return{...t,value:{transform:s,writableObjectMode:a,readableObjectMode:u}}},lg=({stdioItem:t,stdioItem:{value:e},index:r,newTransforms:n,direction:o,encoding:s})=>{let{transform:i,final:a,binary:u=!1,preserveNewlines:c=!1,objectMode:l}=T(e)?e:{transform:e},d=u||U.has(s),{writableObjectMode:f,readableObjectMode:m}=xo(l,r,n,o);return{...t,value:{transform:i,final:a,binary:d,preserveNewlines:c,writableObjectMode:f,readableObjectMode:m}}},dg=(t,e)=>e==="input"?t.reverse():t;import wo from"process";var Tc=(t,e,r)=>{let n=t.map(o=>fg(o,e));if(n.includes("input")&&n.includes("output"))throw new TypeError(`The \`${r}\` option must not be an array of both readable and writable values.`);return n.find(Boolean)??Dg},fg=({type:t,value:e},r)=>mg[r]??vc[t](e),mg=["input","output","output"],Ke=()=>{},Fo=()=>"input",vc={generator:Ke,asyncGenerator:Ke,fileUrl:Ke,filePath:Ke,iterable:Fo,asyncIterable:Fo,uint8Array:Fo,webStream:t=>Mr(t)?"output":"input",nodeStream(t){return Te(t,{checkOpen:!1})?lo(t,{checkOpen:!1})?void 0:"input":"output"},webTransform:Ke,duplex:Ke,native(t){let e=pg(t);if(e!==void 0)return e;if(Z(t,{checkOpen:!1}))return vc.nodeStream(t)}},pg=t=>{if([0,wo.stdin].includes(t))return"input";if([1,2,wo.stdout,wo.stderr].includes(t))return"output"},Dg="output";var $c=(t,e)=>e&&!t.includes("ipc")?[...t,"ipc"]:t;var Bc=({stdio:t,ipc:e,buffer:r,...n},o,s)=>{let i=hg(t,n).map((a,u)=>Ic(a,u));return s?bg(i,r,o):$c(i,e)},hg=(t,e)=>{if(t===void 0)return V.map(n=>e[n]);if(gg(e))throw new Error(`It's not possible to provide \`stdio\` in combination with one of ${V.map(n=>`\`${n}\``).join(", ")}`);if(typeof t=="string")return[t,t,t];if(!Array.isArray(t))throw new TypeError(`Expected \`stdio\` to be of type \`string\` or \`Array\`, got \`${typeof t}\``);let r=Math.max(t.length,V.length);return Array.from({length:r},(n,o)=>t[o])},gg=t=>V.some(e=>t[e]!==void 0),Ic=(t,e)=>Array.isArray(t)?t.map(r=>Ic(r,e)):t??(e>=V.length?"ignore":"pipe"),bg=(t,e,r)=>t.map((n,o)=>!e[o]&&o!==0&&!je(r,o)&&Cg(n)?"ignore":n),Cg=t=>t==="pipe"||Array.isArray(t)&&t.every(e=>e==="pipe");import{readFileSync as Eg}from"fs";import yg from"tty";var Mc=({stdioItem:t,stdioItem:{type:e},isStdioArray:r,fdNumber:n,direction:o,isSync:s})=>!r||e!=="native"?t:s?xg({stdioItem:t,fdNumber:n,direction:o}):Sg({stdioItem:t,fdNumber:n}),xg=({stdioItem:t,stdioItem:{value:e,optionName:r},fdNumber:n,direction:o})=>{let s=wg({value:e,optionName:r,fdNumber:n,direction:o});if(s!==void 0)return s;if(Z(e,{checkOpen:!1}))throw new TypeError(`The \`${r}: Stream\` option cannot both be an array and include a stream with synchronous methods.`);return t},wg=({value:t,optionName:e,fdNumber:r,direction:n})=>{let o=Fg(t,r);if(o!==void 0){if(n==="output")return{type:"fileNumber",value:o,optionName:e};if(yg.isatty(o))throw new TypeError(`The \`${e}: ${dr(t)}\` option is invalid: it cannot be a TTY with synchronous methods.`);return{type:"uint8Array",value:ce(Eg(o)),optionName:e}}},Fg=(t,e)=>{if(t==="inherit")return e;if(typeof t=="number")return t;let r=qt.indexOf(t);if(r!==-1)return r},Sg=({stdioItem:t,stdioItem:{value:e,optionName:r},fdNumber:n})=>e==="inherit"?{type:"nodeStream",value:Rc(n,e,r),optionName:r}:typeof e=="number"?{type:"nodeStream",value:Rc(e,e,r),optionName:r}:Z(e,{checkOpen:!1})?{type:"nodeStream",value:e,optionName:r}:t,Rc=(t,e,r)=>{let n=qt[t];if(n===void 0)throw new TypeError(`The \`${r}: ${e}\` option is invalid: no such standard stream.`);return n};var Pc=({input:t,inputFile:e},r)=>r===0?[...Ag(t),...Og(e)]:[],Ag=t=>t===void 0?[]:[{type:_g(t),value:t,optionName:"input"}],_g=t=>{if(Te(t,{checkOpen:!1}))return"nodeStream";if(typeof t=="string")return"string";if(I(t))return"uint8Array";throw new Error("The `input` option must be a string, a Uint8Array or a Node.js Readable stream.")},Og=t=>t===void 0?[]:[{...Tg(t),optionName:"inputFile"}],Tg=t=>{if(Rr(t))return{type:"fileUrl",value:t};if(Co(t))return{type:"filePath",value:{file:t}};throw new Error("The `inputFile` option must be a file path string or a file URL.")};var Lc=t=>t.filter((e,r)=>t.every((n,o)=>e.value!==n.value||r>=o||e.type==="generator"||e.type==="asyncGenerator")),kc=({stdioItem:{type:t,value:e,optionName:r},direction:n,fileDescriptors:o,isSync:s})=>{let i=vg(o,t);if(i.length!==0){if(s){$g({otherStdioItems:i,type:t,value:e,optionName:r,direction:n});return}if(Sc.has(t))return jc({otherStdioItems:i,type:t,value:e,optionName:r,direction:n});Ac.has(t)&&Ig({otherStdioItems:i,type:t,value:e,optionName:r})}},vg=(t,e)=>t.flatMap(({direction:r,stdioItems:n})=>n.filter(o=>o.type===e).map((o=>({...o,direction:r})))),$g=({otherStdioItems:t,type:e,value:r,optionName:n,direction:o})=>{yo.has(e)&&jc({otherStdioItems:t,type:e,value:r,optionName:n,direction:o})},jc=({otherStdioItems:t,type:e,value:r,optionName:n,direction:o})=>{let s=t.filter(a=>Bg(a,r));if(s.length===0)return;let i=s.find(a=>a.direction!==o);return Nc(i,n,e),o==="output"?s[0].stream:void 0},Bg=({type:t,value:e},r)=>t==="filePath"?e.file===r.file:t==="fileUrl"?e.href===r.href:e===r,Ig=({otherStdioItems:t,type:e,value:r,optionName:n})=>{let o=t.find(({value:{transform:s}})=>s===r.transform);Nc(o,n,e)},Nc=(t,e,r)=>{if(t!==void 0)throw new TypeError(`The \`${t.optionName}\` and \`${e}\` options must not target ${Ee[r]} that is the same.`)};var Lr=(t,e,r,n)=>{let s=Bc(e,r,n).map((a,u)=>Rg({stdioOption:a,fdNumber:u,options:e,isSync:n})),i=Wg({initialFileDescriptors:s,addProperties:t,options:e,isSync:n});return e.stdio=i.map(({stdioItems:a})=>Hg(a)),i},Rg=({stdioOption:t,fdNumber:e,options:r,isSync:n})=>{let o=Yt(e),{stdioItems:s,isStdioArray:i}=Mg({stdioOption:t,fdNumber:e,options:r,optionName:o}),a=Tc(s,e,o),u=s.map(d=>Mc({stdioItem:d,isStdioArray:i,fdNumber:e,direction:a,isSync:n})),c=Oc(u,o,a,r),l=_c(c,a);return Ug(c,l),{direction:a,objectMode:l,stdioItems:c}},Mg=({stdioOption:t,fdNumber:e,options:r,optionName:n})=>{let s=[...(Array.isArray(t)?t:[t]).map(u=>Pg(u,n)),...Pc(r,e)],i=Lc(s),a=i.length>1;return Lg(i,a,n),jg(i),{stdioItems:i,isStdioArray:a}},Pg=(t,e)=>({type:gc(t,e),value:t,optionName:e}),Lg=(t,e,r)=>{if(t.length===0)throw new TypeError(`The \`${r}\` option must not be an empty array.`);if(e){for(let{value:n,optionName:o}of t)if(kg.has(n))throw new Error(`The \`${o}\` option must not include \`${n}\`.`)}},kg=new Set(["ignore","ipc"]),jg=t=>{for(let e of t)Ng(e)},Ng=({type:t,value:e,optionName:r})=>{if(yc(e))throw new TypeError(`The \`${r}: URL\` option must use the \`file:\` scheme.
For example, you can use the \`pathToFileURL()\` method of the \`url\` core module.`);if(xc(t,e))throw new TypeError(`The \`${r}: { file: '...' }\` option must be used instead of \`${r}: '...'\`.`)},Ug=(t,e)=>{if(!e)return;let r=t.find(({type:n})=>Pr.has(n));if(r!==void 0)throw new TypeError(`The \`${r.optionName}\` option cannot use both files and transforms in objectMode.`)},Wg=({initialFileDescriptors:t,addProperties:e,options:r,isSync:n})=>{let o=[];try{for(let s of t)o.push(Vg({fileDescriptor:s,fileDescriptors:o,addProperties:e,options:r,isSync:n}));return o}catch(s){throw So(o),s}},Vg=({fileDescriptor:{direction:t,objectMode:e,stdioItems:r},fileDescriptors:n,addProperties:o,options:s,isSync:i})=>{let a=r.map(u=>Gg({stdioItem:u,addProperties:o,direction:t,options:s,fileDescriptors:n,isSync:i}));return{direction:t,objectMode:e,stdioItems:a}},Gg=({stdioItem:t,addProperties:e,direction:r,options:n,fileDescriptors:o,isSync:s})=>{let i=kc({stdioItem:t,direction:r,fileDescriptors:o,isSync:s});return i!==void 0?{...t,stream:i}:{...t,...e[r][t.type](t,n)}},So=t=>{for(let{stdioItems:e}of t)for(let{stream:r}of e)r!==void 0&&!K(r)&&r.destroy()},Hg=t=>{if(t.length>1)return t.some(({value:n})=>n==="overlapped")?"overlapped":"pipe";let[{type:e,value:r}]=t;return e==="native"?r:"pipe"};var Vc=(t,e)=>Lr(qg,t,e,!0),ie=({type:t,optionName:e})=>{Gc(e,Ee[t])},zg=({optionName:t,value:e})=>((e==="ipc"||e==="overlapped")&&Gc(t,`"${e}"`),{}),Gc=(t,e)=>{throw new TypeError(`The \`${t}\` option cannot be ${e} with synchronous methods.`)},Wc={generator(){},asyncGenerator:ie,webStream:ie,nodeStream:ie,webTransform:ie,duplex:ie,asyncIterable:ie,native:zg},qg={input:{...Wc,fileUrl:({value:t})=>({contents:[ce(Uc(t))]}),filePath:({value:{file:t}})=>({contents:[ce(Uc(t))]}),fileNumber:ie,iterable:({value:t})=>({contents:[...t]}),string:({value:t})=>({contents:[t]}),uint8Array:({value:t})=>({contents:[t]})},output:{...Wc,fileUrl:({value:t})=>({path:t}),filePath:({value:{file:t,append:e}})=>({path:t,append:e}),fileNumber:({value:t})=>({path:t}),iterable:ie,string:ie,uint8Array:ie}};var fe=(t,{stripFinalNewline:e},r)=>Ao(e,r)&&t!==void 0&&!Array.isArray(t)?He(t):t,Ao=(t,e)=>e==="all"?t[1]||t[2]:t[e];import{Transform as p0,getDefaultHighWaterMark as tl}from"stream";var kr=(t,e,r,n)=>t||r?void 0:zc(e,n),Oo=(t,e,r)=>r?t.flatMap(n=>Hc(n,e)):Hc(t,e),Hc=(t,e)=>{let{transform:r,final:n}=zc(e,{});return[...r(t),...n()]},zc=(t,e)=>(e.previousChunks="",{transform:Yg.bind(void 0,e,t),final:Jg.bind(void 0,e)}),Yg=function*(t,e,r){if(typeof r!="string"){yield r;return}let{previousChunks:n}=t,o=-1;for(let s=0;s<r.length;s+=1)if(r[s]===`
`){let i=Kg(r,s,e,t),a=r.slice(o+1,s+1-i);n.length>0&&(a=_o(n,a),n=""),yield a,o=s}o!==r.length-1&&(n=_o(n,r.slice(o+1))),t.previousChunks=n},Kg=(t,e,r,n)=>r?0:(n.isWindowsNewline=e!==0&&t[e-1]==="\r",n.isWindowsNewline?2:1),Jg=function*({previousChunks:t}){t.length>0&&(yield t)},qc=({binary:t,preserveNewlines:e,readableObjectMode:r,state:n})=>t||e||r?void 0:{transform:Xg.bind(void 0,n)},Xg=function*({isWindowsNewline:t=!1},e){let{unixNewline:r,windowsNewline:n,LF:o,concatBytes:s}=typeof e=="string"?Zg:e0;if(e.at(-1)===o){yield e;return}yield s(e,t?n:r)},_o=(t,e)=>`${t}${e}`,Zg={windowsNewline:`\r
`,unixNewline:`
`,LF:`
`,concatBytes:_o},Qg=(t,e)=>{let r=new Uint8Array(t.length+e.length);return r.set(t,0),r.set(e,t.length),r},e0={windowsNewline:new Uint8Array([13,10]),unixNewline:new Uint8Array([10]),LF:10,concatBytes:Qg};import{Buffer as t0}from"buffer";var Yc=(t,e)=>t?void 0:r0.bind(void 0,e),r0=function*(t,e){if(typeof e!="string"&&!I(e)&&!t0.isBuffer(e))throw new TypeError(`The \`${t}\` option's transform must use "objectMode: true" to receive as input: ${typeof e}.`);yield e},Kc=(t,e)=>t?n0.bind(void 0,e):o0.bind(void 0,e),n0=function*(t,e){Jc(t,e),yield e},o0=function*(t,e){if(Jc(t,e),typeof e!="string"&&!I(e))throw new TypeError(`The \`${t}\` option's function must yield a string or an Uint8Array, not ${typeof e}.`);yield e},Jc=(t,e)=>{if(e==null)throw new TypeError(`The \`${t}\` option's function must not call \`yield ${e}\`.
Instead, \`yield\` should either be called with a value, or not be called at all. For example:
  if (condition) { yield value; }`)};import{Buffer as i0}from"buffer";import{StringDecoder as s0}from"string_decoder";var jr=(t,e,r)=>{if(r)return;if(t)return{transform:a0.bind(void 0,new TextEncoder)};let n=new s0(e);return{transform:u0.bind(void 0,n),final:c0.bind(void 0,n)}},a0=function*(t,e){i0.isBuffer(e)?yield ce(e):typeof e=="string"?yield t.encode(e):yield e},u0=function*(t,e){yield I(e)?t.write(e):e},c0=function*(t){let e=t.end();e!==""&&(yield e)};import{callbackify as Xc}from"util";var To=Xc(async(t,e,r,n)=>{e.currentIterable=t(...r);try{for await(let o of e.currentIterable)n.push(o)}finally{delete e.currentIterable}}),Nr=async function*(t,e,r){if(r===e.length){yield t;return}let{transform:n=d0}=e[r];for await(let o of n(t))yield*Nr(o,e,r+1)},Zc=async function*(t){for(let[e,{final:r}]of Object.entries(t))yield*l0(r,Number(e),t)},l0=async function*(t,e,r){if(t!==void 0)for await(let n of t())yield*Nr(n,r,e+1)},Qc=Xc(async({currentIterable:t},e)=>{if(t!==void 0){await(e?t.throw(e):t.return());return}if(e)throw e}),d0=function*(t){yield t};var vo=(t,e,r,n)=>{try{for(let o of t(...e))r.push(o);n()}catch(o){n(o)}},el=(t,e)=>[...e.flatMap(r=>[...$e(r,t,0)]),...gt(t)],$e=function*(t,e,r){if(r===e.length){yield t;return}let{transform:n=m0}=e[r];for(let o of n(t))yield*$e(o,e,r+1)},gt=function*(t){for(let[e,{final:r}]of Object.entries(t))yield*f0(r,Number(e),t)},f0=function*(t,e,r){if(t!==void 0)for(let n of t())yield*$e(n,r,e+1)},m0=function*(t){yield t};var $o=({value:t,value:{transform:e,final:r,writableObjectMode:n,readableObjectMode:o},optionName:s},{encoding:i})=>{let a={},u=rl(t,i,s),c=ve(e),l=ve(r),d=c?To.bind(void 0,Nr,a):vo.bind(void 0,$e),f=c||l?To.bind(void 0,Zc,a):vo.bind(void 0,gt),m=c||l?Qc.bind(void 0,a):void 0;return{stream:new p0({writableObjectMode:n,writableHighWaterMark:tl(n),readableObjectMode:o,readableHighWaterMark:tl(o),transform(b,F,E){d([b,u,0],this,E)},flush(b){f([u],this,b)},destroy:m})}},Ur=(t,e,r,n)=>{let o=e.filter(({type:i})=>i==="generator"),s=n?o.reverse():o;for(let{value:i,optionName:a}of s){let u=rl(i,r,a);t=el(u,t)}return t},rl=({transform:t,final:e,binary:r,writableObjectMode:n,readableObjectMode:o,preserveNewlines:s},i,a)=>{let u={};return[{transform:Yc(n,a)},jr(r,i,n),kr(r,s,n,u),{transform:t,final:e},{transform:Kc(o,a)},qc({binary:r,preserveNewlines:s,readableObjectMode:o,state:u})].filter(Boolean)};var nl=(t,e)=>{for(let r of D0(t))h0(t,r,e)},D0=t=>new Set(Object.entries(t).filter(([,{direction:e}])=>e==="input").map(([e])=>Number(e))),h0=(t,e,r)=>{let{stdioItems:n}=t[e],o=n.filter(({contents:a})=>a!==void 0);if(o.length===0)return;if(e!==0){let[{type:a,optionName:u}]=o;throw new TypeError(`Only the \`stdin\` option, not \`${u}\`, can be ${Ee[a]} with synchronous methods.`)}let i=o.map(({contents:a})=>a).map(a=>g0(a,n));r.input=at(i)},g0=(t,e)=>{let r=Ur(t,e,"utf8",!0);return b0(r),at(r)},b0=t=>{let e=t.find(r=>typeof r!="string"&&!I(r));if(e!==void 0)throw new TypeError(`The \`stdin\` option is invalid: when passing objects as input, a transform must be used to serialize them to strings or Uint8Arrays: ${e}.`)};import{writeFileSync as x0,appendFileSync as w0}from"fs";var Wr=({stdioItems:t,encoding:e,verboseInfo:r,fdNumber:n})=>n!=="all"&&je(r,n)&&!U.has(e)&&C0(n)&&(t.some(({type:o,value:s})=>o==="native"&&E0.has(s))||t.every(({type:o})=>G.has(o))),C0=t=>t===1||t===2,E0=new Set(["pipe","overlapped"]),ol=async(t,e,r,n)=>{for await(let o of t)y0(e)||sl(o,r,n)},il=(t,e,r)=>{for(let n of t)sl(n,e,r)},y0=t=>t._readableState.pipes.length>0,sl=(t,e,r)=>{let n=er(t);te({type:"output",verboseMessage:n,fdNumber:e,verboseInfo:r})};var al=({fileDescriptors:t,syncResult:{output:e},options:r,isMaxBuffer:n,verboseInfo:o})=>{if(e===null)return{output:Array.from({length:3})};let s={},i=new Set([]);return{output:e.map((u,c)=>F0({result:u,fileDescriptors:t,fdNumber:c,state:s,outputFiles:i,isMaxBuffer:n,verboseInfo:o},r)),...s}},F0=({result:t,fileDescriptors:e,fdNumber:r,state:n,outputFiles:o,isMaxBuffer:s,verboseInfo:i},{buffer:a,encoding:u,lines:c,stripFinalNewline:l,maxBuffer:d})=>{if(t===null)return;let f=uc(t,s,d),m=ce(f),{stdioItems:D,objectMode:b}=e[r],F=S0([m],D,u,n),{serializedResult:E,finalResult:v=E}=A0({chunks:F,objectMode:b,encoding:u,lines:c,stripFinalNewline:l,fdNumber:r});_0({serializedResult:E,fdNumber:r,state:n,verboseInfo:i,encoding:u,stdioItems:D,objectMode:b});let R=a[r]?v:void 0;try{return n.error===void 0&&O0(E,D,o),R}catch(y){return n.error=y,R}},S0=(t,e,r,n)=>{try{return Ur(t,e,r,!1)}catch(o){return n.error=o,t}},A0=({chunks:t,objectMode:e,encoding:r,lines:n,stripFinalNewline:o,fdNumber:s})=>{if(e)return{serializedResult:t};if(r==="buffer")return{serializedResult:at(t)};let i=xs(t,r);return n[s]?{serializedResult:i,finalResult:Oo(i,!o[s],e)}:{serializedResult:i}},_0=({serializedResult:t,fdNumber:e,state:r,verboseInfo:n,encoding:o,stdioItems:s,objectMode:i})=>{if(!Wr({stdioItems:s,encoding:o,verboseInfo:n,fdNumber:e}))return;let a=Oo(t,!1,i);try{il(a,e,n)}catch(u){r.error??=u}},O0=(t,e,r)=>{for(let{path:n,append:o}of e.filter(({type:s})=>Pr.has(s))){let s=typeof n=="string"?n:n.toString();o||r.has(s)?w0(n,t):(r.add(s),x0(n,t))}};var ul=([,t,e],r)=>{if(r.all)return t===void 0?e:e===void 0?t:Array.isArray(t)?Array.isArray(e)?[...t,...e]:[...t,fe(e,r,"all")]:Array.isArray(e)?[fe(t,r,"all"),...e]:I(t)&&I(e)?Pn([t,e]):`${t}${e}`};import{once as Bo}from"events";var cl=async(t,e)=>{let[r,n]=await T0(t);return e.isForcefullyTerminated??=!1,[r,n]},T0=async t=>{let[e,r]=await Promise.allSettled([Bo(t,"spawn"),Bo(t,"exit")]);return e.status==="rejected"?[]:r.status==="rejected"?ll(t):r.value},ll=async t=>{try{return await Bo(t,"exit")}catch{return ll(t)}},dl=async t=>{let[e,r]=await t;if(!v0(e,r)&&Io(e,r))throw new J;return[e,r]},v0=(t,e)=>t===void 0&&e===void 0,Io=(t,e)=>t!==0||e!==null;var fl=({error:t,status:e,signal:r,output:n},{maxBuffer:o})=>{let s=$0(t,e,r),i=s?.code==="ETIMEDOUT",a=ac(s,n,o);return{resultError:s,exitCode:e,signal:r,timedOut:i,isMaxBuffer:a}},$0=(t,e,r)=>t!==void 0?t:Io(e,r)?new J:void 0;var ml=(t,e,r)=>{let{file:n,commandArguments:o,command:s,escapedCommand:i,startTime:a,verboseInfo:u,options:c,fileDescriptors:l}=I0(t,e,r),d=P0({file:n,commandArguments:o,options:c,command:s,escapedCommand:i,verboseInfo:u,fileDescriptors:l,startTime:a});return Ye(d,u,c)},I0=(t,e,r)=>{let{command:n,escapedCommand:o,startTime:s,verboseInfo:i}=rr(t,e,r),a=R0(r),{file:u,commandArguments:c,options:l}=wr(t,e,a);M0(l);let d=Vc(l,i);return{file:u,commandArguments:c,command:n,escapedCommand:o,startTime:s,verboseInfo:i,options:l,fileDescriptors:d}},R0=t=>t.node&&!t.ipc?{...t,ipc:!1}:t,M0=({ipc:t,ipcInput:e,detached:r,cancelSignal:n})=>{e&&Vr("ipcInput"),t&&Vr("ipc: true"),r&&Vr("detached: true"),n&&Vr("cancelSignal")},Vr=t=>{throw new TypeError(`The "${t}" option cannot be used with synchronous methods.`)},P0=({file:t,commandArguments:e,options:r,command:n,escapedCommand:o,verboseInfo:s,fileDescriptors:i,startTime:a})=>{let u=L0({file:t,commandArguments:e,options:r,command:n,escapedCommand:o,fileDescriptors:i,startTime:a});if(u.failed)return u;let{resultError:c,exitCode:l,signal:d,timedOut:f,isMaxBuffer:m}=fl(u,r),{output:D,error:b=c}=al({fileDescriptors:i,syncResult:u,options:r,isMaxBuffer:m,verboseInfo:s}),F=D.map((v,R)=>fe(v,r,R)),E=fe(ul(D,r),r,"all");return j0({error:b,exitCode:l,signal:d,timedOut:f,isMaxBuffer:m,stdio:F,all:E,options:r,command:n,escapedCommand:o,startTime:a})},L0=({file:t,commandArguments:e,options:r,command:n,escapedCommand:o,fileDescriptors:s,startTime:i})=>{try{nl(s,r);let a=k0(r);return B0(...Fr(t,e,a))}catch(a){return qe({error:a,command:n,escapedCommand:o,fileDescriptors:s,options:r,startTime:i,isSync:!0})}},k0=({encoding:t,maxBuffer:e,...r})=>({...r,encoding:"buffer",maxBuffer:Br(e)}),j0=({error:t,exitCode:e,signal:r,timedOut:n,isMaxBuffer:o,stdio:s,all:i,options:a,command:u,escapedCommand:c,startTime:l})=>t===void 0?Ir({command:u,escapedCommand:c,stdio:s,all:i,ipcOutput:[],options:a,startTime:l}):ht({error:t,command:u,escapedCommand:c,timedOut:n,isCanceled:!1,isGracefullyCanceled:!1,isMaxBuffer:o,isForcefullyTerminated:!1,exitCode:e,signal:r,stdio:s,all:i,ipcOutput:[],options:a,startTime:l,isSync:!0});import{setMaxListeners as AC}from"events";import{spawn as _C}from"child_process";import bl from"process";import{once as Ro,on as N0}from"events";var pl=({anyProcess:t,channel:e,isSubprocess:r,ipc:n},{reference:o=!0,filter:s}={})=>(We({methodName:"getOneMessage",isSubprocess:r,ipc:n,isConnected:gr(t)}),U0({anyProcess:t,channel:e,isSubprocess:r,filter:s,reference:o})),U0=async({anyProcess:t,channel:e,isSubprocess:r,filter:n,reference:o})=>{mr(e,o);let s=Ce(t,e,r),i=new AbortController;try{return await Promise.race([W0(s,n,i),V0(s,r,i),G0(s,r,i)])}catch(a){throw Ve(t),a}finally{i.abort(),pr(e,o)}},W0=async(t,e,{signal:r})=>{if(e===void 0){let[n]=await Ro(t,"message",{signal:r});return n}for await(let[n]of N0(t,"message",{signal:r}))if(e(n))return n},V0=async(t,e,{signal:r})=>{await Ro(t,"disconnect",{signal:r}),eu(e)},G0=async(t,e,{signal:r})=>{let[n]=await Ro(t,"strict:error",{signal:r});throw lr(n,e)};import{once as hl,on as H0}from"events";var gl=({anyProcess:t,channel:e,isSubprocess:r,ipc:n},{reference:o=!0}={})=>Mo({anyProcess:t,channel:e,isSubprocess:r,ipc:n,shouldAwait:!r,reference:o}),Mo=({anyProcess:t,channel:e,isSubprocess:r,ipc:n,shouldAwait:o,reference:s})=>{We({methodName:"getEachMessage",isSubprocess:r,ipc:n,isConnected:gr(t)}),mr(e,s);let i=Ce(t,e,r),a=new AbortController,u={};return z0(t,i,a),q0({ipcEmitter:i,isSubprocess:r,controller:a,state:u}),Y0({anyProcess:t,channel:e,ipcEmitter:i,isSubprocess:r,shouldAwait:o,controller:a,state:u,reference:s})},z0=async(t,e,r)=>{try{await hl(e,"disconnect",{signal:r.signal}),r.abort()}catch{}},q0=async({ipcEmitter:t,isSubprocess:e,controller:r,state:n})=>{try{let[o]=await hl(t,"strict:error",{signal:r.signal});n.error=lr(o,e),r.abort()}catch{}},Y0=async function*({anyProcess:t,channel:e,ipcEmitter:r,isSubprocess:n,shouldAwait:o,controller:s,state:i,reference:a}){try{for await(let[u]of H0(r,"message",{signal:s.signal}))Dl(i),yield u}catch{Dl(i)}finally{s.abort(),pr(e,a),n||Ve(t),o&&await t}},Dl=({error:t})=>{if(t)throw t};var Cl=(t,{ipc:e})=>{Object.assign(t,yl(t,!1,e))},El=()=>{let t=bl,e=!0,r=bl.channel!==void 0;return{...yl(t,e,r),getCancelSignal:_u.bind(void 0,{anyProcess:t,channel:t.channel,isSubprocess:e,ipc:r})}},yl=(t,e,r)=>({sendMessage:yr.bind(void 0,{anyProcess:t,channel:t.channel,isSubprocess:e,ipc:r}),getOneMessage:pl.bind(void 0,{anyProcess:t,channel:t.channel,isSubprocess:e,ipc:r}),getEachMessage:gl.bind(void 0,{anyProcess:t,channel:t.channel,isSubprocess:e,ipc:r})});import{ChildProcess as K0}from"child_process";import{PassThrough as J0,Readable as X0,Writable as Z0,Duplex as Q0}from"stream";var xl=({error:t,command:e,escapedCommand:r,fileDescriptors:n,options:o,startTime:s,verboseInfo:i})=>{So(n);let a=new K0;eb(a,n),Object.assign(a,{readable:tb,writable:rb,duplex:nb});let u=qe({error:t,command:e,escapedCommand:r,fileDescriptors:n,options:o,startTime:s,isSync:!1}),c=ob(u,i,o);return{subprocess:a,promise:c}},eb=(t,e)=>{let r=bt(),n=bt(),o=bt(),s=Array.from({length:e.length-3},bt),i=bt(),a=[r,n,o,...s];Object.assign(t,{stdin:r,stdout:n,stderr:o,all:i,stdio:a})},bt=()=>{let t=new J0;return t.end(),t},tb=()=>new X0({read(){}}),rb=()=>new Z0({write(){}}),nb=()=>new Q0({read(){},write(){}}),ob=async(t,e,r)=>Ye(t,e,r);import{createReadStream as wl,createWriteStream as Fl}from"fs";import{Buffer as ib}from"buffer";import{Readable as Ct,Writable as sb,Duplex as ab}from"stream";var Al=(t,e)=>Lr(ub,t,e,!1),Et=({type:t,optionName:e})=>{throw new TypeError(`The \`${e}\` option cannot be ${Ee[t]}.`)},Sl={fileNumber:Et,generator:$o,asyncGenerator:$o,nodeStream:({value:t})=>({stream:t}),webTransform({value:{transform:t,writableObjectMode:e,readableObjectMode:r}}){let n=e||r;return{stream:ab.fromWeb(t,{objectMode:n})}},duplex:({value:{transform:t}})=>({stream:t}),native(){}},ub={input:{...Sl,fileUrl:({value:t})=>({stream:wl(t)}),filePath:({value:{file:t}})=>({stream:wl(t)}),webStream:({value:t})=>({stream:Ct.fromWeb(t)}),iterable:({value:t})=>({stream:Ct.from(t)}),asyncIterable:({value:t})=>({stream:Ct.from(t)}),string:({value:t})=>({stream:Ct.from(t)}),uint8Array:({value:t})=>({stream:Ct.from(ib.from(t))})},output:{...Sl,fileUrl:({value:t})=>({stream:Fl(t)}),filePath:({value:{file:t,append:e}})=>({stream:Fl(t,e?{flags:"a"}:{})}),webStream:({value:t})=>({stream:sb.fromWeb(t)}),iterable:Et,asyncIterable:Et,string:Et,uint8Array:Et}};import{on as cb,once as _l}from"events";import{PassThrough as lb,getDefaultHighWaterMark as db}from"stream";import{finished as vl}from"stream/promises";function Be(t){if(!Array.isArray(t))throw new TypeError(`Expected an array, got \`${typeof t}\`.`);for(let o of t)Lo(o);let e=t.some(({readableObjectMode:o})=>o),r=fb(t,e),n=new Po({objectMode:e,writableHighWaterMark:r,readableHighWaterMark:r});for(let o of t)n.add(o);return n}var fb=(t,e)=>{if(t.length===0)return db(e);let r=t.filter(({readableObjectMode:n})=>n===e).map(({readableHighWaterMark:n})=>n);return Math.max(...r)},Po=class extends lb{#t=new Set([]);#r=new Set([]);#e=new Set([]);#n;#i=Symbol("unpipe");#o=new WeakMap;add(e){if(Lo(e),this.#t.has(e))return;this.#t.add(e),this.#n??=mb(this,this.#t,this.#i);let r=hb({passThroughStream:this,stream:e,streams:this.#t,ended:this.#r,aborted:this.#e,onFinished:this.#n,unpipeEvent:this.#i});this.#o.set(e,r),e.pipe(this,{end:!1})}async remove(e){if(Lo(e),!this.#t.has(e))return!1;let r=this.#o.get(e);return r===void 0?!1:(this.#o.delete(e),e.unpipe(this),await r,!0)}},mb=async(t,e,r)=>{Gr(t,Ol);let n=new AbortController;try{await Promise.race([pb(t,n),Db(t,e,r,n)])}finally{n.abort(),Gr(t,-Ol)}},pb=async(t,{signal:e})=>{try{await vl(t,{signal:e,cleanup:!0})}catch(r){throw $l(t,r),r}},Db=async(t,e,r,{signal:n})=>{for await(let[o]of cb(t,"unpipe",{signal:n}))e.has(o)&&o.emit(r)},Lo=t=>{if(typeof t?.pipe!="function")throw new TypeError(`Expected a readable stream, got: \`${typeof t}\`.`)},hb=async({passThroughStream:t,stream:e,streams:r,ended:n,aborted:o,onFinished:s,unpipeEvent:i})=>{Gr(t,Tl);let a=new AbortController;try{await Promise.race([gb(s,e,a),bb({passThroughStream:t,stream:e,streams:r,ended:n,aborted:o,controller:a}),Cb({stream:e,streams:r,ended:n,aborted:o,unpipeEvent:i,controller:a})])}finally{a.abort(),Gr(t,-Tl)}r.size>0&&r.size===n.size+o.size&&(n.size===0&&o.size>0?ko(t):Eb(t))},gb=async(t,e,{signal:r})=>{try{await t,r.aborted||ko(e)}catch(n){r.aborted||$l(e,n)}},bb=async({passThroughStream:t,stream:e,streams:r,ended:n,aborted:o,controller:{signal:s}})=>{try{await vl(e,{signal:s,cleanup:!0,readable:!0,writable:!1}),r.has(e)&&n.add(e)}catch(i){if(s.aborted||!r.has(e))return;Bl(i)?o.add(e):Il(t,i)}},Cb=async({stream:t,streams:e,ended:r,aborted:n,unpipeEvent:o,controller:{signal:s}})=>{if(await _l(t,o,{signal:s}),!t.readable)return _l(s,"abort",{signal:s});e.delete(t),r.delete(t),n.delete(t)},Eb=t=>{t.writable&&t.end()},$l=(t,e)=>{Bl(e)?ko(t):Il(t,e)},Bl=t=>t?.code==="ERR_STREAM_PREMATURE_CLOSE",ko=t=>{(t.readable||t.writable)&&t.destroy()},Il=(t,e)=>{t.destroyed||(t.once("error",yb),t.destroy(e))},yb=()=>{},Gr=(t,e)=>{let r=t.getMaxListeners();r!==0&&r!==Number.POSITIVE_INFINITY&&t.setMaxListeners(r+e)},Ol=2,Tl=1;import{finished as Rl}from"stream/promises";var Je=(t,e)=>{t.pipe(e),xb(t,e),wb(t,e)},xb=async(t,e)=>{if(!(K(t)||K(e))){try{await Rl(t,{cleanup:!0,readable:!0,writable:!1})}catch{}jo(e)}},jo=t=>{t.writable&&t.end()},wb=async(t,e)=>{if(!(K(t)||K(e))){try{await Rl(e,{cleanup:!0,readable:!1,writable:!0})}catch{}No(t)}},No=t=>{t.readable&&t.destroy()};var Ml=(t,e,r)=>{let n=new Map;for(let[o,{stdioItems:s,direction:i}]of Object.entries(e)){for(let{stream:a}of s.filter(({type:u})=>G.has(u)))Fb(t,a,i,o);for(let{stream:a}of s.filter(({type:u})=>!G.has(u)))Ab({subprocess:t,stream:a,direction:i,fdNumber:o,pipeGroups:n,controller:r})}for(let[o,s]of n.entries()){let i=s.length===1?s[0]:Be(s);Je(i,o)}},Fb=(t,e,r,n)=>{r==="output"?Je(t.stdio[n],e):Je(e,t.stdio[n]);let o=Sb[n];o!==void 0&&(t[o]=e),t.stdio[n]=e},Sb=["stdin","stdout","stderr"],Ab=({subprocess:t,stream:e,direction:r,fdNumber:n,pipeGroups:o,controller:s})=>{if(e===void 0)return;_b(e,s);let[i,a]=r==="output"?[e,t.stdio[n]]:[t.stdio[n],e],u=o.get(i)??[];o.set(i,[...u,a])},_b=(t,{signal:e})=>{K(t)&&Oe(t,Ob,e)},Ob=2;import{addAbortListener as $b}from"events";var Ie=[];Ie.push("SIGHUP","SIGINT","SIGTERM");process.platform!=="win32"&&Ie.push("SIGALRM","SIGABRT","SIGVTALRM","SIGXCPU","SIGXFSZ","SIGUSR2","SIGTRAP","SIGSYS","SIGQUIT","SIGIOT");process.platform==="linux"&&Ie.push("SIGIO","SIGPOLL","SIGPWR","SIGSTKFLT");var Hr=t=>!!t&&typeof t=="object"&&typeof t.removeListener=="function"&&typeof t.emit=="function"&&typeof t.reallyExit=="function"&&typeof t.listeners=="function"&&typeof t.kill=="function"&&typeof t.pid=="number"&&typeof t.on=="function",Uo=Symbol.for("signal-exit emitter"),Wo=globalThis,Tb=Object.defineProperty.bind(Object),Vo=class{emitted={afterExit:!1,exit:!1};listeners={afterExit:[],exit:[]};count=0;id=Math.random();constructor(){if(Wo[Uo])return Wo[Uo];Tb(Wo,Uo,{value:this,writable:!1,enumerable:!1,configurable:!1})}on(e,r){this.listeners[e].push(r)}removeListener(e,r){let n=this.listeners[e],o=n.indexOf(r);o!==-1&&(o===0&&n.length===1?n.length=0:n.splice(o,1))}emit(e,r,n){if(this.emitted[e])return!1;this.emitted[e]=!0;let o=!1;for(let s of this.listeners[e])o=s(r,n)===!0||o;return e==="exit"&&(o=this.emit("afterExit",r,n)||o),o}},zr=class{},vb=t=>({onExit(e,r){return t.onExit(e,r)},load(){return t.load()},unload(){return t.unload()}}),Go=class extends zr{onExit(){return()=>{}}load(){}unload(){}},Ho=class extends zr{#t=zo.platform==="win32"?"SIGINT":"SIGHUP";#r=new Vo;#e;#n;#i;#o={};#s=!1;constructor(e){super(),this.#e=e,this.#o={};for(let r of Ie)this.#o[r]=()=>{let n=this.#e.listeners(r),{count:o}=this.#r,s=e;if(typeof s.__signal_exit_emitter__=="object"&&typeof s.__signal_exit_emitter__.count=="number"&&(o+=s.__signal_exit_emitter__.count),n.length===o){this.unload();let i=this.#r.emit("exit",null,r),a=r==="SIGHUP"?this.#t:r;i||e.kill(e.pid,a)}};this.#i=e.reallyExit,this.#n=e.emit}onExit(e,r){if(!Hr(this.#e))return()=>{};this.#s===!1&&this.load();let n=r?.alwaysLast?"afterExit":"exit";return this.#r.on(n,e),()=>{this.#r.removeListener(n,e),this.#r.listeners.exit.length===0&&this.#r.listeners.afterExit.length===0&&this.unload()}}load(){if(!this.#s){this.#s=!0,this.#r.count+=1;for(let e of Ie)try{let r=this.#o[e];r&&this.#e.on(e,r)}catch{}this.#e.emit=(e,...r)=>this.#u(e,...r),this.#e.reallyExit=e=>this.#a(e)}}unload(){this.#s&&(this.#s=!1,Ie.forEach(e=>{let r=this.#o[e];if(!r)throw new Error("Listener not defined for signal: "+e);try{this.#e.removeListener(e,r)}catch{}}),this.#e.emit=this.#n,this.#e.reallyExit=this.#i,this.#r.count-=1)}#a(e){return Hr(this.#e)?(this.#e.exitCode=e||0,this.#r.emit("exit",this.#e.exitCode,null),this.#i.call(this.#e,this.#e.exitCode)):0}#u(e,...r){let n=this.#n;if(e==="exit"&&Hr(this.#e)){typeof r[0]=="number"&&(this.#e.exitCode=r[0]);let o=n.call(this.#e,e,...r);return this.#r.emit("exit",this.#e.exitCode,null),o}else return n.call(this.#e,e,...r)}},zo=globalThis.process,{onExit:Pl,load:LA,unload:kA}=vb(Hr(zo)?new Ho(zo):new Go);var Ll=(t,{cleanup:e,detached:r},{signal:n})=>{if(!e||r)return;let o=Pl(()=>{t.kill()});$b(n,()=>{o()})};var jl=({source:t,sourcePromise:e,boundOptions:r,createNested:n},...o)=>{let s=tr(),{destination:i,destinationStream:a,destinationError:u,from:c,unpipeSignal:l}=Bb(r,n,o),{sourceStream:d,sourceError:f}=Rb(t,c),{options:m,fileDescriptors:D}=ne.get(t);return{sourcePromise:e,sourceStream:d,sourceOptions:m,sourceError:f,destination:i,destinationStream:a,destinationError:u,unpipeSignal:l,fileDescriptors:D,startTime:s}},Bb=(t,e,r)=>{try{let{destination:n,pipeOptions:{from:o,to:s,unpipeSignal:i}={}}=Ib(t,e,...r),a=fr(n,s);return{destination:n,destinationStream:a,from:o,unpipeSignal:i}}catch(n){return{destinationError:n}}},Ib=(t,e,r,...n)=>{if(Array.isArray(r))return{destination:e(kl,t)(r,...n),pipeOptions:t};if(typeof r=="string"||r instanceof URL||Rn(r)){if(Object.keys(t).length>0)throw new TypeError('Please use .pipe("file", ..., options) or .pipe(execa("file", ..., options)) instead of .pipe(options)("file", ...).');let[o,s,i]=Ht(r,...n);return{destination:e(kl)(o,s,i),pipeOptions:i}}if(ne.has(r)){if(Object.keys(t).length>0)throw new TypeError("Please use .pipe(options)`command` or .pipe($(options)`command`) instead of .pipe(options)($`command`).");return{destination:r,pipeOptions:n[0]}}throw new TypeError(`The first argument must be a template string, an options object, or an Execa subprocess: ${r}`)},kl=({options:t})=>({options:{...t,stdin:"pipe",piped:!0}}),Rb=(t,e)=>{try{return{sourceStream:Ge(t,e)}}catch(r){return{sourceError:r}}};var Ul=({sourceStream:t,sourceError:e,destinationStream:r,destinationError:n,fileDescriptors:o,sourceOptions:s,startTime:i})=>{let a=Mb({sourceStream:t,sourceError:e,destinationStream:r,destinationError:n});if(a!==void 0)throw qo({error:a,fileDescriptors:o,sourceOptions:s,startTime:i})},Mb=({sourceStream:t,sourceError:e,destinationStream:r,destinationError:n})=>{if(e!==void 0&&n!==void 0)return n;if(n!==void 0)return No(t),n;if(e!==void 0)return jo(r),e},qo=({error:t,fileDescriptors:e,sourceOptions:r,startTime:n})=>qe({error:t,command:Nl,escapedCommand:Nl,fileDescriptors:e,options:r,startTime:n,isSync:!1}),Nl="source.pipe(destination)";var Wl=async t=>{let[{status:e,reason:r,value:n=r},{status:o,reason:s,value:i=s}]=await t;if(i.pipedFrom.includes(n)||i.pipedFrom.push(n),o==="rejected")throw i;if(e==="rejected")throw n;return i};import{finished as Pb}from"stream/promises";var Vl=(t,e,r)=>{let n=qr.has(e)?kb(t,e):Lb(t,e);return Oe(t,Nb,r.signal),Oe(e,Ub,r.signal),jb(e),n},Lb=(t,e)=>{let r=Be([t]);return Je(r,e),qr.set(e,r),r},kb=(t,e)=>{let r=qr.get(e);return r.add(t),r},jb=async t=>{try{await Pb(t,{cleanup:!0,readable:!1,writable:!0})}catch{}qr.delete(t)},qr=new WeakMap,Nb=2,Ub=1;import{aborted as Wb}from"util";var Gl=(t,e)=>t===void 0?[]:[Vb(t,e)],Vb=async(t,{sourceStream:e,mergedStream:r,fileDescriptors:n,sourceOptions:o,startTime:s})=>{await Wb(t,e),await r.remove(e);let i=new Error("Pipe canceled by `unpipeSignal` option.");throw qo({error:i,fileDescriptors:n,sourceOptions:o,startTime:s})};var Yr=(t,...e)=>{if(T(e[0]))return Yr.bind(void 0,{...t,boundOptions:{...t.boundOptions,...e[0]}});let{destination:r,...n}=jl(t,...e),o=Gb({...n,destination:r});return o.pipe=Yr.bind(void 0,{...t,source:r,sourcePromise:o,boundOptions:{}}),o},Gb=async({sourcePromise:t,sourceStream:e,sourceOptions:r,sourceError:n,destination:o,destinationStream:s,destinationError:i,unpipeSignal:a,fileDescriptors:u,startTime:c})=>{let l=Hb(t,o);Ul({sourceStream:e,sourceError:n,destinationStream:s,destinationError:i,fileDescriptors:u,sourceOptions:r,startTime:c});let d=new AbortController;try{let f=Vl(e,s,d);return await Promise.race([Wl(l),...Gl(a,{sourceStream:e,mergedStream:f,sourceOptions:r,fileDescriptors:u,startTime:c})])}finally{d.abort()}},Hb=(t,e)=>Promise.allSettled([t,e]);import{setImmediate as Zb}from"timers/promises";import{on as zb}from"events";import{getDefaultHighWaterMark as qb}from"stream";var Kr=({subprocessStdout:t,subprocess:e,binary:r,shouldEncode:n,encoding:o,preserveNewlines:s})=>{let i=new AbortController;return Yb(e,i),zl({stream:t,controller:i,binary:r,shouldEncode:!t.readableObjectMode&&n,encoding:o,shouldSplit:!t.readableObjectMode,preserveNewlines:s})},Yb=async(t,e)=>{try{await t}catch{}finally{e.abort()}},Yo=({stream:t,onStreamEnd:e,lines:r,encoding:n,stripFinalNewline:o,allMixed:s})=>{let i=new AbortController;Kb(e,i,t);let a=t.readableObjectMode&&!s;return zl({stream:t,controller:i,binary:n==="buffer",shouldEncode:!a,encoding:n,shouldSplit:!a&&r,preserveNewlines:!o})},Kb=async(t,e,r)=>{try{await t}catch{r.destroy()}finally{e.abort()}},zl=({stream:t,controller:e,binary:r,shouldEncode:n,encoding:o,shouldSplit:s,preserveNewlines:i})=>{let a=zb(t,"data",{signal:e.signal,highWaterMark:Hl,highWatermark:Hl});return Jb({onStdoutChunk:a,controller:e,binary:r,shouldEncode:n,encoding:o,shouldSplit:s,preserveNewlines:i})},Ko=qb(!0),Hl=Ko,Jb=async function*({onStdoutChunk:t,controller:e,binary:r,shouldEncode:n,encoding:o,shouldSplit:s,preserveNewlines:i}){let a=Xb({binary:r,shouldEncode:n,encoding:o,shouldSplit:s,preserveNewlines:i});try{for await(let[u]of t)yield*$e(u,a,0)}catch(u){if(!e.signal.aborted)throw u}finally{yield*gt(a)}},Xb=({binary:t,shouldEncode:e,encoding:r,shouldSplit:n,preserveNewlines:o})=>[jr(t,r,!e),kr(t,o,!n,{})].filter(Boolean);var ql=async({stream:t,onStreamEnd:e,fdNumber:r,encoding:n,buffer:o,maxBuffer:s,lines:i,allMixed:a,stripFinalNewline:u,verboseInfo:c,streamInfo:l})=>{let d=Qb({stream:t,onStreamEnd:e,fdNumber:r,encoding:n,allMixed:a,verboseInfo:c,streamInfo:l});if(!o){await Promise.all([eC(t),d]);return}let f=Ao(u,r),m=Yo({stream:t,onStreamEnd:e,lines:i,encoding:n,stripFinalNewline:f,allMixed:a}),[D]=await Promise.all([tC({stream:t,iterable:m,fdNumber:r,encoding:n,maxBuffer:s,lines:i}),d]);return D},Qb=async({stream:t,onStreamEnd:e,fdNumber:r,encoding:n,allMixed:o,verboseInfo:s,streamInfo:{fileDescriptors:i}})=>{if(!Wr({stdioItems:i[r]?.stdioItems,encoding:n,verboseInfo:s,fdNumber:r}))return;let a=Yo({stream:t,onStreamEnd:e,lines:!0,encoding:n,stripFinalNewline:!0,allMixed:o});await ol(a,t,r,s)},eC=async t=>{await Zb(),t.readableFlowing===null&&t.resume()},tC=async({stream:t,stream:{readableObjectMode:e},iterable:r,fdNumber:n,encoding:o,maxBuffer:s,lines:i})=>{try{return e||i?await Or(r,{maxBuffer:s}):o==="buffer"?new Uint8Array(await Tr(r,{maxBuffer:s})):await $r(r,{maxBuffer:s})}catch(a){return Yl(oc({error:a,stream:t,readableObjectMode:e,lines:i,encoding:o,fdNumber:n}))}},Jo=async t=>{try{return await t}catch(e){return Yl(e)}},Yl=({bufferedData:t})=>Es(t)?new Uint8Array(t):t;import{finished as rC}from"stream/promises";var yt=async(t,e,r,{isSameDirection:n,stopOnExit:o=!1}={})=>{let s=nC(t,r),i=new AbortController;try{await Promise.race([...o?[r.exitPromise]:[],rC(t,{cleanup:!0,signal:i.signal})])}catch(a){s.stdinCleanedUp||sC(a,e,r,n)}finally{i.abort()}},nC=(t,{originalStreams:[e],subprocess:r})=>{let n={stdinCleanedUp:!1};return t===e&&oC(t,r,n),n},oC=(t,e,r)=>{let{_destroy:n}=t;t._destroy=(...o)=>{iC(e,r),n.call(t,...o)}},iC=({exitCode:t,signalCode:e},r)=>{(t!==null||e!==null)&&(r.stdinCleanedUp=!0)},sC=(t,e,r,n)=>{if(!aC(t,e,r,n))throw t},aC=(t,e,r,n=!0)=>r.propagating?Kl(t)||Jr(t):(r.propagating=!0,Xo(r,e)===n?Kl(t):Jr(t)),Xo=({fileDescriptors:t},e)=>e!=="all"&&t[e].direction==="input",Jr=t=>t?.code==="ERR_STREAM_PREMATURE_CLOSE",Kl=t=>t?.code==="EPIPE";var Jl=({subprocess:t,encoding:e,buffer:r,maxBuffer:n,lines:o,stripFinalNewline:s,verboseInfo:i,streamInfo:a})=>t.stdio.map((u,c)=>Zo({stream:u,fdNumber:c,encoding:e,buffer:r[c],maxBuffer:n[c],lines:o[c],allMixed:!1,stripFinalNewline:s,verboseInfo:i,streamInfo:a})),Zo=async({stream:t,fdNumber:e,encoding:r,buffer:n,maxBuffer:o,lines:s,allMixed:i,stripFinalNewline:a,verboseInfo:u,streamInfo:c})=>{if(!t)return;let l=yt(t,e,c);if(Xo(c,e)){await l;return}let[d]=await Promise.all([ql({stream:t,onStreamEnd:l,fdNumber:e,encoding:r,buffer:n,maxBuffer:o,lines:s,allMixed:i,stripFinalNewline:a,verboseInfo:u,streamInfo:c}),l]);return d};var Xl=({stdout:t,stderr:e},{all:r})=>r&&(t||e)?Be([t,e].filter(Boolean)):void 0,Zl=({subprocess:t,encoding:e,buffer:r,maxBuffer:n,lines:o,stripFinalNewline:s,verboseInfo:i,streamInfo:a})=>Zo({...uC(t,r),fdNumber:"all",encoding:e,maxBuffer:n[1]+n[2],lines:o[1]||o[2],allMixed:cC(t),stripFinalNewline:s,verboseInfo:i,streamInfo:a}),uC=({stdout:t,stderr:e,all:r},[,n,o])=>{let s=n||o;return s?n?o?{stream:r,buffer:s}:{stream:t,buffer:s}:{stream:e,buffer:s}:{stream:r,buffer:s}},cC=({all:t,stdout:e,stderr:r})=>t&&e&&r&&e.readableObjectMode!==r.readableObjectMode;import{once as lC}from"events";var Ql=t=>je(t,"ipc"),ed=(t,e)=>{let r=er(t);te({type:"ipc",verboseMessage:r,fdNumber:"ipc",verboseInfo:e})};var td=async({subprocess:t,buffer:e,maxBuffer:r,ipc:n,ipcOutput:o,verboseInfo:s})=>{if(!n)return o;let i=Ql(s),a=le(e,"ipc"),u=le(r,"ipc");for await(let c of Mo({anyProcess:t,channel:t.channel,isSubprocess:!1,ipc:n,shouldAwait:!1,reference:!0}))a&&(ic(t,o,u),o.push(c)),i&&ed(c,s);return o},rd=async(t,e)=>(await Promise.allSettled([t]),e);var nd=async({subprocess:t,options:{encoding:e,buffer:r,maxBuffer:n,lines:o,timeoutDuration:s,cancelSignal:i,gracefulCancel:a,forceKillAfterDelay:u,stripFinalNewline:c,ipc:l,ipcInput:d},context:f,verboseInfo:m,fileDescriptors:D,originalStreams:b,onInternalError:F,controller:E})=>{let v=cl(t,f),R={originalStreams:b,fileDescriptors:D,subprocess:t,exitPromise:v,propagating:!1},y=Jl({subprocess:t,encoding:e,buffer:r,maxBuffer:n,lines:o,stripFinalNewline:c,verboseInfo:m,streamInfo:R}),A=Zl({subprocess:t,encoding:e,buffer:r,maxBuffer:n,lines:o,stripFinalNewline:c,verboseInfo:m,streamInfo:R}),B=[],k=td({subprocess:t,buffer:r,maxBuffer:n,ipc:l,ipcOutput:B,verboseInfo:m}),pe=dC(b,t,R),De=fC(D,R);try{return await Promise.race([Promise.all([{},dl(v),Promise.all(y),A,k,Lu(t,d),...pe,...De]),F,mC(t,E),...Bu(t,s,f,E),...Qa({subprocess:t,cancelSignal:i,gracefulCancel:a,context:f,controller:E}),...vu({subprocess:t,cancelSignal:i,gracefulCancel:a,forceKillAfterDelay:u,context:f,controller:E})])}catch(rn){return f.terminationReason??="other",Promise.all([{error:rn},v,Promise.all(y.map(rt=>Jo(rt))),Jo(A),rd(k,B),Promise.allSettled(pe),Promise.allSettled(De)])}},dC=(t,e,r)=>t.map((n,o)=>n===e.stdio[o]?void 0:yt(n,o,r)),fC=(t,e)=>t.flatMap(({stdioItems:r},n)=>r.filter(({value:o,stream:s=o})=>Z(s,{checkOpen:!1})&&!K(s)).map(({type:o,value:s,stream:i=s})=>yt(i,n,e,{isSameDirection:G.has(o),stopOnExit:o==="native"}))),mC=async(t,{signal:e})=>{let[r]=await lC(t,"error",{signal:e});throw r};var od=()=>({readableDestroy:new WeakMap,writableFinal:new WeakMap,writableDestroy:new WeakMap}),xt=(t,e,r)=>{let n=t[r];n.has(e)||n.set(e,[]);let o=n.get(e),s=re();return o.push(s),{resolve:s.resolve.bind(s),promises:o}},Xe=async({resolve:t,promises:e},r)=>{t();let[n]=await Promise.race([Promise.allSettled([!0,r]),Promise.all([!1,...e])]);return!n};import{Readable as pC}from"stream";import{callbackify as DC}from"util";import{finished as id}from"stream/promises";var Qo=async t=>{if(t!==void 0)try{await ei(t)}catch{}},sd=async t=>{if(t!==void 0)try{await ti(t)}catch{}},ei=async t=>{await id(t,{cleanup:!0,readable:!1,writable:!0})},ti=async t=>{await id(t,{cleanup:!0,readable:!0,writable:!1})},Xr=async(t,e)=>{if(await t,e)throw e},Zr=(t,e,r)=>{r&&!Jr(r)?t.destroy(r):e&&t.destroy()};var ad=({subprocess:t,concurrentStreams:e,encoding:r},{from:n,binary:o=!0,preserveNewlines:s=!0}={})=>{let i=o||U.has(r),{subprocessStdout:a,waitReadableDestroy:u}=ri(t,n,e),{readableEncoding:c,readableObjectMode:l,readableHighWaterMark:d}=ni(a,i),{read:f,onStdoutDataDone:m}=oi({subprocessStdout:a,subprocess:t,binary:i,encoding:r,preserveNewlines:s}),D=new pC({read:f,destroy:DC(si.bind(void 0,{subprocessStdout:a,subprocess:t,waitReadableDestroy:u})),highWaterMark:d,objectMode:l,encoding:c});return ii({subprocessStdout:a,onStdoutDataDone:m,readable:D,subprocess:t}),D},ri=(t,e,r)=>{let n=Ge(t,e),o=xt(r,n,"readableDestroy");return{subprocessStdout:n,waitReadableDestroy:o}},ni=({readableEncoding:t,readableObjectMode:e,readableHighWaterMark:r},n)=>n?{readableEncoding:t,readableObjectMode:e,readableHighWaterMark:r}:{readableEncoding:t,readableObjectMode:!0,readableHighWaterMark:Ko},oi=({subprocessStdout:t,subprocess:e,binary:r,encoding:n,preserveNewlines:o})=>{let s=re(),i=Kr({subprocessStdout:t,subprocess:e,binary:r,shouldEncode:!r,encoding:n,preserveNewlines:o});return{read(){hC(this,i,s)},onStdoutDataDone:s}},hC=async(t,e,r)=>{try{let{value:n,done:o}=await e.next();o?r.resolve():t.push(n)}catch{}},ii=async({subprocessStdout:t,onStdoutDataDone:e,readable:r,subprocess:n,subprocessStdin:o})=>{try{await ti(t),await n,await Qo(o),await e,r.readable&&r.push(null)}catch(s){await Qo(o),ud(r,s)}},si=async({subprocessStdout:t,subprocess:e,waitReadableDestroy:r},n)=>{await Xe(r,e)&&(ud(t,n),await Xr(e,n))},ud=(t,e)=>{Zr(t,t.readable,e)};import{Writable as gC}from"stream";import{callbackify as cd}from"util";var ld=({subprocess:t,concurrentStreams:e},{to:r}={})=>{let{subprocessStdin:n,waitWritableFinal:o,waitWritableDestroy:s}=ai(t,r,e),i=new gC({...ui(n,t,o),destroy:cd(li.bind(void 0,{subprocessStdin:n,subprocess:t,waitWritableFinal:o,waitWritableDestroy:s})),highWaterMark:n.writableHighWaterMark,objectMode:n.writableObjectMode});return ci(n,i),i},ai=(t,e,r)=>{let n=fr(t,e),o=xt(r,n,"writableFinal"),s=xt(r,n,"writableDestroy");return{subprocessStdin:n,waitWritableFinal:o,waitWritableDestroy:s}},ui=(t,e,r)=>({write:bC.bind(void 0,t),final:cd(CC.bind(void 0,t,e,r))}),bC=(t,e,r,n)=>{t.write(e,r)?n():t.once("drain",n)},CC=async(t,e,r)=>{await Xe(r,e)&&(t.writable&&t.end(),await e)},ci=async(t,e,r)=>{try{await ei(t),e.writable&&e.end()}catch(n){await sd(r),dd(e,n)}},li=async({subprocessStdin:t,subprocess:e,waitWritableFinal:r,waitWritableDestroy:n},o)=>{await Xe(r,e),await Xe(n,e)&&(dd(t,o),await Xr(e,o))},dd=(t,e)=>{Zr(t,t.writable,e)};import{Duplex as EC}from"stream";import{callbackify as yC}from"util";var fd=({subprocess:t,concurrentStreams:e,encoding:r},{from:n,to:o,binary:s=!0,preserveNewlines:i=!0}={})=>{let a=s||U.has(r),{subprocessStdout:u,waitReadableDestroy:c}=ri(t,n,e),{subprocessStdin:l,waitWritableFinal:d,waitWritableDestroy:f}=ai(t,o,e),{readableEncoding:m,readableObjectMode:D,readableHighWaterMark:b}=ni(u,a),{read:F,onStdoutDataDone:E}=oi({subprocessStdout:u,subprocess:t,binary:a,encoding:r,preserveNewlines:i}),v=new EC({read:F,...ui(l,t,d),destroy:yC(xC.bind(void 0,{subprocessStdout:u,subprocessStdin:l,subprocess:t,waitReadableDestroy:c,waitWritableFinal:d,waitWritableDestroy:f})),readableHighWaterMark:b,writableHighWaterMark:l.writableHighWaterMark,readableObjectMode:D,writableObjectMode:l.writableObjectMode,encoding:m});return ii({subprocessStdout:u,onStdoutDataDone:E,readable:v,subprocess:t,subprocessStdin:l}),ci(l,v,u),v},xC=async({subprocessStdout:t,subprocessStdin:e,subprocess:r,waitReadableDestroy:n,waitWritableFinal:o,waitWritableDestroy:s},i)=>{await Promise.all([si({subprocessStdout:t,subprocess:r,waitReadableDestroy:n},i),li({subprocessStdin:e,subprocess:r,waitWritableFinal:o,waitWritableDestroy:s},i)])};var di=(t,e,{from:r,binary:n=!1,preserveNewlines:o=!1}={})=>{let s=n||U.has(e),i=Ge(t,r),a=Kr({subprocessStdout:i,subprocess:t,binary:s,shouldEncode:!0,encoding:e,preserveNewlines:o});return wC(a,i,t)},wC=async function*(t,e,r){try{yield*t}finally{e.readable&&e.destroy(),await r}};var md=(t,{encoding:e})=>{let r=od();t.readable=ad.bind(void 0,{subprocess:t,concurrentStreams:r,encoding:e}),t.writable=ld.bind(void 0,{subprocess:t,concurrentStreams:r}),t.duplex=fd.bind(void 0,{subprocess:t,concurrentStreams:r,encoding:e}),t.iterable=di.bind(void 0,t,e),t[Symbol.asyncIterator]=di.bind(void 0,t,e,{})};var pd=(t,e)=>{for(let[r,n]of SC){let o=n.value.bind(e);Reflect.defineProperty(t,r,{...n,value:o})}},FC=(async()=>{})().constructor.prototype,SC=["then","catch","finally"].map(t=>[t,Reflect.getOwnPropertyDescriptor(FC,t)]);var Dd=(t,e,r,n)=>{let{file:o,commandArguments:s,command:i,escapedCommand:a,startTime:u,verboseInfo:c,options:l,fileDescriptors:d}=OC(t,e,r),{subprocess:f,promise:m}=vC({file:o,commandArguments:s,options:l,startTime:u,verboseInfo:c,command:i,escapedCommand:a,fileDescriptors:d});return f.pipe=Yr.bind(void 0,{source:f,sourcePromise:m,boundOptions:{},createNested:n}),pd(f,m),ne.set(f,{options:l,fileDescriptors:d}),f},OC=(t,e,r)=>{let{command:n,escapedCommand:o,startTime:s,verboseInfo:i}=rr(t,e,r),{file:a,commandArguments:u,options:c}=wr(t,e,r),l=TC(c),d=Al(l,i);return{file:a,commandArguments:u,command:n,escapedCommand:o,startTime:s,verboseInfo:i,options:l,fileDescriptors:d}},TC=({timeout:t,signal:e,...r})=>{if(e!==void 0)throw new TypeError('The "signal" option has been renamed to "cancelSignal" instead.');return{...r,timeoutDuration:t}},vC=({file:t,commandArguments:e,options:r,startTime:n,verboseInfo:o,command:s,escapedCommand:i,fileDescriptors:a})=>{let u;try{u=_C(...Fr(t,e,r))}catch(D){return xl({error:D,command:s,escapedCommand:i,fileDescriptors:a,options:r,startTime:n,verboseInfo:o})}let c=new AbortController;AC(Number.POSITIVE_INFINITY,c.signal);let l=[...u.stdio];Ml(u,a,c),Ll(u,r,c);let d={},f=re();u.kill=Xa.bind(void 0,{kill:u.kill.bind(u),options:r,onInternalError:f,context:d,controller:c}),u.all=Xl(u,r),md(u,r),Cl(u,r);let m=$C({subprocess:u,options:r,startTime:n,verboseInfo:o,fileDescriptors:a,originalStreams:l,command:s,escapedCommand:i,context:d,onInternalError:f,controller:c});return{subprocess:u,promise:m}},$C=async({subprocess:t,options:e,startTime:r,verboseInfo:n,fileDescriptors:o,originalStreams:s,command:i,escapedCommand:a,context:u,onInternalError:c,controller:l})=>{let[d,[f,m],D,b,F]=await nd({subprocess:t,options:e,context:u,verboseInfo:n,fileDescriptors:o,originalStreams:s,onInternalError:c,controller:l});l.abort(),c.resolve();let E=D.map((y,A)=>fe(y,e,A)),v=fe(b,e,"all"),R=BC({errorInfo:d,exitCode:f,signal:m,stdio:E,all:v,ipcOutput:F,context:u,options:e,command:i,escapedCommand:a,startTime:r});return Ye(R,n,e)},BC=({errorInfo:t,exitCode:e,signal:r,stdio:n,all:o,ipcOutput:s,context:i,options:a,command:u,escapedCommand:c,startTime:l})=>"error"in t?ht({error:t.error,command:u,escapedCommand:c,timedOut:i.terminationReason==="timeout",isCanceled:i.terminationReason==="cancel"||i.terminationReason==="gracefulCancel",isGracefullyCanceled:i.terminationReason==="gracefulCancel",isMaxBuffer:t.error instanceof oe,isForcefullyTerminated:i.isForcefullyTerminated,exitCode:e,signal:r,stdio:n,all:o,ipcOutput:s,options:a,startTime:l,isSync:!1}):Ir({command:u,escapedCommand:c,stdio:n,all:o,ipcOutput:s,options:a,startTime:l});var Qr=(t,e)=>{let r=Object.fromEntries(Object.entries(e).map(([n,o])=>[n,IC(n,t[n],o)]));return{...t,...r}},IC=(t,e,r)=>RC.has(t)&&T(e)&&T(r)?{...e,...r}:r,RC=new Set(["env",...Nn]);var ye=(t,e,r,n)=>{let o=(i,a,u)=>ye(i,a,r,u),s=(...i)=>MC({mapArguments:t,deepOptions:r,boundOptions:e,setBoundExeca:n,createNested:o},...i);return n!==void 0&&n(s,o,e),s},MC=({mapArguments:t,deepOptions:e={},boundOptions:r={},setBoundExeca:n,createNested:o},s,...i)=>{if(T(s))return o(t,Qr(r,s),n);let{file:a,commandArguments:u,options:c,isSync:l}=PC({mapArguments:t,firstArgument:s,nextArguments:i,deepOptions:e,boundOptions:r});return l?ml(a,u,c):Dd(a,u,c,o)},PC=({mapArguments:t,firstArgument:e,nextArguments:r,deepOptions:n,boundOptions:o})=>{let s=As(e)?_s(e,r):[e,...r],[i,a,u]=Ht(...s),c=Qr(Qr(n,o),u),{file:l=i,commandArguments:d=a,options:f=c,isSync:m=!1}=t({file:i,commandArguments:a,options:c});return{file:l,commandArguments:d,options:f,isSync:m}};var hd=({file:t,commandArguments:e})=>bd(t,e),gd=({file:t,commandArguments:e})=>({...bd(t,e),isSync:!0}),bd=(t,e)=>{if(e.length>0)throw new TypeError(`The command and its arguments must be passed as a single string: ${t} ${e}.`);let[r,...n]=LC(t);return{file:r,commandArguments:n}},LC=t=>{if(typeof t!="string")throw new TypeError(`The command must be a string: ${String(t)}.`);let e=t.trim();if(e==="")return[];let r=[];for(let n of e.split(kC)){let o=r.at(-1);o&&o.endsWith("\\")?r[r.length-1]=`${o.slice(0,-1)} ${n}`:r.push(n)}return r},kC=/ +/g;var Cd=(t,e,r)=>{t.sync=e(jC,r),t.s=t.sync},Ed=({options:t})=>yd(t),jC=({options:t})=>({...yd(t),isSync:!0}),yd=t=>({options:{...NC(t),...t}}),NC=({input:t,inputFile:e,stdio:r})=>t===void 0&&e===void 0&&r===void 0?{stdin:"inherit"}:{},xd={preferLocal:!0};var wt=ye(()=>({})),_O=ye(()=>({isSync:!0})),wd=ye(hd),OO=ye(gd),TO=ye(Ru),vO=ye(Ed,{},xd,Cd),{sendMessage:$O,getOneMessage:BO,getEachMessage:IO,getCancelSignal:RO}=El();async function Q(t,e,r){return wt("docker",["compose",...t],{cwd:e,...r})}async function Ze(t,e){let{stdout:r}=await wt("docker",["compose","exec","-T","web","bin/rails","runner",t],{cwd:e});return r.split(`
`).filter(n=>!n.startsWith("[")).join(`
`).trim()}async function Fd(t){await wt("docker",["compose","exec","web","bin/rails","c"],{cwd:t,stdio:"inherit"})}async function en(t,e){await wt("docker",["compose","logs","-f",t],{cwd:e,stdio:"inherit"})}function Sd(t){t.command("dev").description("Start services and stream logs").action(async()=>{let e=_(),r=M();r.start("Starting Docker services..."),await Q(["up","-d"],e.projectDir),r.stop("Docker services started."),Gt(["",Ft.default.bold("Admin Dashboard"),`  ${Ft.default.cyan(`http://localhost:${e.port}/admin`)}`,`  Email:    ${Ds}`,`  Password: ${hs}`,"",Ft.default.bold("Store API"),`  ${Ft.default.cyan(`http://localhost:${e.port}/api/v3/store`)}`,""].join(`
`),"Spree Commerce"),L.info(`Streaming logs (Ctrl+C to stop)...
`),await en("web",e.projectDir)})}function Ad(t){t.command("stop").description("Stop services").action(async()=>{let e=_(),r=M();r.start("Stopping services..."),await Q(["stop"],e.projectDir),r.stop("Services stopped.")})}function _d(t){t.command("update").description("Pull latest image and recreate containers").action(async()=>{let e=_(),r=M();r.start("Pulling latest images..."),await Q(["pull"],e.projectDir),r.stop("Images pulled."),r.start("Recreating containers..."),await Q(["up","-d"],e.projectDir),r.stop("Containers recreated."),L.success("Update complete! Migrations will run automatically on startup."),L.info("Run `spree logs` to follow the startup progress.")})}function Od(t){t.command("logs").description("Stream service logs").argument("[service]","service name (web or worker)","web").action(async e=>{let r=_();await en(e,r.projectDir)})}function Td(t){t.command("console").description("Open Rails console").action(async()=>{let e=_();await Fd(e.projectDir)})}var vd=q(Se(),1);function $d(t){t.command("user").description("Manage admin users").command("create").description("Create an admin user").option("--email <email>","admin email").option("--password <password>","admin password").action(async r=>{let n=_(),o=r.email,s=r.password;if(!o){let l=await Vt({message:"Admin email:",placeholder:"admin@example.com",validate(d){if(!d)return"Email is required";if(!d.includes("@"))return"Invalid email"}});ge(l)&&(Pe("Cancelled."),process.exit(0)),o=l}if(!s){let l=await ms({message:"Admin password:",validate(d){if(!d||d.length<6)return"Password must be at least 6 characters"}});ge(l)&&(Pe("Cancelled."),process.exit(0)),s=l}let i=M();i.start("Creating admin user...");let a=o.replace(/'/g,"\\'"),u=s.replace(/'/g,"\\'"),c=["admin = Spree.admin_user_class.create!(",`email: '${a}',`,`password: '${u}',`,`password_confirmation: '${u}'`,");","admin.add_role('admin', Spree::Store.default);","print admin.email"].join(" ");await Ze(c,n.projectDir),i.stop("Admin user created."),L.success(`Email: ${vd.default.cyan(o)}`)})}var Fe=q(Se(),1),Xd=q(Jd(),1);function Zd(t){let e=t.command("api-key").description("Manage API keys");e.command("create").description("Create an API key").option("--name <name>","key name").option("--type <type>","key type: publishable or secret").action(async r=>{let n=_(),o=r.name,s=r.type;if(!o){let D=await Vt({message:"Key name:",placeholder:"My Storefront",validate(b){if(!b)return"Name is required"}});ge(D)&&(Pe("Cancelled."),process.exit(0)),o=D}if(!s){let D=await ps({message:"Key type:",options:[{value:"publishable",label:"Publishable (for storefronts)"},{value:"secret",label:"Secret (for server-to-server)"}]});ge(D)&&(Pe("Cancelled."),process.exit(0)),s=D}if(s!=="publishable"&&s!=="secret")throw new Error('Key type must be "publishable" or "secret".');let i=M();i.start("Creating API key...");let u=["key = Spree::Store.default.api_keys.create!(",`name: '${o.replace(/'/g,"\\'")}',`,`key_type: '${s}'`,");","print key.plaintext_token"].join(" "),c=await Ze(u,n.projectDir),l=s==="publishable"?"pk_":"sk_",d=c.match(new RegExp(`${l}[A-Za-z0-9_-]+`)),f=d?d[0]:c.trim();i.stop("API key created.");let m=[`${Fe.default.bold("Name:")}  ${o}`,`${Fe.default.bold("Type:")}  ${s}`,`${Fe.default.bold("Token:")} ${Fe.default.cyan(f)}`];s==="secret"&&(m.push(""),m.push(Fe.default.yellow("Save this token now \u2014 secret keys cannot be retrieved later."))),Gt(m.join(`
`),"API Key")}),e.command("list").description("List API keys").action(async()=>{let r=_(),n=M();n.start("Fetching API keys...");let o=["Spree::Store.default.api_keys.order(created_at: :desc).each { |k|","status = k.revoked_at ? 'revoked' : 'active';","token = k.secret? ? k.token_prefix : k.token;","puts [k.prefixed_id, k.name, k.key_type, token, k.created_at.strftime('%Y-%m-%d %H:%M'), status].join('|')","}"].join(" "),s=await Ze(o,r.projectDir);n.stop("");let i=s.trim().split(`
`).filter(Boolean);if(i.length===0){L.info("No API keys found.");return}let a=i.map(u=>{let[c,l,d,f,m,D]=u.split("|");return{ID:c??"",Name:l??"",Type:d??"",Token:f??"",Created:m??"",Status:D==="active"?Fe.default.green(D):Fe.default.red(D??"")}});(0,Xd.printTable)(a)}),e.command("revoke").description("Revoke an API key").argument("<id>","ID of the key to revoke (from api-key list)").action(async r=>{let n=_(),o=M();o.start("Revoking API key...");let i=[`key = Spree::Store.default.api_keys.find_by_prefix_id!('${r.replace(/'/g,"\\'")}');`,"key.revoke!;","print key.name"].join(" "),u=(await Ze(i,n.projectDir)).trim();o.stop(`API key "${u}" revoked.`)})}function Qd(t){t.command("seed").description("Seed the database").action(async()=>{let e=_(),r=M();r.start("Seeding database..."),await Q(["exec","-T","web","bin/rails","db:seed"],e.projectDir),r.stop("Database seeded.")})}import{platform as WE}from"os";function ef(t){t.command("open").description("Open the admin dashboard in the browser").action(async()=>{let r=`http://localhost:${_().port}/admin`,n=WE();await wd(`${n==="darwin"?"open":n==="win32"?"start":"xdg-open"} ${r}`)})}function tf(t){t.command("sample-data").description("Load sample data (products, categories, images)").action(async()=>{let e=_(),r=M();r.start("Loading sample data..."),await Q(["exec","-T","web","bin/rails","spree:load_sample_data"],e.projectDir),r.stop("Sample data loaded.")})}var z=new Vi().name("spree").description("CLI for managing Spree Commerce projects").version("0.1.0");Sd(z);Ad(z);_d(z);Od(z);Td(z);$d(z);Zd(z);ef(z);Qd(z);tf(z);z.exitOverride();async function VE(){try{await z.parseAsync()}catch(t){t instanceof Error&&"code"in t&&(t.code==="commander.helpDisplayed"||t.code==="commander.version")&&process.exit(0);let e=t instanceof Error?t.message:"An unexpected error occurred.";console.error(`
${rf.default.red("Error:")} ${e}
`),process.exit(1)}}VE();
