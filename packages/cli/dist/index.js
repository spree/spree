#!/usr/bin/env node
import { createRequire as __createRequire } from "node:module";
const require = __createRequire(import.meta.url);
var Ql=Object.create;var qo=Object.defineProperty;var ep=Object.getOwnPropertyDescriptor;var tp=Object.getOwnPropertyNames;var rp=Object.getPrototypeOf,np=Object.prototype.hasOwnProperty;var k=(t=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(t,{get:(e,r)=>(typeof require<"u"?require:e)[r]}):t)(function(t){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+t+'" is not supported')});var x=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var op=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of tp(e))!np.call(t,i)&&i!==r&&qo(t,i,{get:()=>e[i],enumerable:!(n=ep(e,i))||n.enumerable});return t};var X=(t,e,r)=>(r=t!=null?Ql(rp(t)):{},op(e||!t||!t.__esModule?qo(r,"default",{value:t,enumerable:!0}):r,t));var We=x(jr=>{"use strict";var mt=class extends Error{constructor(e,r,n){super(n),Error.captureStackTrace(this,this.constructor),this.name=this.constructor.name,this.code=r,this.exitCode=e,this.nestedError=void 0}},Lr=class extends mt{constructor(e){super(1,"commander.invalidArgument",e),Error.captureStackTrace(this,this.constructor),this.name=this.constructor.name}};jr.CommanderError=mt;jr.InvalidArgumentError=Lr});var dt=x(Ur=>{"use strict";var{InvalidArgumentError:ip}=We(),Nr=class{constructor(e,r){switch(this.description=r||"",this.variadic=!1,this.parseArg=void 0,this.defaultValue=void 0,this.defaultValueDescription=void 0,this.argChoices=void 0,e[0]){case"<":this.required=!0,this._name=e.slice(1,-1);break;case"[":this.required=!1,this._name=e.slice(1,-1);break;default:this.required=!0,this._name=e;break}this._name.length>3&&this._name.slice(-3)==="..."&&(this.variadic=!0,this._name=this._name.slice(0,-3))}name(){return this._name}_concatValue(e,r){return r===this.defaultValue||!Array.isArray(r)?[e]:r.concat(e)}default(e,r){return this.defaultValue=e,this.defaultValueDescription=r,this}argParser(e){return this.parseArg=e,this}choices(e){return this.argChoices=e.slice(),this.parseArg=(r,n)=>{if(!this.argChoices.includes(r))throw new ip(`Allowed choices are ${this.argChoices.join(", ")}.`);return this.variadic?this._concatValue(r,n):r},this}argRequired(){return this.required=!0,this}argOptional(){return this.required=!1,this}};function sp(t){let e=t.name()+(t.variadic===!0?"...":"");return t.required?"<"+e+">":"["+e+"]"}Ur.Argument=Nr;Ur.humanReadableArgName=sp});var Wr=x(Gr=>{"use strict";var{humanReadableArgName:ap}=dt(),Vr=class{constructor(){this.helpWidth=void 0,this.minWidthToWrap=40,this.sortSubcommands=!1,this.sortOptions=!1,this.showGlobalOptions=!1}prepareContext(e){this.helpWidth=this.helpWidth??e.helpWidth??80}visibleCommands(e){let r=e.commands.filter(i=>!i._hidden),n=e._getHelpCommand();return n&&!n._hidden&&r.push(n),this.sortSubcommands&&r.sort((i,s)=>i.name().localeCompare(s.name())),r}compareOptions(e,r){let n=i=>i.short?i.short.replace(/^-/,""):i.long.replace(/^--/,"");return n(e).localeCompare(n(r))}visibleOptions(e){let r=e.options.filter(i=>!i.hidden),n=e._getHelpOption();if(n&&!n.hidden){let i=n.short&&e._findOption(n.short),s=n.long&&e._findOption(n.long);!i&&!s?r.push(n):n.long&&!s?r.push(e.createOption(n.long,n.description)):n.short&&!i&&r.push(e.createOption(n.short,n.description))}return this.sortOptions&&r.sort(this.compareOptions),r}visibleGlobalOptions(e){if(!this.showGlobalOptions)return[];let r=[];for(let n=e.parent;n;n=n.parent){let i=n.options.filter(s=>!s.hidden);r.push(...i)}return this.sortOptions&&r.sort(this.compareOptions),r}visibleArguments(e){return e._argsDescription&&e.registeredArguments.forEach(r=>{r.description=r.description||e._argsDescription[r.name()]||""}),e.registeredArguments.find(r=>r.description)?e.registeredArguments:[]}subcommandTerm(e){let r=e.registeredArguments.map(n=>ap(n)).join(" ");return e._name+(e._aliases[0]?"|"+e._aliases[0]:"")+(e.options.length?" [options]":"")+(r?" "+r:"")}optionTerm(e){return e.flags}argumentTerm(e){return e.name()}longestSubcommandTermLength(e,r){return r.visibleCommands(e).reduce((n,i)=>Math.max(n,this.displayWidth(r.styleSubcommandTerm(r.subcommandTerm(i)))),0)}longestOptionTermLength(e,r){return r.visibleOptions(e).reduce((n,i)=>Math.max(n,this.displayWidth(r.styleOptionTerm(r.optionTerm(i)))),0)}longestGlobalOptionTermLength(e,r){return r.visibleGlobalOptions(e).reduce((n,i)=>Math.max(n,this.displayWidth(r.styleOptionTerm(r.optionTerm(i)))),0)}longestArgumentTermLength(e,r){return r.visibleArguments(e).reduce((n,i)=>Math.max(n,this.displayWidth(r.styleArgumentTerm(r.argumentTerm(i)))),0)}commandUsage(e){let r=e._name;e._aliases[0]&&(r=r+"|"+e._aliases[0]);let n="";for(let i=e.parent;i;i=i.parent)n=i.name()+" "+n;return n+r+" "+e.usage()}commandDescription(e){return e.description()}subcommandDescription(e){return e.summary()||e.description()}optionDescription(e){let r=[];return e.argChoices&&r.push(`choices: ${e.argChoices.map(n=>JSON.stringify(n)).join(", ")}`),e.defaultValue!==void 0&&(e.required||e.optional||e.isBoolean()&&typeof e.defaultValue=="boolean")&&r.push(`default: ${e.defaultValueDescription||JSON.stringify(e.defaultValue)}`),e.presetArg!==void 0&&e.optional&&r.push(`preset: ${JSON.stringify(e.presetArg)}`),e.envVar!==void 0&&r.push(`env: ${e.envVar}`),r.length>0?`${e.description} (${r.join(", ")})`:e.description}argumentDescription(e){let r=[];if(e.argChoices&&r.push(`choices: ${e.argChoices.map(n=>JSON.stringify(n)).join(", ")}`),e.defaultValue!==void 0&&r.push(`default: ${e.defaultValueDescription||JSON.stringify(e.defaultValue)}`),r.length>0){let n=`(${r.join(", ")})`;return e.description?`${e.description} ${n}`:n}return e.description}formatHelp(e,r){let n=r.padWidth(e,r),i=r.helpWidth??80;function s(p,m){return r.formatItem(p,n,m,r)}let o=[`${r.styleTitle("Usage:")} ${r.styleUsage(r.commandUsage(e))}`,""],a=r.commandDescription(e);a.length>0&&(o=o.concat([r.boxWrap(r.styleCommandDescription(a),i),""]));let u=r.visibleArguments(e).map(p=>s(r.styleArgumentTerm(r.argumentTerm(p)),r.styleArgumentDescription(r.argumentDescription(p))));u.length>0&&(o=o.concat([r.styleTitle("Arguments:"),...u,""]));let l=r.visibleOptions(e).map(p=>s(r.styleOptionTerm(r.optionTerm(p)),r.styleOptionDescription(r.optionDescription(p))));if(l.length>0&&(o=o.concat([r.styleTitle("Options:"),...l,""])),r.showGlobalOptions){let p=r.visibleGlobalOptions(e).map(m=>s(r.styleOptionTerm(r.optionTerm(m)),r.styleOptionDescription(r.optionDescription(m))));p.length>0&&(o=o.concat([r.styleTitle("Global Options:"),...p,""]))}let c=r.visibleCommands(e).map(p=>s(r.styleSubcommandTerm(r.subcommandTerm(p)),r.styleSubcommandDescription(r.subcommandDescription(p))));return c.length>0&&(o=o.concat([r.styleTitle("Commands:"),...c,""])),o.join(`
`)}displayWidth(e){return Yo(e).length}styleTitle(e){return e}styleUsage(e){return e.split(" ").map(r=>r==="[options]"?this.styleOptionText(r):r==="[command]"?this.styleSubcommandText(r):r[0]==="["||r[0]==="<"?this.styleArgumentText(r):this.styleCommandText(r)).join(" ")}styleCommandDescription(e){return this.styleDescriptionText(e)}styleOptionDescription(e){return this.styleDescriptionText(e)}styleSubcommandDescription(e){return this.styleDescriptionText(e)}styleArgumentDescription(e){return this.styleDescriptionText(e)}styleDescriptionText(e){return e}styleOptionTerm(e){return this.styleOptionText(e)}styleSubcommandTerm(e){return e.split(" ").map(r=>r==="[options]"?this.styleOptionText(r):r[0]==="["||r[0]==="<"?this.styleArgumentText(r):this.styleSubcommandText(r)).join(" ")}styleArgumentTerm(e){return this.styleArgumentText(e)}styleOptionText(e){return e}styleArgumentText(e){return e}styleSubcommandText(e){return e}styleCommandText(e){return e}padWidth(e,r){return Math.max(r.longestOptionTermLength(e,r),r.longestGlobalOptionTermLength(e,r),r.longestSubcommandTermLength(e,r),r.longestArgumentTermLength(e,r))}preformatted(e){return/\n[^\S\r\n]/.test(e)}formatItem(e,r,n,i){let o=" ".repeat(2);if(!n)return o+e;let a=e.padEnd(r+e.length-i.displayWidth(e)),u=2,c=(this.helpWidth??80)-r-u-2,p;return c<this.minWidthToWrap||i.preformatted(n)?p=n:p=i.boxWrap(n,c).replace(/\n/g,`
`+" ".repeat(r+u)),o+a+" ".repeat(u)+p.replace(/\n/g,`
${o}`)}boxWrap(e,r){if(r<this.minWidthToWrap)return e;let n=e.split(/\r\n|\n/),i=/[\s]*[^\s]+/g,s=[];return n.forEach(o=>{let a=o.match(i);if(a===null){s.push("");return}let u=[a.shift()],l=this.displayWidth(u[0]);a.forEach(c=>{let p=this.displayWidth(c);if(l+p<=r){u.push(c),l+=p;return}s.push(u.join(""));let m=c.trimStart();u=[m],l=this.displayWidth(m)}),s.push(u.join(""))}),s.join(`
`)}};function Yo(t){let e=/\x1b\[\d*(;\d*)*m/g;return t.replace(e,"")}Gr.Help=Vr;Gr.stripColor=Yo});var Yr=x(qr=>{"use strict";var{InvalidArgumentError:up}=We(),Hr=class{constructor(e,r){this.flags=e,this.description=r||"",this.required=e.includes("<"),this.optional=e.includes("["),this.variadic=/\w\.\.\.[>\]]$/.test(e),this.mandatory=!1;let n=cp(e);this.short=n.shortFlag,this.long=n.longFlag,this.negate=!1,this.long&&(this.negate=this.long.startsWith("--no-")),this.defaultValue=void 0,this.defaultValueDescription=void 0,this.presetArg=void 0,this.envVar=void 0,this.parseArg=void 0,this.hidden=!1,this.argChoices=void 0,this.conflictsWith=[],this.implied=void 0}default(e,r){return this.defaultValue=e,this.defaultValueDescription=r,this}preset(e){return this.presetArg=e,this}conflicts(e){return this.conflictsWith=this.conflictsWith.concat(e),this}implies(e){let r=e;return typeof e=="string"&&(r={[e]:!0}),this.implied=Object.assign(this.implied||{},r),this}env(e){return this.envVar=e,this}argParser(e){return this.parseArg=e,this}makeOptionMandatory(e=!0){return this.mandatory=!!e,this}hideHelp(e=!0){return this.hidden=!!e,this}_concatValue(e,r){return r===this.defaultValue||!Array.isArray(r)?[e]:r.concat(e)}choices(e){return this.argChoices=e.slice(),this.parseArg=(r,n)=>{if(!this.argChoices.includes(r))throw new up(`Allowed choices are ${this.argChoices.join(", ")}.`);return this.variadic?this._concatValue(r,n):r},this}name(){return this.long?this.long.replace(/^--/,""):this.short.replace(/^-/,"")}attributeName(){return this.negate?Ko(this.name().replace(/^no-/,"")):Ko(this.name())}is(e){return this.short===e||this.long===e}isBoolean(){return!this.required&&!this.optional&&!this.negate}},zr=class{constructor(e){this.positiveOptions=new Map,this.negativeOptions=new Map,this.dualOptions=new Set,e.forEach(r=>{r.negate?this.negativeOptions.set(r.attributeName(),r):this.positiveOptions.set(r.attributeName(),r)}),this.negativeOptions.forEach((r,n)=>{this.positiveOptions.has(n)&&this.dualOptions.add(n)})}valueFromOption(e,r){let n=r.attributeName();if(!this.dualOptions.has(n))return!0;let i=this.negativeOptions.get(n).presetArg,s=i!==void 0?i:!1;return r.negate===(s===e)}};function Ko(t){return t.split("-").reduce((e,r)=>e+r[0].toUpperCase()+r.slice(1))}function cp(t){let e,r,n=/^-[^-]$/,i=/^--[^-]/,s=t.split(/[ |,]+/).concat("guard");if(n.test(s[0])&&(e=s.shift()),i.test(s[0])&&(r=s.shift()),!e&&n.test(s[0])&&(e=s.shift()),!e&&i.test(s[0])&&(e=r,r=s.shift()),s[0].startsWith("-")){let o=s[0],a=`option creation failed due to '${o}' in option flags '${t}'`;throw/^-[^-][^-]/.test(o)?new Error(`${a}
- a short flag is a single dash and a single character
  - either use a single dash and a single character (for a short flag)
  - or use a double dash for a long option (and can have two, like '--ws, --workspace')`):n.test(o)?new Error(`${a}
- too many short flags`):i.test(o)?new Error(`${a}
- too many long flags`):new Error(`${a}
- unrecognised flag format`)}if(e===void 0&&r===void 0)throw new Error(`option creation failed due to no flags found in '${t}'.`);return{shortFlag:e,longFlag:r}}qr.Option=Hr;qr.DualOptions=zr});var Xo=x(Jo=>{"use strict";function lp(t,e){if(Math.abs(t.length-e.length)>3)return Math.max(t.length,e.length);let r=[];for(let n=0;n<=t.length;n++)r[n]=[n];for(let n=0;n<=e.length;n++)r[0][n]=n;for(let n=1;n<=e.length;n++)for(let i=1;i<=t.length;i++){let s=1;t[i-1]===e[n-1]?s=0:s=1,r[i][n]=Math.min(r[i-1][n]+1,r[i][n-1]+1,r[i-1][n-1]+s),i>1&&n>1&&t[i-1]===e[n-2]&&t[i-2]===e[n-1]&&(r[i][n]=Math.min(r[i][n],r[i-2][n-2]+1))}return r[t.length][e.length]}function pp(t,e){if(!e||e.length===0)return"";e=Array.from(new Set(e));let r=t.startsWith("--");r&&(t=t.slice(2),e=e.map(o=>o.slice(2)));let n=[],i=3,s=.4;return e.forEach(o=>{if(o.length<=1)return;let a=lp(t,o),u=Math.max(t.length,o.length);(u-a)/u>s&&(a<i?(i=a,n=[o]):a===i&&n.push(o))}),n.sort((o,a)=>o.localeCompare(a)),r&&(n=n.map(o=>`--${o}`)),n.length>1?`
(Did you mean one of ${n.join(", ")}?)`:n.length===1?`
(Did you mean ${n[0]}?)`:""}Jo.suggestSimilar=pp});var ti=x(Qr=>{"use strict";var mp=k("events").EventEmitter,Kr=k("child_process"),ne=k("path"),Dt=k("fs"),C=k("process"),{Argument:dp,humanReadableArgName:Dp}=dt(),{CommanderError:Jr}=We(),{Help:fp,stripColor:hp}=Wr(),{Option:Zo,DualOptions:gp}=Yr(),{suggestSimilar:Qo}=Xo(),Xr=class t extends mp{constructor(e){super(),this.commands=[],this.options=[],this.parent=null,this._allowUnknownOption=!1,this._allowExcessArguments=!1,this.registeredArguments=[],this._args=this.registeredArguments,this.args=[],this.rawArgs=[],this.processedArgs=[],this._scriptPath=null,this._name=e||"",this._optionValues={},this._optionValueSources={},this._storeOptionsAsProperties=!1,this._actionHandler=null,this._executableHandler=!1,this._executableFile=null,this._executableDir=null,this._defaultCommandName=null,this._exitCallback=null,this._aliases=[],this._combineFlagAndOptionalValue=!0,this._description="",this._summary="",this._argsDescription=void 0,this._enablePositionalOptions=!1,this._passThroughOptions=!1,this._lifeCycleHooks={},this._showHelpAfterError=!1,this._showSuggestionAfterError=!0,this._savedState=null,this._outputConfiguration={writeOut:r=>C.stdout.write(r),writeErr:r=>C.stderr.write(r),outputError:(r,n)=>n(r),getOutHelpWidth:()=>C.stdout.isTTY?C.stdout.columns:void 0,getErrHelpWidth:()=>C.stderr.isTTY?C.stderr.columns:void 0,getOutHasColors:()=>Zr()??(C.stdout.isTTY&&C.stdout.hasColors?.()),getErrHasColors:()=>Zr()??(C.stderr.isTTY&&C.stderr.hasColors?.()),stripColor:r=>hp(r)},this._hidden=!1,this._helpOption=void 0,this._addImplicitHelpCommand=void 0,this._helpCommand=void 0,this._helpConfiguration={}}copyInheritedSettings(e){return this._outputConfiguration=e._outputConfiguration,this._helpOption=e._helpOption,this._helpCommand=e._helpCommand,this._helpConfiguration=e._helpConfiguration,this._exitCallback=e._exitCallback,this._storeOptionsAsProperties=e._storeOptionsAsProperties,this._combineFlagAndOptionalValue=e._combineFlagAndOptionalValue,this._allowExcessArguments=e._allowExcessArguments,this._enablePositionalOptions=e._enablePositionalOptions,this._showHelpAfterError=e._showHelpAfterError,this._showSuggestionAfterError=e._showSuggestionAfterError,this}_getCommandAndAncestors(){let e=[];for(let r=this;r;r=r.parent)e.push(r);return e}command(e,r,n){let i=r,s=n;typeof i=="object"&&i!==null&&(s=i,i=null),s=s||{};let[,o,a]=e.match(/([^ ]+) *(.*)/),u=this.createCommand(o);return i&&(u.description(i),u._executableHandler=!0),s.isDefault&&(this._defaultCommandName=u._name),u._hidden=!!(s.noHelp||s.hidden),u._executableFile=s.executableFile||null,a&&u.arguments(a),this._registerCommand(u),u.parent=this,u.copyInheritedSettings(this),i?this:u}createCommand(e){return new t(e)}createHelp(){return Object.assign(new fp,this.configureHelp())}configureHelp(e){return e===void 0?this._helpConfiguration:(this._helpConfiguration=e,this)}configureOutput(e){return e===void 0?this._outputConfiguration:(Object.assign(this._outputConfiguration,e),this)}showHelpAfterError(e=!0){return typeof e!="string"&&(e=!!e),this._showHelpAfterError=e,this}showSuggestionAfterError(e=!0){return this._showSuggestionAfterError=!!e,this}addCommand(e,r){if(!e._name)throw new Error(`Command passed to .addCommand() must have a name
- specify the name in Command constructor or using .name()`);return r=r||{},r.isDefault&&(this._defaultCommandName=e._name),(r.noHelp||r.hidden)&&(e._hidden=!0),this._registerCommand(e),e.parent=this,e._checkForBrokenPassThrough(),this}createArgument(e,r){return new dp(e,r)}argument(e,r,n,i){let s=this.createArgument(e,r);return typeof n=="function"?s.default(i).argParser(n):s.default(n),this.addArgument(s),this}arguments(e){return e.trim().split(/ +/).forEach(r=>{this.argument(r)}),this}addArgument(e){let r=this.registeredArguments.slice(-1)[0];if(r&&r.variadic)throw new Error(`only the last argument can be variadic '${r.name()}'`);if(e.required&&e.defaultValue!==void 0&&e.parseArg===void 0)throw new Error(`a default value for a required argument is never used: '${e.name()}'`);return this.registeredArguments.push(e),this}helpCommand(e,r){if(typeof e=="boolean")return this._addImplicitHelpCommand=e,this;e=e??"help [command]";let[,n,i]=e.match(/([^ ]+) *(.*)/),s=r??"display help for command",o=this.createCommand(n);return o.helpOption(!1),i&&o.arguments(i),s&&o.description(s),this._addImplicitHelpCommand=!0,this._helpCommand=o,this}addHelpCommand(e,r){return typeof e!="object"?(this.helpCommand(e,r),this):(this._addImplicitHelpCommand=!0,this._helpCommand=e,this)}_getHelpCommand(){return this._addImplicitHelpCommand??(this.commands.length&&!this._actionHandler&&!this._findCommand("help"))?(this._helpCommand===void 0&&this.helpCommand(void 0,void 0),this._helpCommand):null}hook(e,r){let n=["preSubcommand","preAction","postAction"];if(!n.includes(e))throw new Error(`Unexpected value for event passed to hook : '${e}'.
Expecting one of '${n.join("', '")}'`);return this._lifeCycleHooks[e]?this._lifeCycleHooks[e].push(r):this._lifeCycleHooks[e]=[r],this}exitOverride(e){return e?this._exitCallback=e:this._exitCallback=r=>{if(r.code!=="commander.executeSubCommandAsync")throw r},this}_exit(e,r,n){this._exitCallback&&this._exitCallback(new Jr(e,r,n)),C.exit(e)}action(e){let r=n=>{let i=this.registeredArguments.length,s=n.slice(0,i);return this._storeOptionsAsProperties?s[i]=this:s[i]=this.opts(),s.push(this),e.apply(this,s)};return this._actionHandler=r,this}createOption(e,r){return new Zo(e,r)}_callParseArg(e,r,n,i){try{return e.parseArg(r,n)}catch(s){if(s.code==="commander.invalidArgument"){let o=`${i} ${s.message}`;this.error(o,{exitCode:s.exitCode,code:s.code})}throw s}}_registerOption(e){let r=e.short&&this._findOption(e.short)||e.long&&this._findOption(e.long);if(r){let n=e.long&&this._findOption(e.long)?e.long:e.short;throw new Error(`Cannot add option '${e.flags}'${this._name&&` to command '${this._name}'`} due to conflicting flag '${n}'
-  already used by option '${r.flags}'`)}this.options.push(e)}_registerCommand(e){let r=i=>[i.name()].concat(i.aliases()),n=r(e).find(i=>this._findCommand(i));if(n){let i=r(this._findCommand(n)).join("|"),s=r(e).join("|");throw new Error(`cannot add command '${s}' as already have command '${i}'`)}this.commands.push(e)}addOption(e){this._registerOption(e);let r=e.name(),n=e.attributeName();if(e.negate){let s=e.long.replace(/^--no-/,"--");this._findOption(s)||this.setOptionValueWithSource(n,e.defaultValue===void 0?!0:e.defaultValue,"default")}else e.defaultValue!==void 0&&this.setOptionValueWithSource(n,e.defaultValue,"default");let i=(s,o,a)=>{s==null&&e.presetArg!==void 0&&(s=e.presetArg);let u=this.getOptionValue(n);s!==null&&e.parseArg?s=this._callParseArg(e,s,u,o):s!==null&&e.variadic&&(s=e._concatValue(s,u)),s==null&&(e.negate?s=!1:e.isBoolean()||e.optional?s=!0:s=""),this.setOptionValueWithSource(n,s,a)};return this.on("option:"+r,s=>{let o=`error: option '${e.flags}' argument '${s}' is invalid.`;i(s,o,"cli")}),e.envVar&&this.on("optionEnv:"+r,s=>{let o=`error: option '${e.flags}' value '${s}' from env '${e.envVar}' is invalid.`;i(s,o,"env")}),this}_optionEx(e,r,n,i,s){if(typeof r=="object"&&r instanceof Zo)throw new Error("To add an Option object use addOption() instead of option() or requiredOption()");let o=this.createOption(r,n);if(o.makeOptionMandatory(!!e.mandatory),typeof i=="function")o.default(s).argParser(i);else if(i instanceof RegExp){let a=i;i=(u,l)=>{let c=a.exec(u);return c?c[0]:l},o.default(s).argParser(i)}else o.default(i);return this.addOption(o)}option(e,r,n,i){return this._optionEx({},e,r,n,i)}requiredOption(e,r,n,i){return this._optionEx({mandatory:!0},e,r,n,i)}combineFlagAndOptionalValue(e=!0){return this._combineFlagAndOptionalValue=!!e,this}allowUnknownOption(e=!0){return this._allowUnknownOption=!!e,this}allowExcessArguments(e=!0){return this._allowExcessArguments=!!e,this}enablePositionalOptions(e=!0){return this._enablePositionalOptions=!!e,this}passThroughOptions(e=!0){return this._passThroughOptions=!!e,this._checkForBrokenPassThrough(),this}_checkForBrokenPassThrough(){if(this.parent&&this._passThroughOptions&&!this.parent._enablePositionalOptions)throw new Error(`passThroughOptions cannot be used for '${this._name}' without turning on enablePositionalOptions for parent command(s)`)}storeOptionsAsProperties(e=!0){if(this.options.length)throw new Error("call .storeOptionsAsProperties() before adding options");if(Object.keys(this._optionValues).length)throw new Error("call .storeOptionsAsProperties() before setting option values");return this._storeOptionsAsProperties=!!e,this}getOptionValue(e){return this._storeOptionsAsProperties?this[e]:this._optionValues[e]}setOptionValue(e,r){return this.setOptionValueWithSource(e,r,void 0)}setOptionValueWithSource(e,r,n){return this._storeOptionsAsProperties?this[e]=r:this._optionValues[e]=r,this._optionValueSources[e]=n,this}getOptionValueSource(e){return this._optionValueSources[e]}getOptionValueSourceWithGlobals(e){let r;return this._getCommandAndAncestors().forEach(n=>{n.getOptionValueSource(e)!==void 0&&(r=n.getOptionValueSource(e))}),r}_prepareUserArgs(e,r){if(e!==void 0&&!Array.isArray(e))throw new Error("first parameter to parse must be array or undefined");if(r=r||{},e===void 0&&r.from===void 0){C.versions?.electron&&(r.from="electron");let i=C.execArgv??[];(i.includes("-e")||i.includes("--eval")||i.includes("-p")||i.includes("--print"))&&(r.from="eval")}e===void 0&&(e=C.argv),this.rawArgs=e.slice();let n;switch(r.from){case void 0:case"node":this._scriptPath=e[1],n=e.slice(2);break;case"electron":C.defaultApp?(this._scriptPath=e[1],n=e.slice(2)):n=e.slice(1);break;case"user":n=e.slice(0);break;case"eval":n=e.slice(1);break;default:throw new Error(`unexpected parse option { from: '${r.from}' }`)}return!this._name&&this._scriptPath&&this.nameFromFilename(this._scriptPath),this._name=this._name||"program",n}parse(e,r){this._prepareForParse();let n=this._prepareUserArgs(e,r);return this._parseCommand([],n),this}async parseAsync(e,r){this._prepareForParse();let n=this._prepareUserArgs(e,r);return await this._parseCommand([],n),this}_prepareForParse(){this._savedState===null?this.saveStateBeforeParse():this.restoreStateBeforeParse()}saveStateBeforeParse(){this._savedState={_name:this._name,_optionValues:{...this._optionValues},_optionValueSources:{...this._optionValueSources}}}restoreStateBeforeParse(){if(this._storeOptionsAsProperties)throw new Error(`Can not call parse again when storeOptionsAsProperties is true.
- either make a new Command for each call to parse, or stop storing options as properties`);this._name=this._savedState._name,this._scriptPath=null,this.rawArgs=[],this._optionValues={...this._savedState._optionValues},this._optionValueSources={...this._savedState._optionValueSources},this.args=[],this.processedArgs=[]}_checkForMissingExecutable(e,r,n){if(Dt.existsSync(e))return;let i=r?`searched for local subcommand relative to directory '${r}'`:"no directory for search for local subcommand, use .executableDir() to supply a custom directory",s=`'${e}' does not exist
 - if '${n}' is not meant to be an executable command, remove description parameter from '.command()' and use '.description()' instead
 - if the default executable name is not suitable, use the executableFile option to supply a custom name or path
 - ${i}`;throw new Error(s)}_executeSubCommand(e,r){r=r.slice();let n=!1,i=[".js",".ts",".tsx",".mjs",".cjs"];function s(c,p){let m=ne.resolve(c,p);if(Dt.existsSync(m))return m;if(i.includes(ne.extname(p)))return;let d=i.find(f=>Dt.existsSync(`${m}${f}`));if(d)return`${m}${d}`}this._checkForMissingMandatoryOptions(),this._checkForConflictingOptions();let o=e._executableFile||`${this._name}-${e._name}`,a=this._executableDir||"";if(this._scriptPath){let c;try{c=Dt.realpathSync(this._scriptPath)}catch{c=this._scriptPath}a=ne.resolve(ne.dirname(c),a)}if(a){let c=s(a,o);if(!c&&!e._executableFile&&this._scriptPath){let p=ne.basename(this._scriptPath,ne.extname(this._scriptPath));p!==this._name&&(c=s(a,`${p}-${e._name}`))}o=c||o}n=i.includes(ne.extname(o));let u;C.platform!=="win32"?n?(r.unshift(o),r=ei(C.execArgv).concat(r),u=Kr.spawn(C.argv[0],r,{stdio:"inherit"})):u=Kr.spawn(o,r,{stdio:"inherit"}):(this._checkForMissingExecutable(o,a,e._name),r.unshift(o),r=ei(C.execArgv).concat(r),u=Kr.spawn(C.execPath,r,{stdio:"inherit"})),u.killed||["SIGUSR1","SIGUSR2","SIGTERM","SIGINT","SIGHUP"].forEach(p=>{C.on(p,()=>{u.killed===!1&&u.exitCode===null&&u.kill(p)})});let l=this._exitCallback;u.on("close",c=>{c=c??1,l?l(new Jr(c,"commander.executeSubCommandAsync","(close)")):C.exit(c)}),u.on("error",c=>{if(c.code==="ENOENT")this._checkForMissingExecutable(o,a,e._name);else if(c.code==="EACCES")throw new Error(`'${o}' not executable`);if(!l)C.exit(1);else{let p=new Jr(1,"commander.executeSubCommandAsync","(error)");p.nestedError=c,l(p)}}),this.runningCommand=u}_dispatchSubcommand(e,r,n){let i=this._findCommand(e);i||this.help({error:!0}),i._prepareForParse();let s;return s=this._chainOrCallSubCommandHook(s,i,"preSubcommand"),s=this._chainOrCall(s,()=>{if(i._executableHandler)this._executeSubCommand(i,r.concat(n));else return i._parseCommand(r,n)}),s}_dispatchHelpCommand(e){e||this.help();let r=this._findCommand(e);return r&&!r._executableHandler&&r.help(),this._dispatchSubcommand(e,[],[this._getHelpOption()?.long??this._getHelpOption()?.short??"--help"])}_checkNumberOfArguments(){this.registeredArguments.forEach((e,r)=>{e.required&&this.args[r]==null&&this.missingArgument(e.name())}),!(this.registeredArguments.length>0&&this.registeredArguments[this.registeredArguments.length-1].variadic)&&this.args.length>this.registeredArguments.length&&this._excessArguments(this.args)}_processArguments(){let e=(n,i,s)=>{let o=i;if(i!==null&&n.parseArg){let a=`error: command-argument value '${i}' is invalid for argument '${n.name()}'.`;o=this._callParseArg(n,i,s,a)}return o};this._checkNumberOfArguments();let r=[];this.registeredArguments.forEach((n,i)=>{let s=n.defaultValue;n.variadic?i<this.args.length?(s=this.args.slice(i),n.parseArg&&(s=s.reduce((o,a)=>e(n,a,o),n.defaultValue))):s===void 0&&(s=[]):i<this.args.length&&(s=this.args[i],n.parseArg&&(s=e(n,s,n.defaultValue))),r[i]=s}),this.processedArgs=r}_chainOrCall(e,r){return e&&e.then&&typeof e.then=="function"?e.then(()=>r()):r()}_chainOrCallHooks(e,r){let n=e,i=[];return this._getCommandAndAncestors().reverse().filter(s=>s._lifeCycleHooks[r]!==void 0).forEach(s=>{s._lifeCycleHooks[r].forEach(o=>{i.push({hookedCommand:s,callback:o})})}),r==="postAction"&&i.reverse(),i.forEach(s=>{n=this._chainOrCall(n,()=>s.callback(s.hookedCommand,this))}),n}_chainOrCallSubCommandHook(e,r,n){let i=e;return this._lifeCycleHooks[n]!==void 0&&this._lifeCycleHooks[n].forEach(s=>{i=this._chainOrCall(i,()=>s(this,r))}),i}_parseCommand(e,r){let n=this.parseOptions(r);if(this._parseOptionsEnv(),this._parseOptionsImplied(),e=e.concat(n.operands),r=n.unknown,this.args=e.concat(r),e&&this._findCommand(e[0]))return this._dispatchSubcommand(e[0],e.slice(1),r);if(this._getHelpCommand()&&e[0]===this._getHelpCommand().name())return this._dispatchHelpCommand(e[1]);if(this._defaultCommandName)return this._outputHelpIfRequested(r),this._dispatchSubcommand(this._defaultCommandName,e,r);this.commands.length&&this.args.length===0&&!this._actionHandler&&!this._defaultCommandName&&this.help({error:!0}),this._outputHelpIfRequested(n.unknown),this._checkForMissingMandatoryOptions(),this._checkForConflictingOptions();let i=()=>{n.unknown.length>0&&this.unknownOption(n.unknown[0])},s=`command:${this.name()}`;if(this._actionHandler){i(),this._processArguments();let o;return o=this._chainOrCallHooks(o,"preAction"),o=this._chainOrCall(o,()=>this._actionHandler(this.processedArgs)),this.parent&&(o=this._chainOrCall(o,()=>{this.parent.emit(s,e,r)})),o=this._chainOrCallHooks(o,"postAction"),o}if(this.parent&&this.parent.listenerCount(s))i(),this._processArguments(),this.parent.emit(s,e,r);else if(e.length){if(this._findCommand("*"))return this._dispatchSubcommand("*",e,r);this.listenerCount("command:*")?this.emit("command:*",e,r):this.commands.length?this.unknownCommand():(i(),this._processArguments())}else this.commands.length?(i(),this.help({error:!0})):(i(),this._processArguments())}_findCommand(e){if(e)return this.commands.find(r=>r._name===e||r._aliases.includes(e))}_findOption(e){return this.options.find(r=>r.is(e))}_checkForMissingMandatoryOptions(){this._getCommandAndAncestors().forEach(e=>{e.options.forEach(r=>{r.mandatory&&e.getOptionValue(r.attributeName())===void 0&&e.missingMandatoryOptionValue(r)})})}_checkForConflictingLocalOptions(){let e=this.options.filter(n=>{let i=n.attributeName();return this.getOptionValue(i)===void 0?!1:this.getOptionValueSource(i)!=="default"});e.filter(n=>n.conflictsWith.length>0).forEach(n=>{let i=e.find(s=>n.conflictsWith.includes(s.attributeName()));i&&this._conflictingOption(n,i)})}_checkForConflictingOptions(){this._getCommandAndAncestors().forEach(e=>{e._checkForConflictingLocalOptions()})}parseOptions(e){let r=[],n=[],i=r,s=e.slice();function o(u){return u.length>1&&u[0]==="-"}let a=null;for(;s.length;){let u=s.shift();if(u==="--"){i===n&&i.push(u),i.push(...s);break}if(a&&!o(u)){this.emit(`option:${a.name()}`,u);continue}if(a=null,o(u)){let l=this._findOption(u);if(l){if(l.required){let c=s.shift();c===void 0&&this.optionMissingArgument(l),this.emit(`option:${l.name()}`,c)}else if(l.optional){let c=null;s.length>0&&!o(s[0])&&(c=s.shift()),this.emit(`option:${l.name()}`,c)}else this.emit(`option:${l.name()}`);a=l.variadic?l:null;continue}}if(u.length>2&&u[0]==="-"&&u[1]!=="-"){let l=this._findOption(`-${u[1]}`);if(l){l.required||l.optional&&this._combineFlagAndOptionalValue?this.emit(`option:${l.name()}`,u.slice(2)):(this.emit(`option:${l.name()}`),s.unshift(`-${u.slice(2)}`));continue}}if(/^--[^=]+=/.test(u)){let l=u.indexOf("="),c=this._findOption(u.slice(0,l));if(c&&(c.required||c.optional)){this.emit(`option:${c.name()}`,u.slice(l+1));continue}}if(o(u)&&(i=n),(this._enablePositionalOptions||this._passThroughOptions)&&r.length===0&&n.length===0){if(this._findCommand(u)){r.push(u),s.length>0&&n.push(...s);break}else if(this._getHelpCommand()&&u===this._getHelpCommand().name()){r.push(u),s.length>0&&r.push(...s);break}else if(this._defaultCommandName){n.push(u),s.length>0&&n.push(...s);break}}if(this._passThroughOptions){i.push(u),s.length>0&&i.push(...s);break}i.push(u)}return{operands:r,unknown:n}}opts(){if(this._storeOptionsAsProperties){let e={},r=this.options.length;for(let n=0;n<r;n++){let i=this.options[n].attributeName();e[i]=i===this._versionOptionName?this._version:this[i]}return e}return this._optionValues}optsWithGlobals(){return this._getCommandAndAncestors().reduce((e,r)=>Object.assign(e,r.opts()),{})}error(e,r){this._outputConfiguration.outputError(`${e}
`,this._outputConfiguration.writeErr),typeof this._showHelpAfterError=="string"?this._outputConfiguration.writeErr(`${this._showHelpAfterError}
`):this._showHelpAfterError&&(this._outputConfiguration.writeErr(`
`),this.outputHelp({error:!0}));let n=r||{},i=n.exitCode||1,s=n.code||"commander.error";this._exit(i,s,e)}_parseOptionsEnv(){this.options.forEach(e=>{if(e.envVar&&e.envVar in C.env){let r=e.attributeName();(this.getOptionValue(r)===void 0||["default","config","env"].includes(this.getOptionValueSource(r)))&&(e.required||e.optional?this.emit(`optionEnv:${e.name()}`,C.env[e.envVar]):this.emit(`optionEnv:${e.name()}`))}})}_parseOptionsImplied(){let e=new gp(this.options),r=n=>this.getOptionValue(n)!==void 0&&!["default","implied"].includes(this.getOptionValueSource(n));this.options.filter(n=>n.implied!==void 0&&r(n.attributeName())&&e.valueFromOption(this.getOptionValue(n.attributeName()),n)).forEach(n=>{Object.keys(n.implied).filter(i=>!r(i)).forEach(i=>{this.setOptionValueWithSource(i,n.implied[i],"implied")})})}missingArgument(e){let r=`error: missing required argument '${e}'`;this.error(r,{code:"commander.missingArgument"})}optionMissingArgument(e){let r=`error: option '${e.flags}' argument missing`;this.error(r,{code:"commander.optionMissingArgument"})}missingMandatoryOptionValue(e){let r=`error: required option '${e.flags}' not specified`;this.error(r,{code:"commander.missingMandatoryOptionValue"})}_conflictingOption(e,r){let n=o=>{let a=o.attributeName(),u=this.getOptionValue(a),l=this.options.find(p=>p.negate&&a===p.attributeName()),c=this.options.find(p=>!p.negate&&a===p.attributeName());return l&&(l.presetArg===void 0&&u===!1||l.presetArg!==void 0&&u===l.presetArg)?l:c||o},i=o=>{let a=n(o),u=a.attributeName();return this.getOptionValueSource(u)==="env"?`environment variable '${a.envVar}'`:`option '${a.flags}'`},s=`error: ${i(e)} cannot be used with ${i(r)}`;this.error(s,{code:"commander.conflictingOption"})}unknownOption(e){if(this._allowUnknownOption)return;let r="";if(e.startsWith("--")&&this._showSuggestionAfterError){let i=[],s=this;do{let o=s.createHelp().visibleOptions(s).filter(a=>a.long).map(a=>a.long);i=i.concat(o),s=s.parent}while(s&&!s._enablePositionalOptions);r=Qo(e,i)}let n=`error: unknown option '${e}'${r}`;this.error(n,{code:"commander.unknownOption"})}_excessArguments(e){if(this._allowExcessArguments)return;let r=this.registeredArguments.length,n=r===1?"":"s",s=`error: too many arguments${this.parent?` for '${this.name()}'`:""}. Expected ${r} argument${n} but got ${e.length}.`;this.error(s,{code:"commander.excessArguments"})}unknownCommand(){let e=this.args[0],r="";if(this._showSuggestionAfterError){let i=[];this.createHelp().visibleCommands(this).forEach(s=>{i.push(s.name()),s.alias()&&i.push(s.alias())}),r=Qo(e,i)}let n=`error: unknown command '${e}'${r}`;this.error(n,{code:"commander.unknownCommand"})}version(e,r,n){if(e===void 0)return this._version;this._version=e,r=r||"-V, --version",n=n||"output the version number";let i=this.createOption(r,n);return this._versionOptionName=i.attributeName(),this._registerOption(i),this.on("option:"+i.name(),()=>{this._outputConfiguration.writeOut(`${e}
`),this._exit(0,"commander.version",e)}),this}description(e,r){return e===void 0&&r===void 0?this._description:(this._description=e,r&&(this._argsDescription=r),this)}summary(e){return e===void 0?this._summary:(this._summary=e,this)}alias(e){if(e===void 0)return this._aliases[0];let r=this;if(this.commands.length!==0&&this.commands[this.commands.length-1]._executableHandler&&(r=this.commands[this.commands.length-1]),e===r._name)throw new Error("Command alias can't be the same as its name");let n=this.parent?._findCommand(e);if(n){let i=[n.name()].concat(n.aliases()).join("|");throw new Error(`cannot add alias '${e}' to command '${this.name()}' as already have command '${i}'`)}return r._aliases.push(e),this}aliases(e){return e===void 0?this._aliases:(e.forEach(r=>this.alias(r)),this)}usage(e){if(e===void 0){if(this._usage)return this._usage;let r=this.registeredArguments.map(n=>Dp(n));return[].concat(this.options.length||this._helpOption!==null?"[options]":[],this.commands.length?"[command]":[],this.registeredArguments.length?r:[]).join(" ")}return this._usage=e,this}name(e){return e===void 0?this._name:(this._name=e,this)}nameFromFilename(e){return this._name=ne.basename(e,ne.extname(e)),this}executableDir(e){return e===void 0?this._executableDir:(this._executableDir=e,this)}helpInformation(e){let r=this.createHelp(),n=this._getOutputContext(e);r.prepareContext({error:n.error,helpWidth:n.helpWidth,outputHasColors:n.hasColors});let i=r.formatHelp(this,r);return n.hasColors?i:this._outputConfiguration.stripColor(i)}_getOutputContext(e){e=e||{};let r=!!e.error,n,i,s;return r?(n=a=>this._outputConfiguration.writeErr(a),i=this._outputConfiguration.getErrHasColors(),s=this._outputConfiguration.getErrHelpWidth()):(n=a=>this._outputConfiguration.writeOut(a),i=this._outputConfiguration.getOutHasColors(),s=this._outputConfiguration.getOutHelpWidth()),{error:r,write:a=>(i||(a=this._outputConfiguration.stripColor(a)),n(a)),hasColors:i,helpWidth:s}}outputHelp(e){let r;typeof e=="function"&&(r=e,e=void 0);let n=this._getOutputContext(e),i={error:n.error,write:n.write,command:this};this._getCommandAndAncestors().reverse().forEach(o=>o.emit("beforeAllHelp",i)),this.emit("beforeHelp",i);let s=this.helpInformation({error:n.error});if(r&&(s=r(s),typeof s!="string"&&!Buffer.isBuffer(s)))throw new Error("outputHelp callback must return a string or a Buffer");n.write(s),this._getHelpOption()?.long&&this.emit(this._getHelpOption().long),this.emit("afterHelp",i),this._getCommandAndAncestors().forEach(o=>o.emit("afterAllHelp",i))}helpOption(e,r){return typeof e=="boolean"?(e?this._helpOption=this._helpOption??void 0:this._helpOption=null,this):(e=e??"-h, --help",r=r??"display help for command",this._helpOption=this.createOption(e,r),this)}_getHelpOption(){return this._helpOption===void 0&&this.helpOption(void 0,void 0),this._helpOption}addHelpOption(e){return this._helpOption=e,this}help(e){this.outputHelp(e);let r=Number(C.exitCode??0);r===0&&e&&typeof e!="function"&&e.error&&(r=1),this._exit(r,"commander.help","(outputHelp)")}addHelpText(e,r){let n=["beforeAll","before","after","afterAll"];if(!n.includes(e))throw new Error(`Unexpected value for position to addHelpText.
Expecting one of '${n.join("', '")}'`);let i=`${e}Help`;return this.on(i,s=>{let o;typeof r=="function"?o=r({error:s.error,command:s.command}):o=r,o&&s.write(`${o}
`)}),this}_outputHelpIfRequested(e){let r=this._getHelpOption();r&&e.find(i=>r.is(i))&&(this.outputHelp(),this._exit(0,"commander.helpDisplayed","(outputHelp)"))}};function ei(t){return t.map(e=>{if(!e.startsWith("--inspect"))return e;let r,n="127.0.0.1",i="9229",s;return(s=e.match(/^(--inspect(-brk)?)$/))!==null?r=s[1]:(s=e.match(/^(--inspect(-brk|-port)?)=([^:]+)$/))!==null?(r=s[1],/^\d+$/.test(s[3])?i=s[3]:n=s[3]):(s=e.match(/^(--inspect(-brk|-port)?)=([^:]+):(\d+)$/))!==null&&(r=s[1],n=s[3],i=s[4]),r&&i!=="0"?`${r}=${n}:${parseInt(i)+1}`:e})}function Zr(){if(C.env.NO_COLOR||C.env.FORCE_COLOR==="0"||C.env.FORCE_COLOR==="false")return!1;if(C.env.FORCE_COLOR||C.env.CLICOLOR_FORCE!==void 0)return!0}Qr.Command=Xr;Qr.useColor=Zr});var ii=x(U=>{"use strict";var{Argument:ri}=dt(),{Command:en}=ti(),{CommanderError:Cp,InvalidArgumentError:ni}=We(),{Help:bp}=Wr(),{Option:oi}=Yr();U.program=new en;U.createCommand=t=>new en(t);U.createOption=(t,e)=>new oi(t,e);U.createArgument=(t,e)=>new ri(t,e);U.Command=en;U.Option=oi;U.Argument=ri;U.Help=bp;U.CommanderError=Cp;U.InvalidArgumentError=ni;U.InvalidOptionArgumentError=ni});var he=x((ny,tn)=>{"use strict";var ht=process||{},ui=ht.argv||[],ft=ht.env||{},yp=!(ft.NO_COLOR||ui.includes("--no-color"))&&(!!ft.FORCE_COLOR||ui.includes("--color")||ht.platform==="win32"||(ht.stdout||{}).isTTY&&ft.TERM!=="dumb"||!!ft.CI),Ep=(t,e,r=t)=>n=>{let i=""+n,s=i.indexOf(e,t.length);return~s?t+Fp(i,e,r,s)+e:t+i+e},Fp=(t,e,r,n)=>{let i="",s=0;do i+=t.substring(s,n)+r,s=n+e.length,n=t.indexOf(e,s);while(~n);return i+t.substring(s)},ci=(t=yp)=>{let e=t?Ep:()=>String;return{isColorSupported:t,reset:e("\x1B[0m","\x1B[0m"),bold:e("\x1B[1m","\x1B[22m","\x1B[22m\x1B[1m"),dim:e("\x1B[2m","\x1B[22m","\x1B[22m\x1B[2m"),italic:e("\x1B[3m","\x1B[23m"),underline:e("\x1B[4m","\x1B[24m"),inverse:e("\x1B[7m","\x1B[27m"),hidden:e("\x1B[8m","\x1B[28m"),strikethrough:e("\x1B[9m","\x1B[29m"),black:e("\x1B[30m","\x1B[39m"),red:e("\x1B[31m","\x1B[39m"),green:e("\x1B[32m","\x1B[39m"),yellow:e("\x1B[33m","\x1B[39m"),blue:e("\x1B[34m","\x1B[39m"),magenta:e("\x1B[35m","\x1B[39m"),cyan:e("\x1B[36m","\x1B[39m"),white:e("\x1B[37m","\x1B[39m"),gray:e("\x1B[90m","\x1B[39m"),bgBlack:e("\x1B[40m","\x1B[49m"),bgRed:e("\x1B[41m","\x1B[49m"),bgGreen:e("\x1B[42m","\x1B[49m"),bgYellow:e("\x1B[43m","\x1B[49m"),bgBlue:e("\x1B[44m","\x1B[49m"),bgMagenta:e("\x1B[45m","\x1B[49m"),bgCyan:e("\x1B[46m","\x1B[49m"),bgWhite:e("\x1B[47m","\x1B[49m"),blackBright:e("\x1B[90m","\x1B[39m"),redBright:e("\x1B[91m","\x1B[39m"),greenBright:e("\x1B[92m","\x1B[39m"),yellowBright:e("\x1B[93m","\x1B[39m"),blueBright:e("\x1B[94m","\x1B[39m"),magentaBright:e("\x1B[95m","\x1B[39m"),cyanBright:e("\x1B[96m","\x1B[39m"),whiteBright:e("\x1B[97m","\x1B[39m"),bgBlackBright:e("\x1B[100m","\x1B[49m"),bgRedBright:e("\x1B[101m","\x1B[49m"),bgGreenBright:e("\x1B[102m","\x1B[49m"),bgYellowBright:e("\x1B[103m","\x1B[49m"),bgBlueBright:e("\x1B[104m","\x1B[49m"),bgMagentaBright:e("\x1B[105m","\x1B[49m"),bgCyanBright:e("\x1B[106m","\x1B[49m"),bgWhiteBright:e("\x1B[107m","\x1B[49m")}};tn.exports=ci();tn.exports.createColors=ci});var nn=x((oy,li)=>{"use strict";var rn={to(t,e){return e?`\x1B[${e+1};${t+1}H`:`\x1B[${t+1}G`},move(t,e){let r="";return t<0?r+=`\x1B[${-t}D`:t>0&&(r+=`\x1B[${t}C`),e<0?r+=`\x1B[${-e}A`:e>0&&(r+=`\x1B[${e}B`),r},up:(t=1)=>`\x1B[${t}A`,down:(t=1)=>`\x1B[${t}B`,forward:(t=1)=>`\x1B[${t}C`,backward:(t=1)=>`\x1B[${t}D`,nextLine:(t=1)=>"\x1B[E".repeat(t),prevLine:(t=1)=>"\x1B[F".repeat(t),left:"\x1B[G",hide:"\x1B[?25l",show:"\x1B[?25h",save:"\x1B7",restore:"\x1B8"},wp={up:(t=1)=>"\x1B[S".repeat(t),down:(t=1)=>"\x1B[T".repeat(t)},Sp={screen:"\x1B[2J",up:(t=1)=>"\x1B[1J".repeat(t),down:(t=1)=>"\x1B[J".repeat(t),line:"\x1B[2K",lineEnd:"\x1B[K",lineStart:"\x1B[1K",lines(t){let e="";for(let r=0;r<t;r++)e+=this.line+(r<t-1?rn.up():"");return t&&(e+=rn.left),e}};li.exports={cursor:rn,scroll:wp,erase:Sp,beep:"\x07"}});var Ds=x((lF,ds)=>{"use strict";ds.exports=ms;ms.sync=pd;var ls=k("fs");function ld(t,e){var r=e.pathExt!==void 0?e.pathExt:process.env.PATHEXT;if(!r||(r=r.split(";"),r.indexOf("")!==-1))return!0;for(var n=0;n<r.length;n++){var i=r[n].toLowerCase();if(i&&t.substr(-i.length).toLowerCase()===i)return!0}return!1}function ps(t,e,r){return!t.isSymbolicLink()&&!t.isFile()?!1:ld(e,r)}function ms(t,e,r){ls.stat(t,function(n,i){r(n,n?!1:ps(i,t,e))})}function pd(t,e){return ps(ls.statSync(t),t,e)}});var bs=x((pF,Cs)=>{"use strict";Cs.exports=hs;hs.sync=md;var fs=k("fs");function hs(t,e,r){fs.stat(t,function(n,i){r(n,n?!1:gs(i,e))})}function md(t,e){return gs(fs.statSync(t),e)}function gs(t,e){return t.isFile()&&dd(t,e)}function dd(t,e){var r=t.mode,n=t.uid,i=t.gid,s=e.uid!==void 0?e.uid:process.getuid&&process.getuid(),o=e.gid!==void 0?e.gid:process.getgid&&process.getgid(),a=parseInt("100",8),u=parseInt("010",8),l=parseInt("001",8),c=a|u,p=r&l||r&u&&i===o||r&a&&n===s||r&c&&s===0;return p}});var Es=x((dF,ys)=>{"use strict";var mF=k("fs"),jt;process.platform==="win32"||global.TESTING_WINDOWS?jt=Ds():jt=bs();ys.exports=xn;xn.sync=Dd;function xn(t,e,r){if(typeof e=="function"&&(r=e,e={}),!r){if(typeof Promise!="function")throw new TypeError("callback not provided");return new Promise(function(n,i){xn(t,e||{},function(s,o){s?i(s):n(o)})})}jt(t,e||{},function(n,i){n&&(n.code==="EACCES"||e&&e.ignoreErrors)&&(n=null,i=!1),r(n,i)})}function Dd(t,e){try{return jt.sync(t,e||{})}catch(r){if(e&&e.ignoreErrors||r.code==="EACCES")return!1;throw r}}});var Os=x((DF,$s)=>{"use strict";var _e=process.platform==="win32"||process.env.OSTYPE==="cygwin"||process.env.OSTYPE==="msys",Fs=k("path"),fd=_e?";":":",ws=Es(),Ss=t=>Object.assign(new Error(`not found: ${t}`),{code:"ENOENT"}),xs=(t,e)=>{let r=e.colon||fd,n=t.match(/\//)||_e&&t.match(/\\/)?[""]:[..._e?[process.cwd()]:[],...(e.path||process.env.PATH||"").split(r)],i=_e?e.pathExt||process.env.PATHEXT||".EXE;.CMD;.BAT;.COM":"",s=_e?i.split(r):[""];return _e&&t.indexOf(".")!==-1&&s[0]!==""&&s.unshift(""),{pathEnv:n,pathExt:s,pathExtExe:i}},As=(t,e,r)=>{typeof e=="function"&&(r=e,e={}),e||(e={});let{pathEnv:n,pathExt:i,pathExtExe:s}=xs(t,e),o=[],a=l=>new Promise((c,p)=>{if(l===n.length)return e.all&&o.length?c(o):p(Ss(t));let m=n[l],d=/^".*"$/.test(m)?m.slice(1,-1):m,f=Fs.join(d,t),g=!d&&/^\.[\\\/]/.test(t)?t.slice(0,2)+f:f;c(u(g,l,0))}),u=(l,c,p)=>new Promise((m,d)=>{if(p===i.length)return m(a(c+1));let f=i[p];ws(l+f,{pathExt:s},(g,F)=>{if(!g&&F)if(e.all)o.push(l+f);else return m(l+f);return m(u(l,c,p+1))})});return r?a(0).then(l=>r(null,l),r):a(0)},hd=(t,e)=>{e=e||{};let{pathEnv:r,pathExt:n,pathExtExe:i}=xs(t,e),s=[];for(let o=0;o<r.length;o++){let a=r[o],u=/^".*"$/.test(a)?a.slice(1,-1):a,l=Fs.join(u,t),c=!u&&/^\.[\\\/]/.test(t)?t.slice(0,2)+l:l;for(let p=0;p<n.length;p++){let m=c+n[p];try{if(ws.sync(m,{pathExt:i}))if(e.all)s.push(m);else return m}catch{}}}if(e.all&&s.length)return s;if(e.nothrow)return null;throw Ss(t)};$s.exports=As;As.sync=hd});var _s=x((fF,An)=>{"use strict";var Bs=(t={})=>{let e=t.env||process.env;return(t.platform||process.platform)!=="win32"?"PATH":Object.keys(e).reverse().find(n=>n.toUpperCase()==="PATH")||"Path"};An.exports=Bs;An.exports.default=Bs});var Rs=x((hF,Is)=>{"use strict";var vs=k("path"),gd=Os(),Cd=_s();function Ts(t,e){let r=t.options.env||process.env,n=process.cwd(),i=t.options.cwd!=null,s=i&&process.chdir!==void 0&&!process.chdir.disabled;if(s)try{process.chdir(t.options.cwd)}catch{}let o;try{o=gd.sync(t.command,{path:r[Cd({env:r})],pathExt:e?vs.delimiter:void 0})}catch{}finally{s&&process.chdir(n)}return o&&(o=vs.resolve(i?t.options.cwd:"",o)),o}function bd(t){return Ts(t)||Ts(t,!0)}Is.exports=bd});var Ms=x((gF,On)=>{"use strict";var $n=/([()\][%!^"`<>&|;, *?])/g;function yd(t){return t=t.replace($n,"^$1"),t}function Ed(t,e){return t=`${t}`,t=t.replace(/(?=(\\+?)?)\1"/g,'$1$1\\"'),t=t.replace(/(?=(\\+?)?)\1$/,"$1$1"),t=`"${t}"`,t=t.replace($n,"^$1"),e&&(t=t.replace($n,"^$1")),t}On.exports.command=yd;On.exports.argument=Ed});var ks=x((CF,Ps)=>{"use strict";Ps.exports=/^#!(.*)/});var js=x((bF,Ls)=>{"use strict";var Fd=ks();Ls.exports=(t="")=>{let e=t.match(Fd);if(!e)return null;let[r,n]=e[0].replace(/#! ?/,"").split(" "),i=r.split("/").pop();return i==="env"?n:n?`${i} ${n}`:i}});var Us=x((yF,Ns)=>{"use strict";var Bn=k("fs"),wd=js();function Sd(t){let r=Buffer.alloc(150),n;try{n=Bn.openSync(t,"r"),Bn.readSync(n,r,0,150,0),Bn.closeSync(n)}catch{}return wd(r.toString())}Ns.exports=Sd});var Hs=x((EF,Ws)=>{"use strict";var xd=k("path"),Vs=Rs(),Gs=Ms(),Ad=Us(),$d=process.platform==="win32",Od=/\.(?:com|exe)$/i,Bd=/node_modules[\\/].bin[\\/][^\\/]+\.cmd$/i;function _d(t){t.file=Vs(t);let e=t.file&&Ad(t.file);return e?(t.args.unshift(t.file),t.command=e,Vs(t)):t.file}function vd(t){if(!$d)return t;let e=_d(t),r=!Od.test(e);if(t.options.forceShell||r){let n=Bd.test(e);t.command=xd.normalize(t.command),t.command=Gs.command(t.command),t.args=t.args.map(s=>Gs.argument(s,n));let i=[t.command].concat(t.args).join(" ");t.args=["/d","/s","/c",`"${i}"`],t.command=process.env.comspec||"cmd.exe",t.options.windowsVerbatimArguments=!0}return t}function Td(t,e,r){e&&!Array.isArray(e)&&(r=e,e=null),e=e?e.slice(0):[],r=Object.assign({},r);let n={command:t,args:e,options:r,file:void 0,original:{command:t,args:e}};return r.shell?n:vd(n)}Ws.exports=Td});var Ys=x((FF,qs)=>{"use strict";var _n=process.platform==="win32";function vn(t,e){return Object.assign(new Error(`${e} ${t.command} ENOENT`),{code:"ENOENT",errno:"ENOENT",syscall:`${e} ${t.command}`,path:t.command,spawnargs:t.args})}function Id(t,e){if(!_n)return;let r=t.emit;t.emit=function(n,i){if(n==="exit"){let s=zs(i,e);if(s)return r.call(t,"error",s)}return r.apply(t,arguments)}}function zs(t,e){return _n&&t===1&&!e.file?vn(e.original,"spawn"):null}function Rd(t,e){return _n&&t===1&&!e.file?vn(e.original,"spawnSync"):null}qs.exports={hookChildProcess:Id,verifyENOENT:zs,verifyENOENTSync:Rd,notFoundError:vn}});var Xs=x((wF,ve)=>{"use strict";var Ks=k("child_process"),Tn=Hs(),In=Ys();function Js(t,e,r){let n=Tn(t,e,r),i=Ks.spawn(n.command,n.args,n.options);return In.hookChildProcess(i,n),i}function Md(t,e,r){let n=Tn(t,e,r),i=Ks.spawnSync(n.command,n.args,n.options);return i.error=i.error||In.verifyENOENTSync(i.status,n),i}ve.exports=Js;ve.exports.spawn=Js;ve.exports.sync=Md;ve.exports._parse=Tn;ve.exports._enoent=In});var si=X(ii(),1),{program:zb,createCommand:qb,createArgument:Yb,createOption:Kb,CommanderError:Jb,InvalidArgumentError:Xb,InvalidOptionArgumentError:Zb,Command:ai,Argument:Qb,Option:ey,Help:ty}=si.default;var Zl=X(he(),1);import{stripVTControlCharacters as pn}from"util";var R=X(nn(),1),He=X(he(),1);import{stdin as yi,stdout as Ei}from"process";import*as le from"readline";import pi from"readline";import{Writable as xp}from"stream";function Ap({onlyFirst:t=!1}={}){let e=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?(?:\\u0007|\\u001B\\u005C|\\u009C))","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PR-TZcf-nq-uy=><~]))"].join("|");return new RegExp(e,t?void 0:"g")}var $p=Ap();function Fi(t){if(typeof t!="string")throw new TypeError(`Expected a \`string\`, got \`${typeof t}\``);return t.replace($p,"")}function wi(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Si={exports:{}};(function(t){var e={};t.exports=e,e.eastAsianWidth=function(n){var i=n.charCodeAt(0),s=n.length==2?n.charCodeAt(1):0,o=i;return 55296<=i&&i<=56319&&56320<=s&&s<=57343&&(i&=1023,s&=1023,o=i<<10|s,o+=65536),o==12288||65281<=o&&o<=65376||65504<=o&&o<=65510?"F":o==8361||65377<=o&&o<=65470||65474<=o&&o<=65479||65482<=o&&o<=65487||65490<=o&&o<=65495||65498<=o&&o<=65500||65512<=o&&o<=65518?"H":4352<=o&&o<=4447||4515<=o&&o<=4519||4602<=o&&o<=4607||9001<=o&&o<=9002||11904<=o&&o<=11929||11931<=o&&o<=12019||12032<=o&&o<=12245||12272<=o&&o<=12283||12289<=o&&o<=12350||12353<=o&&o<=12438||12441<=o&&o<=12543||12549<=o&&o<=12589||12593<=o&&o<=12686||12688<=o&&o<=12730||12736<=o&&o<=12771||12784<=o&&o<=12830||12832<=o&&o<=12871||12880<=o&&o<=13054||13056<=o&&o<=19903||19968<=o&&o<=42124||42128<=o&&o<=42182||43360<=o&&o<=43388||44032<=o&&o<=55203||55216<=o&&o<=55238||55243<=o&&o<=55291||63744<=o&&o<=64255||65040<=o&&o<=65049||65072<=o&&o<=65106||65108<=o&&o<=65126||65128<=o&&o<=65131||110592<=o&&o<=110593||127488<=o&&o<=127490||127504<=o&&o<=127546||127552<=o&&o<=127560||127568<=o&&o<=127569||131072<=o&&o<=194367||177984<=o&&o<=196605||196608<=o&&o<=262141?"W":32<=o&&o<=126||162<=o&&o<=163||165<=o&&o<=166||o==172||o==175||10214<=o&&o<=10221||10629<=o&&o<=10630?"Na":o==161||o==164||167<=o&&o<=168||o==170||173<=o&&o<=174||176<=o&&o<=180||182<=o&&o<=186||188<=o&&o<=191||o==198||o==208||215<=o&&o<=216||222<=o&&o<=225||o==230||232<=o&&o<=234||236<=o&&o<=237||o==240||242<=o&&o<=243||247<=o&&o<=250||o==252||o==254||o==257||o==273||o==275||o==283||294<=o&&o<=295||o==299||305<=o&&o<=307||o==312||319<=o&&o<=322||o==324||328<=o&&o<=331||o==333||338<=o&&o<=339||358<=o&&o<=359||o==363||o==462||o==464||o==466||o==468||o==470||o==472||o==474||o==476||o==593||o==609||o==708||o==711||713<=o&&o<=715||o==717||o==720||728<=o&&o<=731||o==733||o==735||768<=o&&o<=879||913<=o&&o<=929||931<=o&&o<=937||945<=o&&o<=961||963<=o&&o<=969||o==1025||1040<=o&&o<=1103||o==1105||o==8208||8211<=o&&o<=8214||8216<=o&&o<=8217||8220<=o&&o<=8221||8224<=o&&o<=8226||8228<=o&&o<=8231||o==8240||8242<=o&&o<=8243||o==8245||o==8251||o==8254||o==8308||o==8319||8321<=o&&o<=8324||o==8364||o==8451||o==8453||o==8457||o==8467||o==8470||8481<=o&&o<=8482||o==8486||o==8491||8531<=o&&o<=8532||8539<=o&&o<=8542||8544<=o&&o<=8555||8560<=o&&o<=8569||o==8585||8592<=o&&o<=8601||8632<=o&&o<=8633||o==8658||o==8660||o==8679||o==8704||8706<=o&&o<=8707||8711<=o&&o<=8712||o==8715||o==8719||o==8721||o==8725||o==8730||8733<=o&&o<=8736||o==8739||o==8741||8743<=o&&o<=8748||o==8750||8756<=o&&o<=8759||8764<=o&&o<=8765||o==8776||o==8780||o==8786||8800<=o&&o<=8801||8804<=o&&o<=8807||8810<=o&&o<=8811||8814<=o&&o<=8815||8834<=o&&o<=8835||8838<=o&&o<=8839||o==8853||o==8857||o==8869||o==8895||o==8978||9312<=o&&o<=9449||9451<=o&&o<=9547||9552<=o&&o<=9587||9600<=o&&o<=9615||9618<=o&&o<=9621||9632<=o&&o<=9633||9635<=o&&o<=9641||9650<=o&&o<=9651||9654<=o&&o<=9655||9660<=o&&o<=9661||9664<=o&&o<=9665||9670<=o&&o<=9672||o==9675||9678<=o&&o<=9681||9698<=o&&o<=9701||o==9711||9733<=o&&o<=9734||o==9737||9742<=o&&o<=9743||9748<=o&&o<=9749||o==9756||o==9758||o==9792||o==9794||9824<=o&&o<=9825||9827<=o&&o<=9829||9831<=o&&o<=9834||9836<=o&&o<=9837||o==9839||9886<=o&&o<=9887||9918<=o&&o<=9919||9924<=o&&o<=9933||9935<=o&&o<=9953||o==9955||9960<=o&&o<=9983||o==10045||o==10071||10102<=o&&o<=10111||11093<=o&&o<=11097||12872<=o&&o<=12879||57344<=o&&o<=63743||65024<=o&&o<=65039||o==65533||127232<=o&&o<=127242||127248<=o&&o<=127277||127280<=o&&o<=127337||127344<=o&&o<=127386||917760<=o&&o<=917999||983040<=o&&o<=1048573||1048576<=o&&o<=1114109?"A":"N"},e.characterLength=function(n){var i=this.eastAsianWidth(n);return i=="F"||i=="W"||i=="A"?2:1};function r(n){return n.match(/[\uD800-\uDBFF][\uDC00-\uDFFF]|[^\uD800-\uDFFF]/g)||[]}e.length=function(n){for(var i=r(n),s=0,o=0;o<i.length;o++)s=s+this.characterLength(i[o]);return s},e.slice=function(n,i,s){textLen=e.length(n),i=i||0,s=s||1,i<0&&(i=textLen+i),s<0&&(s=textLen+s);for(var o="",a=0,u=r(n),l=0;l<u.length;l++){var c=u[l],p=e.length(c);if(a>=i-(p==2?1:0))if(a+p<=s)o+=c;else break;a+=p}return o}})(Si);var Op=Si.exports,Bp=wi(Op),_p=function(){return/\uD83C\uDFF4\uDB40\uDC67\uDB40\uDC62(?:\uDB40\uDC77\uDB40\uDC6C\uDB40\uDC73|\uDB40\uDC73\uDB40\uDC63\uDB40\uDC74|\uDB40\uDC65\uDB40\uDC6E\uDB40\uDC67)\uDB40\uDC7F|(?:\uD83E\uDDD1\uD83C\uDFFF\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFF\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB-\uDFFE])|(?:\uD83E\uDDD1\uD83C\uDFFE\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFE\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB-\uDFFD\uDFFF])|(?:\uD83E\uDDD1\uD83C\uDFFD\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFD\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])|(?:\uD83E\uDDD1\uD83C\uDFFC\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFC\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB\uDFFD-\uDFFF])|(?:\uD83E\uDDD1\uD83C\uDFFB\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFB\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFC-\uDFFF])|\uD83D\uDC68(?:\uD83C\uDFFB(?:\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFF]))|\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFC-\uDFFF])|[\u2695\u2696\u2708]\uFE0F|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD]))?|(?:\uD83C[\uDFFC-\uDFFF])\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFF]))|\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83D\uDC68|(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFE])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFE\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFD\uDFFF])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFC\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFD-\uDFFF])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|(?:\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])\uFE0F|\u200D(?:(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D[\uDC66\uDC67])|\uD83D[\uDC66\uDC67])|\uD83C\uDFFF|\uD83C\uDFFE|\uD83C\uDFFD|\uD83C\uDFFC)?|(?:\uD83D\uDC69(?:\uD83C\uDFFB\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69])|(?:\uD83C[\uDFFC-\uDFFF])\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69]))|\uD83E\uDDD1(?:\uD83C[\uDFFB-\uDFFF])\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1)(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|\uD83D\uDC69(?:\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFE\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFC\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFB\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD]))|\uD83E\uDDD1(?:\u200D(?:\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFE\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFC\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFB\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD]))|\uD83D\uDC69\u200D\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D[\uDC66\uDC67])|\uD83D\uDC69\u200D\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|(?:\uD83D\uDC41\uFE0F\u200D\uD83D\uDDE8|\uD83E\uDDD1(?:\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708]|\uD83C\uDFFB\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])|\uD83D\uDC69(?:\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708]|\uD83C\uDFFB\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])|\uD83D\uDE36\u200D\uD83C\uDF2B|\uD83C\uDFF3\uFE0F\u200D\u26A7|\uD83D\uDC3B\u200D\u2744|(?:(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC6F|\uD83E[\uDD3C\uDDDE\uDDDF])\u200D[\u2640\u2642]|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]|\uD83C\uDFF4\u200D\u2620|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD])\u200D[\u2640\u2642]|[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u2328\u23CF\u23ED-\u23EF\u23F1\u23F2\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB\u25FC\u2600-\u2604\u260E\u2611\u2618\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u2692\u2694-\u2697\u2699\u269B\u269C\u26A0\u26A7\u26B0\u26B1\u26C8\u26CF\u26D1\u26D3\u26E9\u26F0\u26F1\u26F4\u26F7\u26F8\u2702\u2708\u2709\u270F\u2712\u2714\u2716\u271D\u2721\u2733\u2734\u2744\u2747\u2763\u27A1\u2934\u2935\u2B05-\u2B07\u3030\u303D\u3297\u3299]|\uD83C[\uDD70\uDD71\uDD7E\uDD7F\uDE02\uDE37\uDF21\uDF24-\uDF2C\uDF36\uDF7D\uDF96\uDF97\uDF99-\uDF9B\uDF9E\uDF9F\uDFCD\uDFCE\uDFD4-\uDFDF\uDFF5\uDFF7]|\uD83D[\uDC3F\uDCFD\uDD49\uDD4A\uDD6F\uDD70\uDD73\uDD76-\uDD79\uDD87\uDD8A-\uDD8D\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA\uDECB\uDECD-\uDECF\uDEE0-\uDEE5\uDEE9\uDEF0\uDEF3])\uFE0F|\uD83C\uDFF3\uFE0F\u200D\uD83C\uDF08|\uD83D\uDC69\u200D\uD83D\uDC67|\uD83D\uDC69\u200D\uD83D\uDC66|\uD83D\uDE35\u200D\uD83D\uDCAB|\uD83D\uDE2E\u200D\uD83D\uDCA8|\uD83D\uDC15\u200D\uD83E\uDDBA|\uD83E\uDDD1(?:\uD83C\uDFFF|\uD83C\uDFFE|\uD83C\uDFFD|\uD83C\uDFFC|\uD83C\uDFFB)?|\uD83D\uDC69(?:\uD83C\uDFFF|\uD83C\uDFFE|\uD83C\uDFFD|\uD83C\uDFFC|\uD83C\uDFFB)?|\uD83C\uDDFD\uD83C\uDDF0|\uD83C\uDDF6\uD83C\uDDE6|\uD83C\uDDF4\uD83C\uDDF2|\uD83D\uDC08\u200D\u2B1B|\u2764\uFE0F\u200D(?:\uD83D\uDD25|\uD83E\uDE79)|\uD83D\uDC41\uFE0F|\uD83C\uDFF3\uFE0F|\uD83C\uDDFF(?:\uD83C[\uDDE6\uDDF2\uDDFC])|\uD83C\uDDFE(?:\uD83C[\uDDEA\uDDF9])|\uD83C\uDDFC(?:\uD83C[\uDDEB\uDDF8])|\uD83C\uDDFB(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA])|\uD83C\uDDFA(?:\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF])|\uD83C\uDDF9(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF])|\uD83C\uDDF8(?:\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF])|\uD83C\uDDF7(?:\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC])|\uD83C\uDDF5(?:\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE])|\uD83C\uDDF3(?:\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF])|\uD83C\uDDF2(?:\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF])|\uD83C\uDDF1(?:\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE])|\uD83C\uDDF0(?:\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF])|\uD83C\uDDEF(?:\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5])|\uD83C\uDDEE(?:\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9])|\uD83C\uDDED(?:\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA])|\uD83C\uDDEC(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE])|\uD83C\uDDEB(?:\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7])|\uD83C\uDDEA(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA])|\uD83C\uDDE9(?:\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF])|\uD83C\uDDE8(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF])|\uD83C\uDDE7(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF])|\uD83C\uDDE6(?:\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF])|[#\*0-9]\uFE0F\u20E3|\u2764\uFE0F|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])|\uD83C\uDFF4|(?:[\u270A\u270B]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDC8F\uDC91\uDCAA\uDD7A\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD0C\uDD0F\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD34\uDD36\uDD77\uDDB5\uDDB6\uDDBB\uDDD2\uDDD3\uDDD5])(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u270C\u270D]|\uD83D[\uDD74\uDD90])(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])|[\u270A\u270B]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC08\uDC15\uDC3B\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDC8F\uDC91\uDCAA\uDD7A\uDD95\uDD96\uDE2E\uDE35\uDE36\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD0C\uDD0F\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD34\uDD36\uDD77\uDDB5\uDDB6\uDDBB\uDDD2\uDDD3\uDDD5]|\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD]|\uD83D\uDC6F|\uD83E[\uDD3C\uDDDE\uDDDF]|[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF84\uDF86-\uDF93\uDFA0-\uDFC1\uDFC5\uDFC6\uDFC8\uDFC9\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC07\uDC09-\uDC14\uDC16-\uDC3A\uDC3C-\uDC3E\uDC40\uDC44\uDC45\uDC51-\uDC65\uDC6A\uDC79-\uDC7B\uDC7D-\uDC80\uDC84\uDC88-\uDC8E\uDC90\uDC92-\uDCA9\uDCAB-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDDA4\uDDFB-\uDE2D\uDE2F-\uDE34\uDE37-\uDE44\uDE48-\uDE4A\uDE80-\uDEA2\uDEA4-\uDEB3\uDEB7-\uDEBF\uDEC1-\uDEC5\uDED0-\uDED2\uDED5-\uDED7\uDEEB\uDEEC\uDEF4-\uDEFC\uDFE0-\uDFEB]|\uD83E[\uDD0D\uDD0E\uDD10-\uDD17\uDD1D\uDD20-\uDD25\uDD27-\uDD2F\uDD3A\uDD3F-\uDD45\uDD47-\uDD76\uDD78\uDD7A-\uDDB4\uDDB7\uDDBA\uDDBC-\uDDCB\uDDD0\uDDE0-\uDDFF\uDE70-\uDE74\uDE78-\uDE7A\uDE80-\uDE86\uDE90-\uDEA8\uDEB0-\uDEB6\uDEC0-\uDEC2\uDED0-\uDED6]|(?:[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u270A\u270B\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF93\uDFA0-\uDFCA\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF4\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC3E\uDC40\uDC42-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDD7A\uDD95\uDD96\uDDA4\uDDFB-\uDE4F\uDE80-\uDEC5\uDECC\uDED0-\uDED2\uDED5-\uDED7\uDEEB\uDEEC\uDEF4-\uDEFC\uDFE0-\uDFEB]|\uD83E[\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDD78\uDD7A-\uDDCB\uDDCD-\uDDFF\uDE70-\uDE74\uDE78-\uDE7A\uDE80-\uDE86\uDE90-\uDEA8\uDEB0-\uDEB6\uDEC0-\uDEC2\uDED0-\uDED6])|(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26A7\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDED5-\uDED7\uDEE0-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEFC\uDFE0-\uDFEB]|\uD83E[\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDD78\uDD7A-\uDDCB\uDDCD-\uDDFF\uDE70-\uDE74\uDE78-\uDE7A\uDE80-\uDE86\uDE90-\uDEA8\uDEB0-\uDEB6\uDEC0-\uDEC2\uDED0-\uDED6])\uFE0F|(?:[\u261D\u26F9\u270A-\u270D]|\uD83C[\uDF85\uDFC2-\uDFC4\uDFC7\uDFCA-\uDFCC]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66-\uDC78\uDC7C\uDC81-\uDC83\uDC85-\uDC87\uDC8F\uDC91\uDCAA\uDD74\uDD75\uDD7A\uDD90\uDD95\uDD96\uDE45-\uDE47\uDE4B-\uDE4F\uDEA3\uDEB4-\uDEB6\uDEC0\uDECC]|\uD83E[\uDD0C\uDD0F\uDD18-\uDD1F\uDD26\uDD30-\uDD39\uDD3C-\uDD3E\uDD77\uDDB5\uDDB6\uDDB8\uDDB9\uDDBB\uDDCD-\uDDCF\uDDD1-\uDDDD])/g},vp=wi(_p);function ze(t,e={}){if(typeof t!="string"||t.length===0||(e={ambiguousIsNarrow:!0,...e},t=Fi(t),t.length===0))return 0;t=t.replace(vp(),"  ");let r=e.ambiguousIsNarrow?1:2,n=0;for(let i of t){let s=i.codePointAt(0);if(!(s<=31||s>=127&&s<=159||s>=768&&s<=879))switch(Bp.eastAsianWidth(i)){case"F":case"W":n+=2;break;case"A":n+=r;break;default:n+=1}}return n}var on=10,mi=(t=0)=>e=>`\x1B[${e+t}m`,di=(t=0)=>e=>`\x1B[${38+t};5;${e}m`,Di=(t=0)=>(e,r,n)=>`\x1B[${38+t};2;${e};${r};${n}m`,w={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],overline:[53,55],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],gray:[90,39],grey:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgGray:[100,49],bgGrey:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};Object.keys(w.modifier);var Tp=Object.keys(w.color),Ip=Object.keys(w.bgColor);[...Tp,...Ip];function Rp(){let t=new Map;for(let[e,r]of Object.entries(w)){for(let[n,i]of Object.entries(r))w[n]={open:`\x1B[${i[0]}m`,close:`\x1B[${i[1]}m`},r[n]=w[n],t.set(i[0],i[1]);Object.defineProperty(w,e,{value:r,enumerable:!1})}return Object.defineProperty(w,"codes",{value:t,enumerable:!1}),w.color.close="\x1B[39m",w.bgColor.close="\x1B[49m",w.color.ansi=mi(),w.color.ansi256=di(),w.color.ansi16m=Di(),w.bgColor.ansi=mi(on),w.bgColor.ansi256=di(on),w.bgColor.ansi16m=Di(on),Object.defineProperties(w,{rgbToAnsi256:{value:(e,r,n)=>e===r&&r===n?e<8?16:e>248?231:Math.round((e-8)/247*24)+232:16+36*Math.round(e/255*5)+6*Math.round(r/255*5)+Math.round(n/255*5),enumerable:!1},hexToRgb:{value:e=>{let r=/[a-f\d]{6}|[a-f\d]{3}/i.exec(e.toString(16));if(!r)return[0,0,0];let[n]=r;n.length===3&&(n=[...n].map(s=>s+s).join(""));let i=Number.parseInt(n,16);return[i>>16&255,i>>8&255,i&255]},enumerable:!1},hexToAnsi256:{value:e=>w.rgbToAnsi256(...w.hexToRgb(e)),enumerable:!1},ansi256ToAnsi:{value:e=>{if(e<8)return 30+e;if(e<16)return 90+(e-8);let r,n,i;if(e>=232)r=((e-232)*10+8)/255,n=r,i=r;else{e-=16;let a=e%36;r=Math.floor(e/36)/5,n=Math.floor(a/6)/5,i=a%6/5}let s=Math.max(r,n,i)*2;if(s===0)return 30;let o=30+(Math.round(i)<<2|Math.round(n)<<1|Math.round(r));return s===2&&(o+=60),o},enumerable:!1},rgbToAnsi:{value:(e,r,n)=>w.ansi256ToAnsi(w.rgbToAnsi256(e,r,n)),enumerable:!1},hexToAnsi:{value:e=>w.ansi256ToAnsi(w.hexToAnsi256(e)),enumerable:!1}}),w}var Mp=Rp(),Ft=new Set(["\x1B","\x9B"]),Pp=39,un="\x07",xi="[",kp="]",Ai="m",cn=`${kp}8;;`,fi=t=>`${Ft.values().next().value}${xi}${t}${Ai}`,hi=t=>`${Ft.values().next().value}${cn}${t}${un}`,Lp=t=>t.split(" ").map(e=>ze(e)),sn=(t,e,r)=>{let n=[...e],i=!1,s=!1,o=ze(Fi(t[t.length-1]));for(let[a,u]of n.entries()){let l=ze(u);if(o+l<=r?t[t.length-1]+=u:(t.push(u),o=0),Ft.has(u)&&(i=!0,s=n.slice(a+1).join("").startsWith(cn)),i){s?u===un&&(i=!1,s=!1):u===Ai&&(i=!1);continue}o+=l,o===r&&a<n.length-1&&(t.push(""),o=0)}!o&&t[t.length-1].length>0&&t.length>1&&(t[t.length-2]+=t.pop())},jp=t=>{let e=t.split(" "),r=e.length;for(;r>0&&!(ze(e[r-1])>0);)r--;return r===e.length?t:e.slice(0,r).join(" ")+e.slice(r).join("")},Np=(t,e,r={})=>{if(r.trim!==!1&&t.trim()==="")return"";let n="",i,s,o=Lp(t),a=[""];for(let[l,c]of t.split(" ").entries()){r.trim!==!1&&(a[a.length-1]=a[a.length-1].trimStart());let p=ze(a[a.length-1]);if(l!==0&&(p>=e&&(r.wordWrap===!1||r.trim===!1)&&(a.push(""),p=0),(p>0||r.trim===!1)&&(a[a.length-1]+=" ",p++)),r.hard&&o[l]>e){let m=e-p,d=1+Math.floor((o[l]-m-1)/e);Math.floor((o[l]-1)/e)<d&&a.push(""),sn(a,c,e);continue}if(p+o[l]>e&&p>0&&o[l]>0){if(r.wordWrap===!1&&p<e){sn(a,c,e);continue}a.push("")}if(p+o[l]>e&&r.wordWrap===!1){sn(a,c,e);continue}a[a.length-1]+=c}r.trim!==!1&&(a=a.map(l=>jp(l)));let u=[...a.join(`
`)];for(let[l,c]of u.entries()){if(n+=c,Ft.has(c)){let{groups:m}=new RegExp(`(?:\\${xi}(?<code>\\d+)m|\\${cn}(?<uri>.*)${un})`).exec(u.slice(l).join(""))||{groups:{}};if(m.code!==void 0){let d=Number.parseFloat(m.code);i=d===Pp?void 0:d}else m.uri!==void 0&&(s=m.uri.length===0?void 0:m.uri)}let p=Mp.codes.get(Number(i));u[l+1]===`
`?(s&&(n+=hi("")),i&&p&&(n+=fi(p))):c===`
`&&(i&&p&&(n+=fi(i)),s&&(n+=hi(s)))}return n};function gi(t,e,r){return String(t).normalize().replace(/\r\n/g,`
`).split(`
`).map(n=>Np(n,e,r)).join(`
`)}var Up=["up","down","left","right","space","enter","cancel"],Ct={actions:new Set(Up),aliases:new Map([["k","up"],["j","down"],["h","left"],["l","right"],["","cancel"],["escape","cancel"]])};function ln(t,e){if(typeof t=="string")return Ct.aliases.get(t)===e;for(let r of t)if(r!==void 0&&ln(r,e))return!0;return!1}function Vp(t,e){if(t===e)return;let r=t.split(`
`),n=e.split(`
`),i=[];for(let s=0;s<Math.max(r.length,n.length);s++)r[s]!==n[s]&&i.push(s);return i}var Gp=globalThis.process.platform.startsWith("win"),an=Symbol("clack:cancel");function pe(t){return t===an}function gt(t,e){let r=t;r.isTTY&&r.setRawMode(e)}function $i({input:t=yi,output:e=Ei,overwrite:r=!0,hideCursor:n=!0}={}){let i=le.createInterface({input:t,output:e,prompt:"",tabSize:1});le.emitKeypressEvents(t,i),t.isTTY&&t.setRawMode(!0);let s=(o,{name:a,sequence:u})=>{let l=String(o);if(ln([l,a,u],"cancel")){n&&e.write(R.cursor.show),process.exit(0);return}if(!r)return;le.moveCursor(e,a==="return"?0:-1,a==="return"?-1:0,()=>{le.clearLine(e,1,()=>{t.once("keypress",s)})})};return n&&e.write(R.cursor.hide),t.once("keypress",s),()=>{t.off("keypress",s),n&&e.write(R.cursor.show),t.isTTY&&!Gp&&t.setRawMode(!1),i.terminal=!1,i.close()}}var Wp=Object.defineProperty,Hp=(t,e,r)=>e in t?Wp(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,L=(t,e,r)=>(Hp(t,typeof e!="symbol"?e+"":e,r),r),qe=class{constructor(e,r=!0){L(this,"input"),L(this,"output"),L(this,"_abortSignal"),L(this,"rl"),L(this,"opts"),L(this,"_render"),L(this,"_track",!1),L(this,"_prevFrame",""),L(this,"_subscribers",new Map),L(this,"_cursor",0),L(this,"state","initial"),L(this,"error",""),L(this,"value");let{input:n=yi,output:i=Ei,render:s,signal:o,...a}=e;this.opts=a,this.onKeypress=this.onKeypress.bind(this),this.close=this.close.bind(this),this.render=this.render.bind(this),this._render=s.bind(this),this._track=r,this._abortSignal=o,this.input=n,this.output=i}unsubscribe(){this._subscribers.clear()}setSubscriber(e,r){let n=this._subscribers.get(e)??[];n.push(r),this._subscribers.set(e,n)}on(e,r){this.setSubscriber(e,{cb:r})}once(e,r){this.setSubscriber(e,{cb:r,once:!0})}emit(e,...r){let n=this._subscribers.get(e)??[],i=[];for(let s of n)s.cb(...r),s.once&&i.push(()=>n.splice(n.indexOf(s),1));for(let s of i)s()}prompt(){return new Promise((e,r)=>{if(this._abortSignal){if(this._abortSignal.aborted)return this.state="cancel",this.close(),e(an);this._abortSignal.addEventListener("abort",()=>{this.state="cancel",this.close()},{once:!0})}let n=new xp;n._write=(i,s,o)=>{this._track&&(this.value=this.rl?.line.replace(/\t/g,""),this._cursor=this.rl?.cursor??0,this.emit("value",this.value)),o()},this.input.pipe(n),this.rl=pi.createInterface({input:this.input,output:n,tabSize:2,prompt:"",escapeCodeTimeout:50,terminal:!0}),pi.emitKeypressEvents(this.input,this.rl),this.rl.prompt(),this.opts.initialValue!==void 0&&this._track&&this.rl.write(this.opts.initialValue),this.input.on("keypress",this.onKeypress),gt(this.input,!0),this.output.on("resize",this.render),this.render(),this.once("submit",()=>{this.output.write(R.cursor.show),this.output.off("resize",this.render),gt(this.input,!1),e(this.value)}),this.once("cancel",()=>{this.output.write(R.cursor.show),this.output.off("resize",this.render),gt(this.input,!1),e(an)})})}onKeypress(e,r){if(this.state==="error"&&(this.state="active"),r?.name&&(!this._track&&Ct.aliases.has(r.name)&&this.emit("cursor",Ct.aliases.get(r.name)),Ct.actions.has(r.name)&&this.emit("cursor",r.name)),e&&(e.toLowerCase()==="y"||e.toLowerCase()==="n")&&this.emit("confirm",e.toLowerCase()==="y"),e==="	"&&this.opts.placeholder&&(this.value||(this.rl?.write(this.opts.placeholder),this.emit("value",this.opts.placeholder))),e&&this.emit("key",e.toLowerCase()),r?.name==="return"){if(!this.value&&this.opts.placeholder&&(this.rl?.write(this.opts.placeholder),this.emit("value",this.opts.placeholder)),this.opts.validate){let n=this.opts.validate(this.value);n&&(this.error=n instanceof Error?n.message:n,this.state="error",this.rl?.write(this.value))}this.state!=="error"&&(this.state="submit")}ln([e,r?.name,r?.sequence],"cancel")&&(this.state="cancel"),(this.state==="submit"||this.state==="cancel")&&this.emit("finalize"),this.render(),(this.state==="submit"||this.state==="cancel")&&this.close()}close(){this.input.unpipe(),this.input.removeListener("keypress",this.onKeypress),this.output.write(`
`),gt(this.input,!1),this.rl?.close(),this.rl=void 0,this.emit(`${this.state}`,this.value),this.unsubscribe()}restoreCursor(){let e=gi(this._prevFrame,process.stdout.columns,{hard:!0}).split(`
`).length-1;this.output.write(R.cursor.move(-999,e*-1))}render(){let e=gi(this._render(this)??"",process.stdout.columns,{hard:!0});if(e!==this._prevFrame){if(this.state==="initial")this.output.write(R.cursor.hide);else{let r=Vp(this._prevFrame,e);if(this.restoreCursor(),r&&r?.length===1){let n=r[0];this.output.write(R.cursor.move(0,n)),this.output.write(R.erase.lines(1));let i=e.split(`
`);this.output.write(i[n]),this._prevFrame=e,this.output.write(R.cursor.move(0,i.length-n-1));return}if(r&&r?.length>1){let n=r[0];this.output.write(R.cursor.move(0,n)),this.output.write(R.erase.down());let i=e.split(`
`).slice(n);this.output.write(i.join(`
`)),this._prevFrame=e;return}this.output.write(R.erase.down())}this.output.write(e),this.state==="initial"&&(this.state="active"),this._prevFrame=e}}};var zp;zp=new WeakMap;var qp=Object.defineProperty,Yp=(t,e,r)=>e in t?qp(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Ci=(t,e,r)=>(Yp(t,typeof e!="symbol"?e+"":e,r),r),bt=class extends qe{constructor({mask:e,...r}){super(r),Ci(this,"valueWithCursor",""),Ci(this,"_mask","\u2022"),this._mask=e??"\u2022",this.on("finalize",()=>{this.valueWithCursor=this.masked}),this.on("value",()=>{if(this.cursor>=this.value.length)this.valueWithCursor=`${this.masked}${He.default.inverse(He.default.hidden("_"))}`;else{let n=this.masked.slice(0,this.cursor),i=this.masked.slice(this.cursor);this.valueWithCursor=`${n}${He.default.inverse(i[0])}${i.slice(1)}`}})}get cursor(){return this._cursor}get masked(){return this.value.replaceAll(/./g,this._mask)}},Kp=Object.defineProperty,Jp=(t,e,r)=>e in t?Kp(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,bi=(t,e,r)=>(Jp(t,typeof e!="symbol"?e+"":e,r),r),yt=class extends qe{constructor(e){super(e,!1),bi(this,"options"),bi(this,"cursor",0),this.options=e.options,this.cursor=this.options.findIndex(({value:r})=>r===e.initialValue),this.cursor===-1&&(this.cursor=0),this.changeValue(),this.on("cursor",r=>{switch(r){case"left":case"up":this.cursor=this.cursor===0?this.options.length-1:this.cursor-1;break;case"down":case"right":this.cursor=this.cursor===this.options.length-1?0:this.cursor+1;break}this.changeValue()})}get _value(){return this.options[this.cursor]}changeValue(){this.value=this._value.value}};var Et=class extends qe{get valueWithCursor(){if(this.state==="submit")return this.value;if(this.cursor>=this.value.length)return`${this.value}\u2588`;let e=this.value.slice(0,this.cursor),[r,...n]=this.value.slice(this.cursor);return`${e}${He.default.inverse(r)}${n.join("")}`}get cursor(){return this._cursor}constructor(e){super(e),this.on("finalize",()=>{this.value||(this.value=e.defaultValue)})}};var D=X(he(),1),wt=X(nn(),1);import W from"process";function Xp(){return W.platform!=="win32"?W.env.TERM!=="linux":!!W.env.CI||!!W.env.WT_SESSION||!!W.env.TERMINUS_SUBLIME||W.env.ConEmuTask==="{cmd::Cmder}"||W.env.TERM_PROGRAM==="Terminus-Sublime"||W.env.TERM_PROGRAM==="vscode"||W.env.TERM==="xterm-256color"||W.env.TERM==="alacritty"||W.env.TERMINAL_EMULATOR==="JetBrains-JediTerm"}var mn=Xp(),A=(t,e)=>mn?t:e,Zp=A("\u25C6","*"),Bi=A("\u25A0","x"),_i=A("\u25B2","x"),St=A("\u25C7","o"),gy=A("\u250C","T"),E=A("\u2502","|"),xe=A("\u2514","\u2014"),Qp=A("\u25CF",">"),em=A("\u25CB"," "),Cy=A("\u25FB","[\u2022]"),by=A("\u25FC","[+]"),yy=A("\u25FB","[ ]"),tm=A("\u25AA","\u2022"),Oi=A("\u2500","-"),rm=A("\u256E","+"),nm=A("\u251C","+"),om=A("\u256F","+"),im=A("\u25CF","\u2022"),sm=A("\u25C6","*"),am=A("\u25B2","!"),um=A("\u25A0","x"),dn=t=>{switch(t){case"initial":case"active":return D.default.cyan(Zp);case"cancel":return D.default.red(Bi);case"error":return D.default.yellow(_i);case"submit":return D.default.green(St)}},cm=t=>{let{cursor:e,options:r,style:n}=t,i=t.maxItems??Number.POSITIVE_INFINITY,s=Math.max(process.stdout.rows-4,0),o=Math.min(s,Math.max(i,5)),a=0;e>=a+o-3?a=Math.max(Math.min(e-o+3,r.length-o),0):e<a+2&&(a=Math.max(e-2,0));let u=o<r.length&&a>0,l=o<r.length&&a+o<r.length;return r.slice(a,a+o).map((c,p,m)=>{let d=p===0&&u,f=p===m.length-1&&l;return d||f?D.default.dim("..."):n(c,p+a===e)})},xt=t=>new Et({validate:t.validate,placeholder:t.placeholder,defaultValue:t.defaultValue,initialValue:t.initialValue,render(){let e=`${D.default.gray(E)}
${dn(this.state)}  ${t.message}
`,r=t.placeholder?D.default.inverse(t.placeholder[0])+D.default.dim(t.placeholder.slice(1)):D.default.inverse(D.default.hidden("_")),n=this.value?this.valueWithCursor:r;switch(this.state){case"error":return`${e.trim()}
${D.default.yellow(E)}  ${n}
${D.default.yellow(xe)}  ${D.default.yellow(this.error)}
`;case"submit":return`${e}${D.default.gray(E)}  ${D.default.dim(this.value||t.placeholder)}`;case"cancel":return`${e}${D.default.gray(E)}  ${D.default.strikethrough(D.default.dim(this.value??""))}${this.value?.trim()?`
${D.default.gray(E)}`:""}`;default:return`${e}${D.default.cyan(E)}  ${n}
${D.default.cyan(xe)}
`}}}).prompt(),vi=t=>new bt({validate:t.validate,mask:t.mask??tm,render(){let e=`${D.default.gray(E)}
${dn(this.state)}  ${t.message}
`,r=this.valueWithCursor,n=this.masked;switch(this.state){case"error":return`${e.trim()}
${D.default.yellow(E)}  ${n}
${D.default.yellow(xe)}  ${D.default.yellow(this.error)}
`;case"submit":return`${e}${D.default.gray(E)}  ${D.default.dim(n)}`;case"cancel":return`${e}${D.default.gray(E)}  ${D.default.strikethrough(D.default.dim(n??""))}${n?`
${D.default.gray(E)}`:""}`;default:return`${e}${D.default.cyan(E)}  ${r}
${D.default.cyan(xe)}
`}}}).prompt();var Ti=t=>{let e=(r,n)=>{let i=r.label??String(r.value);switch(n){case"selected":return`${D.default.dim(i)}`;case"active":return`${D.default.green(Qp)} ${i} ${r.hint?D.default.dim(`(${r.hint})`):""}`;case"cancelled":return`${D.default.strikethrough(D.default.dim(i))}`;default:return`${D.default.dim(em)} ${D.default.dim(i)}`}};return new yt({options:t.options,initialValue:t.initialValue,render(){let r=`${D.default.gray(E)}
${dn(this.state)}  ${t.message}
`;switch(this.state){case"submit":return`${r}${D.default.gray(E)}  ${e(this.options[this.cursor],"selected")}`;case"cancel":return`${r}${D.default.gray(E)}  ${e(this.options[this.cursor],"cancelled")}
${D.default.gray(E)}`;default:return`${r}${D.default.cyan(E)}  ${cm({cursor:this.cursor,options:this.options,maxItems:t.maxItems,style:(n,i)=>e(n,i?"active":"inactive")}).join(`
${D.default.cyan(E)}  `)}
${D.default.cyan(xe)}
`}}}).prompt()};var At=(t="",e="")=>{let r=`
${t}
`.split(`
`),n=pn(e).length,i=Math.max(r.reduce((o,a)=>{let u=pn(a);return u.length>o?u.length:o},0),n)+2,s=r.map(o=>`${D.default.gray(E)}  ${D.default.dim(o)}${" ".repeat(i-pn(o).length)}${D.default.gray(E)}`).join(`
`);process.stdout.write(`${D.default.gray(E)}
${D.default.green(St)}  ${D.default.reset(e)} ${D.default.gray(Oi.repeat(Math.max(i-n-1,1))+rm)}
${s}
${D.default.gray(nm+Oi.repeat(i+2)+om)}
`)},Ae=(t="")=>{process.stdout.write(`${D.default.gray(xe)}  ${D.default.red(t)}

`)};var M={message:(t="",{symbol:e=D.default.gray(E)}={})=>{let r=[`${D.default.gray(E)}`];if(t){let[n,...i]=t.split(`
`);r.push(`${e}  ${n}`,...i.map(s=>`${D.default.gray(E)}  ${s}`))}process.stdout.write(`${r.join(`
`)}
`)},info:t=>{M.message(t,{symbol:D.default.blue(im)})},success:t=>{M.message(t,{symbol:D.default.green(sm)})},step:t=>{M.message(t,{symbol:D.default.green(St)})},warn:t=>{M.message(t,{symbol:D.default.yellow(am)})},warning:t=>{M.warn(t)},error:t=>{M.message(t,{symbol:D.default.red(um)})}},Ey=`${D.default.gray(E)}  `;var I=({indicator:t="dots"}={})=>{let e=mn?["\u25D2","\u25D0","\u25D3","\u25D1"]:["\u2022","o","O","0"],r=mn?80:120,n=process.env.CI==="true",i,s,o=!1,a="",u,l=performance.now(),c=y=>{let S=y>1?"Something went wrong":"Canceled";o&&T(S,y)},p=()=>c(2),m=()=>c(1),d=()=>{process.on("uncaughtExceptionMonitor",p),process.on("unhandledRejection",p),process.on("SIGINT",m),process.on("SIGTERM",m),process.on("exit",c)},f=()=>{process.removeListener("uncaughtExceptionMonitor",p),process.removeListener("unhandledRejection",p),process.removeListener("SIGINT",m),process.removeListener("SIGTERM",m),process.removeListener("exit",c)},g=()=>{if(u===void 0)return;n&&process.stdout.write(`
`);let y=u.split(`
`);process.stdout.write(wt.cursor.move(-999,y.length-1)),process.stdout.write(wt.erase.down(y.length))},F=y=>y.replace(/\.+$/,""),b=y=>{let S=(performance.now()-y)/1e3,_=Math.floor(S/60),P=Math.floor(S%60);return _>0?`[${_}m ${P}s]`:`[${P}s]`},O=(y="")=>{o=!0,i=$i(),a=F(y),l=performance.now(),process.stdout.write(`${D.default.gray(E)}
`);let S=0,_=0;d(),s=setInterval(()=>{if(n&&a===u)return;g(),u=a;let P=D.default.magenta(e[S]);if(n)process.stdout.write(`${P}  ${a}...`);else if(t==="timer")process.stdout.write(`${P}  ${a} ${b(l)}`);else{let ue=".".repeat(Math.floor(_)).slice(0,3);process.stdout.write(`${P}  ${a}${ue}`)}S=S+1<e.length?S+1:0,_=_<e.length?_+.125:0},r)},T=(y="",S=0)=>{o=!1,clearInterval(s),g();let _=S===0?D.default.green(St):S===1?D.default.red(Bi):D.default.red(_i);a=F(y??a),t==="timer"?process.stdout.write(`${_}  ${a} ${b(l)}
`):process.stdout.write(`${_}  ${a}
`),f(),i()};return{start:O,stop:T,message:(y="")=>{a=F(y??a)}}};var pt=X(he(),1);import Dn from"fs";import Pi from"path";var Ii="spree@example.com",Ri="spree123";function B(t=process.cwd()){let e=Pi.join(t,"docker-compose.yml");if(!Dn.existsSync(e))throw new Error(`Not a Spree project directory. No docker-compose.yml found.
Run this command from a directory created with create-spree-app.`);let r=lm(t);return{mode:"docker",projectDir:t,port:r}}function lm(t){let e=Pi.join(t,".env");if(!Dn.existsSync(e))return 3e3;let n=Dn.readFileSync(e,"utf-8").match(/^SPREE_PORT=(\d+)/m);return n?Number(n[1]):3e3}function $(t){if(typeof t!="object"||t===null)return!1;let e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}import{fileURLToPath as pm}from"url";var $e=(t,e)=>{let r=hn(mm(t));if(typeof r!="string")throw new TypeError(`${e} must be a string or a file URL: ${r}.`);return r},mm=t=>fn(t)?t.toString():t,fn=t=>typeof t!="string"&&t&&Object.getPrototypeOf(t)===String.prototype,hn=t=>t instanceof URL?pm(t):t;var $t=(t,e=[],r={})=>{let n=$e(t,"First argument"),[i,s]=$(e)?[[],e]:[e,r];if(!Array.isArray(i))throw new TypeError(`Second argument must be either an array of arguments or an options object: ${i}`);if(i.some(u=>typeof u=="object"&&u!==null))throw new TypeError(`Second argument must be an array of strings: ${i}`);let o=i.map(String),a=o.find(u=>u.includes("\0"));if(a!==void 0)throw new TypeError(`Arguments cannot contain null bytes ("\\0"): ${a}`);if(!$(s))throw new TypeError(`Last argument must be an options object: ${s}`);return[n,o,s]};import{ChildProcess as bm}from"child_process";import{StringDecoder as dm}from"string_decoder";var{toString:ki}=Object.prototype,Li=t=>ki.call(t)==="[object ArrayBuffer]",v=t=>ki.call(t)==="[object Uint8Array]",oe=t=>new Uint8Array(t.buffer,t.byteOffset,t.byteLength),Dm=new TextEncoder,ji=t=>Dm.encode(t),fm=new TextDecoder,Ot=t=>fm.decode(t),Ni=(t,e)=>hm(t,e).join(""),hm=(t,e)=>{if(e==="utf8"&&t.every(s=>typeof s=="string"))return t;let r=new dm(e),n=t.map(s=>typeof s=="string"?ji(s):s).map(s=>r.write(s)),i=r.end();return i===""?n:[...n,i]},Ye=t=>t.length===1&&v(t[0])?t[0]:gn(gm(t)),gm=t=>t.map(e=>typeof e=="string"?ji(e):e),gn=t=>{let e=new Uint8Array(Cm(t)),r=0;for(let n of t)e.set(n,r),r+=n.length;return e},Cm=t=>{let e=0;for(let r of t)e+=r.length;return e};var Wi=t=>Array.isArray(t)&&Array.isArray(t.raw),Hi=(t,e)=>{let r=[];for(let[s,o]of t.entries())r=ym({templates:t,expressions:e,tokens:r,index:s,template:o});if(r.length===0)throw new TypeError("Template script must not be empty");let[n,...i]=r;return[n,i,{}]},ym=({templates:t,expressions:e,tokens:r,index:n,template:i})=>{if(i===void 0)throw new TypeError(`Invalid backslash sequence: ${t.raw[n]}`);let{nextTokens:s,leadingWhitespaces:o,trailingWhitespaces:a}=Em(i,t.raw[n]),u=Vi(r,s,o);if(n===e.length)return u;let l=e[n],c=Array.isArray(l)?l.map(p=>Gi(p)):[Gi(l)];return Vi(u,c,a)},Em=(t,e)=>{if(e.length===0)return{nextTokens:[],leadingWhitespaces:!1,trailingWhitespaces:!1};let r=[],n=0,i=Ui.has(e[0]);for(let o=0,a=0;o<t.length;o+=1,a+=1){let u=e[a];if(Ui.has(u))n!==o&&r.push(t.slice(n,o)),n=o+1;else if(u==="\\"){let l=e[a+1];l===`
`?(o-=1,a+=1):l==="u"&&e[a+2]==="{"?a=e.indexOf("}",a+3):a+=Fm[l]??1}}let s=n===t.length;return s||r.push(t.slice(n)),{nextTokens:r,leadingWhitespaces:i,trailingWhitespaces:s}},Ui=new Set([" ","	","\r",`
`]),Fm={x:3,u:5},Vi=(t,e,r)=>r||t.length===0||e.length===0?[...t,...e]:[...t.slice(0,-1),`${t.at(-1)}${e[0]}`,...e.slice(1)],Gi=t=>{let e=typeof t;if(e==="string")return t;if(e==="number")return String(t);if($(t)&&("stdout"in t||"isMaxBuffer"in t))return wm(t);throw t instanceof bm||Object.prototype.toString.call(t)==="[object Promise]"?new TypeError("Unexpected subprocess in template expression. Please use ${await subprocess} instead of ${subprocess}."):new TypeError(`Unexpected "${e}" in template expression`)},wm=({stdout:t})=>{if(typeof t=="string")return t;if(v(t))return Ot(t);throw t===void 0?new TypeError(`Missing result.stdout in template expression. This is probably due to the previous subprocess' "stdout" option.`):new TypeError(`Unexpected "${typeof t}" stdout in template expression`)};import{spawnSync as Og}from"child_process";import{debuglog as Sm}from"util";import Cn from"process";var H=t=>Bt.includes(t),Bt=[Cn.stdin,Cn.stdout,Cn.stderr],V=["stdin","stdout","stderr"],_t=t=>V[t]??`stdio[${t}]`;var qi=t=>{let e={...t};for(let r of En)e[r]=bn(t,r);return e},bn=(t,e)=>{let r=Array.from({length:xm(t)+1}),n=Am(t[e],r,e);return vm(n,e)},xm=({stdio:t})=>Array.isArray(t)?Math.max(t.length,V.length):V.length,Am=(t,e,r)=>$(t)?$m(t,e,r):e.fill(t),$m=(t,e,r)=>{for(let n of Object.keys(t).sort(Om))for(let i of Bm(n,r,e))e[i]=t[n];return e},Om=(t,e)=>zi(t)<zi(e)?1:-1,zi=t=>t==="stdout"||t==="stderr"?0:t==="all"?2:1,Bm=(t,e,r)=>{if(t==="ipc")return[r.length-1];let n=yn(t);if(n===void 0||n===0)throw new TypeError(`"${e}.${t}" is invalid.
It must be "${e}.stdout", "${e}.stderr", "${e}.all", "${e}.ipc", or "${e}.fd3", "${e}.fd4" (and so on).`);if(n>=r.length)throw new TypeError(`"${e}.${t}" is invalid: that file descriptor does not exist.
Please set the "stdio" option to ensure that file descriptor exists.`);return n==="all"?[1,2]:[n]},yn=t=>{if(t==="all")return t;if(V.includes(t))return V.indexOf(t);let e=_m.exec(t);if(e!==null)return Number(e[1])},_m=/^fd(\d+)$/,vm=(t,e)=>t.map(r=>r===void 0?Im[e]:r),Tm=Sm("execa").enabled?"full":"none",Im={lines:!1,buffer:!0,maxBuffer:1e3*1e3*100,verbose:Tm,stripFinalNewline:!0},En=["lines","buffer","maxBuffer","verbose","stripFinalNewline"],ie=(t,e)=>e==="ipc"?t.at(-1):t[e];var Oe=({verbose:t},e)=>Fn(t,e)!=="none",Be=({verbose:t},e)=>!["none","short"].includes(Fn(t,e)),Yi=({verbose:t},e)=>{let r=Fn(t,e);return vt(r)?r:void 0},Fn=(t,e)=>e===void 0?Rm(t):ie(t,e),Rm=t=>t.find(e=>vt(e))??Tt.findLast(e=>t.includes(e)),vt=t=>typeof t=="function",Tt=["none","short","full"];import{inspect as rd}from"util";import{platform as Mm}from"process";import{stripVTControlCharacters as Pm}from"util";var Ki=(t,e)=>{let r=[t,...e],n=r.join(" "),i=r.map(s=>Vm(Ji(s))).join(" ");return{command:n,escapedCommand:i}},Ke=t=>Pm(t).split(`
`).map(e=>Ji(e)).join(`
`),Ji=t=>t.replaceAll(jm,e=>km(e)),km=t=>{let e=Nm[t];if(e!==void 0)return e;let r=t.codePointAt(0),n=r.toString(16);return r<=Um?`\\u${n.padStart(4,"0")}`:`\\U${n}`},Lm=()=>{try{return new RegExp("\\p{Separator}|\\p{Other}","gu")}catch{return/[\s\u0000-\u001F\u007F-\u009F\u00AD]/g}},jm=Lm(),Nm={" ":" ","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t"},Um=65535,Vm=t=>Gm.test(t)?t:Mm==="win32"?`"${t.replaceAll('"','""')}"`:`'${t.replaceAll("'","'\\''")}'`,Gm=/^[\w./-]+$/;import Xi from"process";function wn(){let{env:t}=Xi,{TERM:e,TERM_PROGRAM:r}=t;return Xi.platform!=="win32"?e!=="linux":!!t.WT_SESSION||!!t.TERMINUS_SUBLIME||t.ConEmuTask==="{cmd::Cmder}"||r==="Terminus-Sublime"||r==="vscode"||e==="xterm-256color"||e==="alacritty"||e==="rxvt-unicode"||e==="rxvt-unicode-256color"||t.TERMINAL_EMULATOR==="JetBrains-JediTerm"}var Zi={circleQuestionMark:"(?)",questionMarkPrefix:"(?)",square:"\u2588",squareDarkShade:"\u2593",squareMediumShade:"\u2592",squareLightShade:"\u2591",squareTop:"\u2580",squareBottom:"\u2584",squareLeft:"\u258C",squareRight:"\u2590",squareCenter:"\u25A0",bullet:"\u25CF",dot:"\u2024",ellipsis:"\u2026",pointerSmall:"\u203A",triangleUp:"\u25B2",triangleUpSmall:"\u25B4",triangleDown:"\u25BC",triangleDownSmall:"\u25BE",triangleLeftSmall:"\u25C2",triangleRightSmall:"\u25B8",home:"\u2302",heart:"\u2665",musicNote:"\u266A",musicNoteBeamed:"\u266B",arrowUp:"\u2191",arrowDown:"\u2193",arrowLeft:"\u2190",arrowRight:"\u2192",arrowLeftRight:"\u2194",arrowUpDown:"\u2195",almostEqual:"\u2248",notEqual:"\u2260",lessOrEqual:"\u2264",greaterOrEqual:"\u2265",identical:"\u2261",infinity:"\u221E",subscriptZero:"\u2080",subscriptOne:"\u2081",subscriptTwo:"\u2082",subscriptThree:"\u2083",subscriptFour:"\u2084",subscriptFive:"\u2085",subscriptSix:"\u2086",subscriptSeven:"\u2087",subscriptEight:"\u2088",subscriptNine:"\u2089",oneHalf:"\xBD",oneThird:"\u2153",oneQuarter:"\xBC",oneFifth:"\u2155",oneSixth:"\u2159",oneEighth:"\u215B",twoThirds:"\u2154",twoFifths:"\u2156",threeQuarters:"\xBE",threeFifths:"\u2157",threeEighths:"\u215C",fourFifths:"\u2158",fiveSixths:"\u215A",fiveEighths:"\u215D",sevenEighths:"\u215E",line:"\u2500",lineBold:"\u2501",lineDouble:"\u2550",lineDashed0:"\u2504",lineDashed1:"\u2505",lineDashed2:"\u2508",lineDashed3:"\u2509",lineDashed4:"\u254C",lineDashed5:"\u254D",lineDashed6:"\u2574",lineDashed7:"\u2576",lineDashed8:"\u2578",lineDashed9:"\u257A",lineDashed10:"\u257C",lineDashed11:"\u257E",lineDashed12:"\u2212",lineDashed13:"\u2013",lineDashed14:"\u2010",lineDashed15:"\u2043",lineVertical:"\u2502",lineVerticalBold:"\u2503",lineVerticalDouble:"\u2551",lineVerticalDashed0:"\u2506",lineVerticalDashed1:"\u2507",lineVerticalDashed2:"\u250A",lineVerticalDashed3:"\u250B",lineVerticalDashed4:"\u254E",lineVerticalDashed5:"\u254F",lineVerticalDashed6:"\u2575",lineVerticalDashed7:"\u2577",lineVerticalDashed8:"\u2579",lineVerticalDashed9:"\u257B",lineVerticalDashed10:"\u257D",lineVerticalDashed11:"\u257F",lineDownLeft:"\u2510",lineDownLeftArc:"\u256E",lineDownBoldLeftBold:"\u2513",lineDownBoldLeft:"\u2512",lineDownLeftBold:"\u2511",lineDownDoubleLeftDouble:"\u2557",lineDownDoubleLeft:"\u2556",lineDownLeftDouble:"\u2555",lineDownRight:"\u250C",lineDownRightArc:"\u256D",lineDownBoldRightBold:"\u250F",lineDownBoldRight:"\u250E",lineDownRightBold:"\u250D",lineDownDoubleRightDouble:"\u2554",lineDownDoubleRight:"\u2553",lineDownRightDouble:"\u2552",lineUpLeft:"\u2518",lineUpLeftArc:"\u256F",lineUpBoldLeftBold:"\u251B",lineUpBoldLeft:"\u251A",lineUpLeftBold:"\u2519",lineUpDoubleLeftDouble:"\u255D",lineUpDoubleLeft:"\u255C",lineUpLeftDouble:"\u255B",lineUpRight:"\u2514",lineUpRightArc:"\u2570",lineUpBoldRightBold:"\u2517",lineUpBoldRight:"\u2516",lineUpRightBold:"\u2515",lineUpDoubleRightDouble:"\u255A",lineUpDoubleRight:"\u2559",lineUpRightDouble:"\u2558",lineUpDownLeft:"\u2524",lineUpBoldDownBoldLeftBold:"\u252B",lineUpBoldDownBoldLeft:"\u2528",lineUpDownLeftBold:"\u2525",lineUpBoldDownLeftBold:"\u2529",lineUpDownBoldLeftBold:"\u252A",lineUpDownBoldLeft:"\u2527",lineUpBoldDownLeft:"\u2526",lineUpDoubleDownDoubleLeftDouble:"\u2563",lineUpDoubleDownDoubleLeft:"\u2562",lineUpDownLeftDouble:"\u2561",lineUpDownRight:"\u251C",lineUpBoldDownBoldRightBold:"\u2523",lineUpBoldDownBoldRight:"\u2520",lineUpDownRightBold:"\u251D",lineUpBoldDownRightBold:"\u2521",lineUpDownBoldRightBold:"\u2522",lineUpDownBoldRight:"\u251F",lineUpBoldDownRight:"\u251E",lineUpDoubleDownDoubleRightDouble:"\u2560",lineUpDoubleDownDoubleRight:"\u255F",lineUpDownRightDouble:"\u255E",lineDownLeftRight:"\u252C",lineDownBoldLeftBoldRightBold:"\u2533",lineDownLeftBoldRightBold:"\u252F",lineDownBoldLeftRight:"\u2530",lineDownBoldLeftBoldRight:"\u2531",lineDownBoldLeftRightBold:"\u2532",lineDownLeftRightBold:"\u252E",lineDownLeftBoldRight:"\u252D",lineDownDoubleLeftDoubleRightDouble:"\u2566",lineDownDoubleLeftRight:"\u2565",lineDownLeftDoubleRightDouble:"\u2564",lineUpLeftRight:"\u2534",lineUpBoldLeftBoldRightBold:"\u253B",lineUpLeftBoldRightBold:"\u2537",lineUpBoldLeftRight:"\u2538",lineUpBoldLeftBoldRight:"\u2539",lineUpBoldLeftRightBold:"\u253A",lineUpLeftRightBold:"\u2536",lineUpLeftBoldRight:"\u2535",lineUpDoubleLeftDoubleRightDouble:"\u2569",lineUpDoubleLeftRight:"\u2568",lineUpLeftDoubleRightDouble:"\u2567",lineUpDownLeftRight:"\u253C",lineUpBoldDownBoldLeftBoldRightBold:"\u254B",lineUpDownBoldLeftBoldRightBold:"\u2548",lineUpBoldDownLeftBoldRightBold:"\u2547",lineUpBoldDownBoldLeftRightBold:"\u254A",lineUpBoldDownBoldLeftBoldRight:"\u2549",lineUpBoldDownLeftRight:"\u2540",lineUpDownBoldLeftRight:"\u2541",lineUpDownLeftBoldRight:"\u253D",lineUpDownLeftRightBold:"\u253E",lineUpBoldDownBoldLeftRight:"\u2542",lineUpDownLeftBoldRightBold:"\u253F",lineUpBoldDownLeftBoldRight:"\u2543",lineUpBoldDownLeftRightBold:"\u2544",lineUpDownBoldLeftBoldRight:"\u2545",lineUpDownBoldLeftRightBold:"\u2546",lineUpDoubleDownDoubleLeftDoubleRightDouble:"\u256C",lineUpDoubleDownDoubleLeftRight:"\u256B",lineUpDownLeftDoubleRightDouble:"\u256A",lineCross:"\u2573",lineBackslash:"\u2572",lineSlash:"\u2571"},Qi={tick:"\u2714",info:"\u2139",warning:"\u26A0",cross:"\u2718",squareSmall:"\u25FB",squareSmallFilled:"\u25FC",circle:"\u25EF",circleFilled:"\u25C9",circleDotted:"\u25CC",circleDouble:"\u25CE",circleCircle:"\u24DE",circleCross:"\u24E7",circlePipe:"\u24BE",radioOn:"\u25C9",radioOff:"\u25EF",checkboxOn:"\u2612",checkboxOff:"\u2610",checkboxCircleOn:"\u24E7",checkboxCircleOff:"\u24BE",pointer:"\u276F",triangleUpOutline:"\u25B3",triangleLeft:"\u25C0",triangleRight:"\u25B6",lozenge:"\u25C6",lozengeOutline:"\u25C7",hamburger:"\u2630",smiley:"\u32E1",mustache:"\u0DF4",star:"\u2605",play:"\u25B6",nodejs:"\u2B22",oneSeventh:"\u2150",oneNinth:"\u2151",oneTenth:"\u2152"},Wm={tick:"\u221A",info:"i",warning:"\u203C",cross:"\xD7",squareSmall:"\u25A1",squareSmallFilled:"\u25A0",circle:"( )",circleFilled:"(*)",circleDotted:"( )",circleDouble:"( )",circleCircle:"(\u25CB)",circleCross:"(\xD7)",circlePipe:"(\u2502)",radioOn:"(*)",radioOff:"( )",checkboxOn:"[\xD7]",checkboxOff:"[ ]",checkboxCircleOn:"(\xD7)",checkboxCircleOff:"( )",pointer:">",triangleUpOutline:"\u2206",triangleLeft:"\u25C4",triangleRight:"\u25BA",lozenge:"\u2666",lozengeOutline:"\u25CA",hamburger:"\u2261",smiley:"\u263A",mustache:"\u250C\u2500\u2510",star:"\u2736",play:"\u25BA",nodejs:"\u2666",oneSeventh:"1/7",oneNinth:"1/9",oneTenth:"1/10"},Hm={...Zi,...Qi},zm={...Zi,...Wm},qm=wn(),Ym=qm?Hm:zm,It=Ym,eE=Object.entries(Qi);import Km from"tty";var Jm=Km?.WriteStream?.prototype?.hasColors?.()??!1,h=(t,e)=>{if(!Jm)return i=>i;let r=`\x1B[${t}m`,n=`\x1B[${e}m`;return i=>{let s=i+"",o=s.indexOf(n);if(o===-1)return r+s+n;let a=r,u=0,c=(e===22?n:"")+r;for(;o!==-1;)a+=s.slice(u,o)+c,u=o+n.length,o=s.indexOf(n,u);return a+=s.slice(u)+n,a}},nE=h(0,0),es=h(1,22),oE=h(2,22),iE=h(3,23),sE=h(4,24),aE=h(53,55),uE=h(7,27),cE=h(8,28),lE=h(9,29),pE=h(30,39),mE=h(31,39),dE=h(32,39),DE=h(33,39),fE=h(34,39),hE=h(35,39),gE=h(36,39),CE=h(37,39),Rt=h(90,39),bE=h(40,49),yE=h(41,49),EE=h(42,49),FE=h(43,49),wE=h(44,49),SE=h(45,49),xE=h(46,49),AE=h(47,49),$E=h(100,49),ts=h(91,39),OE=h(92,39),rs=h(93,39),BE=h(94,39),_E=h(95,39),vE=h(96,39),TE=h(97,39),IE=h(101,49),RE=h(102,49),ME=h(103,49),PE=h(104,49),kE=h(105,49),LE=h(106,49),jE=h(107,49);var is=({type:t,message:e,timestamp:r,piped:n,commandId:i,result:{failed:s=!1}={},options:{reject:o=!0}})=>{let a=Xm(r),u=Zm[t]({failed:s,reject:o,piped:n}),l=Qm[t]({reject:o});return`${Rt(`[${a}]`)} ${Rt(`[${i}]`)} ${l(u)} ${l(e)}`},Xm=t=>`${Mt(t.getHours(),2)}:${Mt(t.getMinutes(),2)}:${Mt(t.getSeconds(),2)}.${Mt(t.getMilliseconds(),3)}`,Mt=(t,e)=>String(t).padStart(e,"0"),ns=({failed:t,reject:e})=>t?e?It.cross:It.warning:It.tick,Zm={command:({piped:t})=>t?"|":"$",output:()=>" ",ipc:()=>"*",error:ns,duration:ns},os=t=>t,Qm={command:()=>es,output:()=>os,ipc:()=>os,error:({reject:t})=>t?ts:rs,duration:()=>Rt};var ss=(t,e,r)=>{let n=Yi(e,r);return t.map(({verboseLine:i,verboseObject:s})=>ed(i,s,n)).filter(i=>i!==void 0).map(i=>td(i)).join("")},ed=(t,e,r)=>{if(r===void 0)return t;let n=r(t,e);if(typeof n=="string")return n},td=t=>t.endsWith(`
`)?t:`${t}
`;var Z=({type:t,verboseMessage:e,fdNumber:r,verboseInfo:n,result:i})=>{let s=nd({type:t,result:i,verboseInfo:n}),o=od(e,s),a=ss(o,n,r);a!==""&&console.warn(a.slice(0,-1))},nd=({type:t,result:e,verboseInfo:{escapedCommand:r,commandId:n,rawOptions:{piped:i=!1,...s}}})=>({type:t,escapedCommand:r,commandId:`${n}`,timestamp:new Date,piped:i,result:e,options:s}),od=(t,e)=>t.split(`
`).map(r=>id({...e,message:r})),id=t=>({verboseLine:is(t),verboseObject:t}),Pt=t=>{let e=typeof t=="string"?t:rd(t);return Ke(e).replaceAll("	"," ".repeat(sd))},sd=2;var as=(t,e)=>{Oe(e)&&Z({type:"command",verboseMessage:t,verboseInfo:e})};var us=(t,e,r)=>{cd(t);let n=ad(t);return{verbose:t,escapedCommand:e,commandId:n,rawOptions:r}},ad=t=>Oe({verbose:t})?ud++:void 0,ud=0n,cd=t=>{for(let e of t){if(e===!1)throw new TypeError(`The "verbose: false" option was renamed to "verbose: 'none'".`);if(e===!0)throw new TypeError(`The "verbose: true" option was renamed to "verbose: 'short'".`);if(!Tt.includes(e)&&!vt(e)){let r=Tt.map(n=>`'${n}'`).join(", ");throw new TypeError(`The "verbose" option must not be ${e}. Allowed values are: ${r} or a function.`)}}};import{hrtime as cs}from"process";var kt=()=>cs.bigint(),Sn=t=>Number(cs.bigint()-t)/1e6;var Lt=(t,e,r)=>{let n=kt(),{command:i,escapedCommand:s}=Ki(t,e),o=bn(r,"verbose"),a=us(o,s,{...r});return as(s,a),{command:i,escapedCommand:s,startTime:n,verboseInfo:a}};var uu=X(Xs(),1);import zD from"path";import au from"process";import Vt from"process";import Ce from"path";function Nt(t={}){let{env:e=process.env,platform:r=process.platform}=t;return r!=="win32"?"PATH":Object.keys(e).reverse().find(n=>n.toUpperCase()==="PATH")||"Path"}import{promisify as Pd}from"util";import{execFile as kd,execFileSync as $F}from"child_process";import Zs from"path";import{fileURLToPath as Ld}from"url";var _F=Pd(kd);function Ut(t){return t instanceof URL?Ld(t):t}function Qs(t){return{*[Symbol.iterator](){let e=Zs.resolve(Ut(t)),r;for(;r!==e;)yield e,r=e,e=Zs.resolve(e,"..")}}}var vF=10*1024*1024;var jd=({cwd:t=Vt.cwd(),path:e=Vt.env[Nt()],preferLocal:r=!0,execPath:n=Vt.execPath,addExecPath:i=!0}={})=>{let s=Ce.resolve(Ut(t)),o=[],a=e.split(Ce.delimiter);return r&&Nd(o,a,s),i&&Ud(o,a,n,s),e===""||e===Ce.delimiter?`${o.join(Ce.delimiter)}${e}`:[...o,e].join(Ce.delimiter)},Nd=(t,e,r)=>{for(let n of Qs(r)){let i=Ce.join(n,"node_modules/.bin");e.includes(i)||t.push(i)}},Ud=(t,e,r,n)=>{let i=Ce.resolve(n,Ut(r),"..");e.includes(i)||t.push(i)},ea=({env:t=Vt.env,...e}={})=>{t={...t};let r=Nt({env:t});return e.path=t[r],t[r]=jd(e),t};import{setTimeout as rD}from"timers/promises";var ta=(t,e,r)=>{let n=r?Xe:Je,i=t instanceof z?{}:{cause:t};return new n(e,i)},z=class extends Error{},ra=(t,e)=>{Object.defineProperty(t.prototype,"name",{value:e,writable:!0,enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,oa,{value:!0,writable:!1,enumerable:!1,configurable:!1})},na=t=>Gt(t)&&oa in t,oa=Symbol("isExecaError"),Gt=t=>Object.prototype.toString.call(t)==="[object Error]",Je=class extends Error{};ra(Je,Je.name);var Xe=class extends Error{};ra(Xe,Xe.name);import{constants as Ze}from"os";import{constants as Hd}from"os";var ia=()=>{let t=aa-sa+1;return Array.from({length:t},Vd)},Vd=(t,e)=>({name:`SIGRT${e+1}`,number:sa+e,action:"terminate",description:"Application-specific signal (realtime)",standard:"posix"}),sa=34,aa=64;import{constants as Gd}from"os";var ua=[{name:"SIGHUP",number:1,action:"terminate",description:"Terminal closed",standard:"posix"},{name:"SIGINT",number:2,action:"terminate",description:"User interruption with CTRL-C",standard:"ansi"},{name:"SIGQUIT",number:3,action:"core",description:"User interruption with CTRL-\\",standard:"posix"},{name:"SIGILL",number:4,action:"core",description:"Invalid machine instruction",standard:"ansi"},{name:"SIGTRAP",number:5,action:"core",description:"Debugger breakpoint",standard:"posix"},{name:"SIGABRT",number:6,action:"core",description:"Aborted",standard:"ansi"},{name:"SIGIOT",number:6,action:"core",description:"Aborted",standard:"bsd"},{name:"SIGBUS",number:7,action:"core",description:"Bus error due to misaligned, non-existing address or paging error",standard:"bsd"},{name:"SIGEMT",number:7,action:"terminate",description:"Command should be emulated but is not implemented",standard:"other"},{name:"SIGFPE",number:8,action:"core",description:"Floating point arithmetic error",standard:"ansi"},{name:"SIGKILL",number:9,action:"terminate",description:"Forced termination",standard:"posix",forced:!0},{name:"SIGUSR1",number:10,action:"terminate",description:"Application-specific signal",standard:"posix"},{name:"SIGSEGV",number:11,action:"core",description:"Segmentation fault",standard:"ansi"},{name:"SIGUSR2",number:12,action:"terminate",description:"Application-specific signal",standard:"posix"},{name:"SIGPIPE",number:13,action:"terminate",description:"Broken pipe or socket",standard:"posix"},{name:"SIGALRM",number:14,action:"terminate",description:"Timeout or timer",standard:"posix"},{name:"SIGTERM",number:15,action:"terminate",description:"Termination",standard:"ansi"},{name:"SIGSTKFLT",number:16,action:"terminate",description:"Stack is empty or overflowed",standard:"other"},{name:"SIGCHLD",number:17,action:"ignore",description:"Child process terminated, paused or unpaused",standard:"posix"},{name:"SIGCLD",number:17,action:"ignore",description:"Child process terminated, paused or unpaused",standard:"other"},{name:"SIGCONT",number:18,action:"unpause",description:"Unpaused",standard:"posix",forced:!0},{name:"SIGSTOP",number:19,action:"pause",description:"Paused",standard:"posix",forced:!0},{name:"SIGTSTP",number:20,action:"pause",description:'Paused using CTRL-Z or "suspend"',standard:"posix"},{name:"SIGTTIN",number:21,action:"pause",description:"Background process cannot read terminal input",standard:"posix"},{name:"SIGBREAK",number:21,action:"terminate",description:"User interruption with CTRL-BREAK",standard:"other"},{name:"SIGTTOU",number:22,action:"pause",description:"Background process cannot write to terminal output",standard:"posix"},{name:"SIGURG",number:23,action:"ignore",description:"Socket received out-of-band data",standard:"bsd"},{name:"SIGXCPU",number:24,action:"core",description:"Process timed out",standard:"bsd"},{name:"SIGXFSZ",number:25,action:"core",description:"File too big",standard:"bsd"},{name:"SIGVTALRM",number:26,action:"terminate",description:"Timeout or timer",standard:"bsd"},{name:"SIGPROF",number:27,action:"terminate",description:"Timeout or timer",standard:"bsd"},{name:"SIGWINCH",number:28,action:"ignore",description:"Terminal window size changed",standard:"bsd"},{name:"SIGIO",number:29,action:"terminate",description:"I/O is available",standard:"other"},{name:"SIGPOLL",number:29,action:"terminate",description:"Watched event",standard:"other"},{name:"SIGINFO",number:29,action:"ignore",description:"Request for process information",standard:"other"},{name:"SIGPWR",number:30,action:"terminate",description:"Device running out of power",standard:"systemv"},{name:"SIGSYS",number:31,action:"core",description:"Invalid system call",standard:"other"},{name:"SIGUNUSED",number:31,action:"terminate",description:"Invalid system call",standard:"other"}];var Rn=()=>{let t=ia();return[...ua,...t].map(Wd)},Wd=({name:t,number:e,description:r,action:n,forced:i=!1,standard:s})=>{let{signals:{[t]:o}}=Gd,a=o!==void 0;return{name:t,number:a?o:e,description:r,supported:a,action:n,forced:i,standard:s}};var zd=()=>{let t=Rn();return Object.fromEntries(t.map(qd))},qd=({name:t,number:e,description:r,supported:n,action:i,forced:s,standard:o})=>[t,{name:t,number:e,description:r,supported:n,action:i,forced:s,standard:o}],ca=zd(),Yd=()=>{let t=Rn(),e=65,r=Array.from({length:e},(n,i)=>Kd(i,t));return Object.assign({},...r)},Kd=(t,e)=>{let r=Jd(t,e);if(r===void 0)return{};let{name:n,description:i,supported:s,action:o,forced:a,standard:u}=r;return{[t]:{name:n,number:t,description:i,supported:s,action:o,forced:a,standard:u}}},Jd=(t,e)=>{let r=e.find(({name:n})=>Hd.signals[n]===t);return r!==void 0?r:e.find(n=>n.number===t)},YF=Yd();var pa=t=>{let e="option `killSignal`";if(t===0)throw new TypeError(`Invalid ${e}: 0 cannot be used.`);return da(t,e)},ma=t=>t===0?t:da(t,"`subprocess.kill()`'s argument"),da=(t,e)=>{if(Number.isInteger(t))return Xd(t,e);if(typeof t=="string")return Qd(t,e);throw new TypeError(`Invalid ${e} ${String(t)}: it must be a string or an integer.
${Mn()}`)},Xd=(t,e)=>{if(la.has(t))return la.get(t);throw new TypeError(`Invalid ${e} ${t}: this signal integer does not exist.
${Mn()}`)},Zd=()=>new Map(Object.entries(Ze.signals).reverse().map(([t,e])=>[e,t])),la=Zd(),Qd=(t,e)=>{if(t in Ze.signals)return t;throw t.toUpperCase()in Ze.signals?new TypeError(`Invalid ${e} '${t}': please rename it to '${t.toUpperCase()}'.`):new TypeError(`Invalid ${e} '${t}': this signal name does not exist.
${Mn()}`)},Mn=()=>`Available signal names: ${eD()}.
Available signal numbers: ${tD()}.`,eD=()=>Object.keys(Ze.signals).sort().map(t=>`'${t}'`).join(", "),tD=()=>[...new Set(Object.values(Ze.signals).sort((t,e)=>t-e))].join(", "),Wt=t=>ca[t].description;var Da=t=>{if(t===!1)return t;if(t===!0)return nD;if(!Number.isFinite(t)||t<0)throw new TypeError(`Expected the \`forceKillAfterDelay\` option to be a non-negative integer, got \`${t}\` (${typeof t})`);return t},nD=1e3*5,fa=({kill:t,options:{forceKillAfterDelay:e,killSignal:r},onInternalError:n,context:i,controller:s},o,a)=>{let{signal:u,error:l}=oD(o,a,r);iD(l,n);let c=t(u);return sD({kill:t,signal:u,forceKillAfterDelay:e,killSignal:r,killResult:c,context:i,controller:s}),c},oD=(t,e,r)=>{let[n=r,i]=Gt(t)?[void 0,t]:[t,e];if(typeof n!="string"&&!Number.isInteger(n))throw new TypeError(`The first argument must be an error instance or a signal name string/integer: ${String(n)}`);if(i!==void 0&&!Gt(i))throw new TypeError(`The second argument is optional. If specified, it must be an error instance: ${i}`);return{signal:ma(n),error:i}},iD=(t,e)=>{t!==void 0&&e.reject(t)},sD=async({kill:t,signal:e,forceKillAfterDelay:r,killSignal:n,killResult:i,context:s,controller:o})=>{e===n&&i&&Pn({kill:t,forceKillAfterDelay:r,context:s,controllerSignal:o.signal})},Pn=async({kill:t,forceKillAfterDelay:e,context:r,controllerSignal:n})=>{if(e!==!1)try{await rD(e,void 0,{signal:n}),t("SIGKILL")&&(r.isForcefullyTerminated??=!0)}catch{}};import{once as aD}from"events";var Ht=async(t,e)=>{t.aborted||await aD(t,"abort",{signal:e})};var ha=({cancelSignal:t})=>{if(t!==void 0&&Object.prototype.toString.call(t)!=="[object AbortSignal]")throw new Error(`The \`cancelSignal\` option must be an AbortSignal: ${String(t)}`)},ga=({subprocess:t,cancelSignal:e,gracefulCancel:r,context:n,controller:i})=>e===void 0||r?[]:[uD(t,e,n,i)],uD=async(t,e,r,{signal:n})=>{throw await Ht(e,n),r.terminationReason??="cancel",t.kill(),e.reason};import{scheduler as BD}from"timers/promises";import{promisify as AD}from"util";var Te=({methodName:t,isSubprocess:e,ipc:r,isConnected:n})=>{cD(t,e,r),kn(t,e,n)},cD=(t,e,r)=>{if(!r)throw new Error(`${q(t,e)} can only be used if the \`ipc\` option is \`true\`.`)},kn=(t,e,r)=>{if(!r)throw new Error(`${q(t,e)} cannot be used: the ${me(e)} has already exited or disconnected.`)},Ca=t=>{throw new Error(`${q("getOneMessage",t)} could not complete: the ${me(t)} exited or disconnected.`)},ba=t=>{throw new Error(`${q("sendMessage",t)} failed: the ${me(t)} is sending a message too, instead of listening to incoming messages.
This can be fixed by both sending a message and listening to incoming messages at the same time:

const [receivedMessage] = await Promise.all([
	${q("getOneMessage",t)},
	${q("sendMessage",t,"message, {strict: true}")},
]);`)},zt=(t,e)=>new Error(`${q("sendMessage",e)} failed when sending an acknowledgment response to the ${me(e)}.`,{cause:t}),ya=t=>{throw new Error(`${q("sendMessage",t)} failed: the ${me(t)} is not listening to incoming messages.`)},Ea=t=>{throw new Error(`${q("sendMessage",t)} failed: the ${me(t)} exited without listening to incoming messages.`)},Fa=()=>new Error(`\`cancelSignal\` aborted: the ${me(!0)} disconnected.`),wa=()=>{throw new Error("`getCancelSignal()` cannot be used without setting the `cancelSignal` subprocess option.")},Sa=({error:t,methodName:e,isSubprocess:r})=>{if(t.code==="EPIPE")throw new Error(`${q(e,r)} cannot be used: the ${me(r)} is disconnecting.`,{cause:t})},xa=({error:t,methodName:e,isSubprocess:r,message:n})=>{if(lD(t))throw new Error(`${q(e,r)}'s argument type is invalid: the message cannot be serialized: ${String(n)}.`,{cause:t})},lD=({code:t,message:e})=>pD.has(t)||mD.some(r=>e.includes(r)),pD=new Set(["ERR_MISSING_ARGS","ERR_INVALID_ARG_TYPE"]),mD=["could not be cloned","circular structure","call stack size exceeded"],q=(t,e,r="")=>t==="cancelSignal"?"`cancelSignal`'s `controller.abort()`":`${dD(e)}${t}(${r})`,dD=t=>t?"":"subprocess.",me=t=>t?"parent process":"subprocess",Ie=t=>{t.connected&&t.disconnect()};var Q=()=>{let t={},e=new Promise((r,n)=>{Object.assign(t,{resolve:r,reject:n})});return Object.assign(e,t)};var Yt=(t,e="stdin")=>{let{options:n,fileDescriptors:i}=ee.get(t),s=Aa(i,e,!0),o=t.stdio[s];if(o===null)throw new TypeError($a(s,e,n,!0));return o},Re=(t,e="stdout")=>{let{options:n,fileDescriptors:i}=ee.get(t),s=Aa(i,e,!1),o=s==="all"?t.all:t.stdio[s];if(o==null)throw new TypeError($a(s,e,n,!1));return o},ee=new WeakMap,Aa=(t,e,r)=>{let n=DD(e,r);return fD(n,e,r,t),n},DD=(t,e)=>{let r=yn(t);if(r!==void 0)return r;let{validOptions:n,defaultValue:i}=e?{validOptions:'"stdin"',defaultValue:"stdin"}:{validOptions:'"stdout", "stderr", "all"',defaultValue:"stdout"};throw new TypeError(`"${Qe(e)}" must not be "${t}".
It must be ${n} or "fd3", "fd4" (and so on).
It is optional and defaults to "${i}".`)},fD=(t,e,r,n)=>{let i=n[Oa(t)];if(i===void 0)throw new TypeError(`"${Qe(r)}" must not be ${e}. That file descriptor does not exist.
Please set the "stdio" option to ensure that file descriptor exists.`);if(i.direction==="input"&&!r)throw new TypeError(`"${Qe(r)}" must not be ${e}. It must be a readable stream, not writable.`);if(i.direction!=="input"&&r)throw new TypeError(`"${Qe(r)}" must not be ${e}. It must be a writable stream, not readable.`)},$a=(t,e,r,n)=>{if(t==="all"&&!r.all)return`The "all" option must be true to use "from: 'all'".`;let{optionName:i,optionValue:s}=hD(t,r);return`The "${i}: ${qt(s)}" option is incompatible with using "${Qe(n)}: ${qt(e)}".
Please set this option with "pipe" instead.`},hD=(t,{stdin:e,stdout:r,stderr:n,stdio:i})=>{let s=Oa(t);return s===0&&e!==void 0?{optionName:"stdin",optionValue:e}:s===1&&r!==void 0?{optionName:"stdout",optionValue:r}:s===2&&n!==void 0?{optionName:"stderr",optionValue:n}:{optionName:`stdio[${s}]`,optionValue:i[s]}},Oa=t=>t==="all"?1:t,Qe=t=>t?"to":"from",qt=t=>typeof t=="string"?`'${t}'`:typeof t=="number"?`${t}`:"Stream";import{once as FD}from"events";import{addAbortListener as gD}from"events";var be=(t,e,r)=>{let n=t.getMaxListeners();n===0||n===Number.POSITIVE_INFINITY||(t.setMaxListeners(n+e),gD(r,()=>{t.setMaxListeners(t.getMaxListeners()-e)}))};import{EventEmitter as yD}from"events";import{once as CD}from"events";import{scheduler as bD}from"timers/promises";var Kt=(t,e)=>{e&&Ln(t)},Ln=t=>{t.refCounted()},Jt=(t,e)=>{e&&jn(t)},jn=t=>{t.unrefCounted()},Ba=(t,e)=>{e&&(jn(t),jn(t))},_a=(t,e)=>{e&&(Ln(t),Ln(t))};var va=async({anyProcess:t,channel:e,isSubprocess:r,ipcEmitter:n},i)=>{if(Ra(i)||Pa(i))return;Xt.has(t)||Xt.set(t,[]);let s=Xt.get(t);if(s.push(i),!(s.length>1))for(;s.length>0;){await Ma(t,n,i),await bD.yield();let o=await Ia({wrappedMessage:s[0],anyProcess:t,channel:e,isSubprocess:r,ipcEmitter:n});s.shift(),n.emit("message",o),n.emit("message:done")}},Ta=async({anyProcess:t,channel:e,isSubprocess:r,ipcEmitter:n,boundOnMessage:i})=>{Nn();let s=Xt.get(t);for(;s?.length>0;)await CD(n,"message:done");t.removeListener("message",i),_a(e,r),n.connected=!1,n.emit("disconnect")},Xt=new WeakMap;var de=(t,e,r)=>{if(Zt.has(t))return Zt.get(t);let n=new yD;return n.connected=!0,Zt.set(t,n),ED({ipcEmitter:n,anyProcess:t,channel:e,isSubprocess:r}),n},Zt=new WeakMap,ED=({ipcEmitter:t,anyProcess:e,channel:r,isSubprocess:n})=>{let i=va.bind(void 0,{anyProcess:e,channel:r,isSubprocess:n,ipcEmitter:t});e.on("message",i),e.once("disconnect",Ta.bind(void 0,{anyProcess:e,channel:r,isSubprocess:n,ipcEmitter:t,boundOnMessage:i})),Ba(r,n)},Qt=t=>{let e=Zt.get(t);return e===void 0?t.channel!==null:e.connected};var ka=({anyProcess:t,channel:e,isSubprocess:r,message:n,strict:i})=>{if(!i)return n;let s=de(t,e,r),o=rr(t,s);return{id:wD++,type:tr,message:n,hasListeners:o}},wD=0n,La=(t,e)=>{if(!(e?.type!==tr||e.hasListeners))for(let{id:r}of t)r!==void 0&&er[r].resolve({isDeadlock:!0,hasListeners:!1})},Ia=async({wrappedMessage:t,anyProcess:e,channel:r,isSubprocess:n,ipcEmitter:i})=>{if(t?.type!==tr||!e.connected)return t;let{id:s,message:o}=t,a={id:s,type:Na,message:rr(e,i)};try{await nr({anyProcess:e,channel:r,isSubprocess:n,ipc:!0},a)}catch(u){i.emit("strict:error",u)}return o},Ra=t=>{if(t?.type!==Na)return!1;let{id:e,message:r}=t;return er[e]?.resolve({isDeadlock:!1,hasListeners:r}),!0},ja=async(t,e,r)=>{if(t?.type!==tr)return;let n=Q();er[t.id]=n;let i=new AbortController;try{let{isDeadlock:s,hasListeners:o}=await Promise.race([n,SD(e,r,i)]);s&&ba(r),o||ya(r)}finally{i.abort(),delete er[t.id]}},er={},SD=async(t,e,{signal:r})=>{be(t,1,r),await FD(t,"disconnect",{signal:r}),Ea(e)},tr="execa:ipc:request",Na="execa:ipc:response";var Ua=(t,e,r)=>{et.has(t)||et.set(t,new Set);let n=et.get(t),i=Q(),s=r?e.id:void 0,o={onMessageSent:i,id:s};return n.add(o),{outgoingMessages:n,outgoingMessage:o}},Va=({outgoingMessages:t,outgoingMessage:e})=>{t.delete(e),e.onMessageSent.resolve()},Ma=async(t,e,r)=>{for(;!rr(t,e)&&et.get(t)?.size>0;){let n=[...et.get(t)];La(n,r),await Promise.all(n.map(({onMessageSent:i})=>i))}},et=new WeakMap,rr=(t,e)=>e.listenerCount("message")>xD(t),xD=t=>ee.has(t)&&!ie(ee.get(t).options.buffer,"ipc")?1:0;var nr=({anyProcess:t,channel:e,isSubprocess:r,ipc:n},i,{strict:s=!1}={})=>{let o="sendMessage";return Te({methodName:o,isSubprocess:r,ipc:n,isConnected:t.connected}),$D({anyProcess:t,channel:e,methodName:o,isSubprocess:r,message:i,strict:s})},$D=async({anyProcess:t,channel:e,methodName:r,isSubprocess:n,message:i,strict:s})=>{let o=ka({anyProcess:t,channel:e,isSubprocess:n,message:i,strict:s}),a=Ua(t,o,s);try{await Vn({anyProcess:t,methodName:r,isSubprocess:n,wrappedMessage:o,message:i})}catch(u){throw Ie(t),u}finally{Va(a)}},Vn=async({anyProcess:t,methodName:e,isSubprocess:r,wrappedMessage:n,message:i})=>{let s=OD(t);try{await Promise.all([ja(n,t,r),s(n)])}catch(o){throw Sa({error:o,methodName:e,isSubprocess:r}),xa({error:o,methodName:e,isSubprocess:r,message:i}),o}},OD=t=>{if(Un.has(t))return Un.get(t);let e=AD(t.send.bind(t));return Un.set(t,e),e},Un=new WeakMap;var Wa=(t,e)=>{let r="cancelSignal";return kn(r,!1,t.connected),Vn({anyProcess:t,methodName:r,isSubprocess:!1,wrappedMessage:{type:za,message:e},message:e})},Ha=async({anyProcess:t,channel:e,isSubprocess:r,ipc:n})=>(await _D({anyProcess:t,channel:e,isSubprocess:r,ipc:n}),Gn.signal),_D=async({anyProcess:t,channel:e,isSubprocess:r,ipc:n})=>{if(!Ga){if(Ga=!0,!n){wa();return}if(e===null){Nn();return}de(t,e,r),await BD.yield()}},Ga=!1,Pa=t=>t?.type!==za?!1:(Gn.abort(t.message),!0),za="execa:ipc:cancel",Nn=()=>{Gn.abort(Fa())},Gn=new AbortController;var qa=({gracefulCancel:t,cancelSignal:e,ipc:r,serialization:n})=>{if(t){if(e===void 0)throw new Error("The `cancelSignal` option must be defined when setting the `gracefulCancel` option.");if(!r)throw new Error("The `ipc` option cannot be false when setting the `gracefulCancel` option.");if(n==="json")throw new Error("The `serialization` option cannot be 'json' when setting the `gracefulCancel` option.")}},Ya=({subprocess:t,cancelSignal:e,gracefulCancel:r,forceKillAfterDelay:n,context:i,controller:s})=>r?[vD({subprocess:t,cancelSignal:e,forceKillAfterDelay:n,context:i,controller:s})]:[],vD=async({subprocess:t,cancelSignal:e,forceKillAfterDelay:r,context:n,controller:{signal:i}})=>{await Ht(e,i);let s=TD(e);throw await Wa(t,s),Pn({kill:t.kill,forceKillAfterDelay:r,context:n,controllerSignal:i}),n.terminationReason??="gracefulCancel",e.reason},TD=({reason:t})=>{if(!(t instanceof DOMException))return t;let e=new Error(t.message);return Object.defineProperty(e,"stack",{value:t.stack,enumerable:!1,configurable:!0,writable:!0}),e};import{setTimeout as ID}from"timers/promises";var Ka=({timeout:t})=>{if(t!==void 0&&(!Number.isFinite(t)||t<0))throw new TypeError(`Expected the \`timeout\` option to be a non-negative integer, got \`${t}\` (${typeof t})`)},Ja=(t,e,r,n)=>e===0||e===void 0?[]:[RD(t,e,r,n)],RD=async(t,e,r,{signal:n})=>{throw await ID(e,void 0,{signal:n}),r.terminationReason??="timeout",t.kill(),new z};import{execPath as MD,execArgv as PD}from"process";import Xa from"path";var Za=({options:t})=>{if(t.node===!1)throw new TypeError('The "node" option cannot be false with `execaNode()`.');return{options:{...t,node:!0}}},Qa=(t,e,{node:r=!1,nodePath:n=MD,nodeOptions:i=PD.filter(u=>!u.startsWith("--inspect")),cwd:s,execPath:o,...a})=>{if(o!==void 0)throw new TypeError('The "execPath" option has been removed. Please use the "nodePath" option instead.');let u=$e(n,'The "nodePath" option'),l=Xa.resolve(s,u),c={...a,nodePath:l,node:r,cwd:s};if(!r)return[t,e,c];if(Xa.basename(t,".exe")==="node")throw new TypeError('When the "node" option is true, the first argument does not need to be "node".');return[l,[...i,t,...e],{ipc:!0,...c,shell:!1}]};import{serialize as kD}from"v8";var eu=({ipcInput:t,ipc:e,serialization:r})=>{if(t!==void 0){if(!e)throw new Error("The `ipcInput` option cannot be set unless the `ipc` option is `true`.");ND[r](t)}},LD=t=>{try{kD(t)}catch(e){throw new Error("The `ipcInput` option is not serializable with a structured clone.",{cause:e})}},jD=t=>{try{JSON.stringify(t)}catch(e){throw new Error("The `ipcInput` option is not serializable with JSON.",{cause:e})}},ND={advanced:LD,json:jD},tu=async(t,e)=>{e!==void 0&&await t.sendMessage(e)};var nu=({encoding:t})=>{if(Wn.has(t))return;let e=VD(t);if(e!==void 0)throw new TypeError(`Invalid option \`encoding: ${or(t)}\`.
Please rename it to ${or(e)}.`);let r=[...Wn].map(n=>or(n)).join(", ");throw new TypeError(`Invalid option \`encoding: ${or(t)}\`.
Please rename it to one of: ${r}.`)},UD=new Set(["utf8","utf16le"]),j=new Set(["buffer","hex","base64","base64url","latin1","ascii"]),Wn=new Set([...UD,...j]),VD=t=>{if(t===null)return"buffer";if(typeof t!="string")return;let e=t.toLowerCase();if(e in ru)return ru[e];if(Wn.has(e))return e},ru={"utf-8":"utf8","utf-16le":"utf16le","ucs-2":"utf16le",ucs2:"utf16le",binary:"latin1"},or=t=>typeof t=="string"?`"${t}"`:String(t);import{statSync as GD}from"fs";import WD from"path";import HD from"process";var ou=(t=iu())=>{let e=$e(t,'The "cwd" option');return WD.resolve(e)},iu=()=>{try{return HD.cwd()}catch(t){throw t.message=`The current directory does not exist.
${t.message}`,t}},su=(t,e)=>{if(e===iu())return t;let r;try{r=GD(e)}catch(n){return`The "cwd" option is invalid: ${e}.
${n.message}
${t}`}return r.isDirectory()?t:`The "cwd" option is not a directory: ${e}.
${t}`};var ir=(t,e,r)=>{r.cwd=ou(r.cwd);let[n,i,s]=Qa(t,e,r),{command:o,args:a,options:u}=uu.default._parse(n,i,s),l=qi(u),c=qD(l);return Ka(c),nu(c),eu(c),ha(c),qa(c),c.shell=hn(c.shell),c.env=YD(c),c.killSignal=pa(c.killSignal),c.forceKillAfterDelay=Da(c.forceKillAfterDelay),c.lines=c.lines.map((p,m)=>p&&!j.has(c.encoding)&&c.buffer[m]),au.platform==="win32"&&zD.basename(o,".exe")==="cmd"&&a.unshift("/q"),{file:o,commandArguments:a,options:c}},qD=({extendEnv:t=!0,preferLocal:e=!1,cwd:r,localDir:n=r,encoding:i="utf8",reject:s=!0,cleanup:o=!0,all:a=!1,windowsHide:u=!0,killSignal:l="SIGTERM",forceKillAfterDelay:c=!0,gracefulCancel:p=!1,ipcInput:m,ipc:d=m!==void 0||p,serialization:f="advanced",...g})=>({...g,extendEnv:t,preferLocal:e,cwd:r,localDirectory:n,encoding:i,reject:s,cleanup:o,all:a,windowsHide:u,killSignal:l,forceKillAfterDelay:c,gracefulCancel:p,ipcInput:m,ipc:d,serialization:f}),YD=({env:t,extendEnv:e,preferLocal:r,node:n,localDirectory:i,nodePath:s})=>{let o=e?{...au.env,...t}:t;return r||n?ea({env:o,cwd:i,execPath:s,preferLocal:r,addExecPath:n}):o};var sr=(t,e,r)=>r.shell&&e.length>0?[[t,...e].join(" "),[],r]:[t,e,r];import{inspect as Bf}from"util";function Me(t){if(typeof t=="string")return KD(t);if(!(ArrayBuffer.isView(t)&&t.BYTES_PER_ELEMENT===1))throw new Error("Input must be a string or a Uint8Array");return JD(t)}var KD=t=>t.at(-1)===cu?t.slice(0,t.at(-2)===lu?-2:-1):t,JD=t=>t.at(-1)===XD?t.subarray(0,t.at(-2)===ZD?-2:-1):t,cu=`
`,XD=cu.codePointAt(0),lu="\r",ZD=lu.codePointAt(0);import{on as xf}from"events";import{finished as Af}from"stream/promises";function Y(t,{checkOpen:e=!0}={}){return t!==null&&typeof t=="object"&&(t.writable||t.readable||!e||t.writable===void 0&&t.readable===void 0)&&typeof t.pipe=="function"}function Hn(t,{checkOpen:e=!0}={}){return Y(t,{checkOpen:e})&&(t.writable||!e)&&typeof t.write=="function"&&typeof t.end=="function"&&typeof t.writable=="boolean"&&typeof t.writableObjectMode=="boolean"&&typeof t.destroy=="function"&&typeof t.destroyed=="boolean"}function ye(t,{checkOpen:e=!0}={}){return Y(t,{checkOpen:e})&&(t.readable||!e)&&typeof t.read=="function"&&typeof t.readable=="boolean"&&typeof t.readableObjectMode=="boolean"&&typeof t.destroy=="function"&&typeof t.destroyed=="boolean"}function zn(t,e){return Hn(t,e)&&ye(t,e)}var QD=Object.getPrototypeOf(Object.getPrototypeOf(async function*(){}).prototype),qn=class{#t;#r;#e=!1;#n=void 0;constructor(e,r){this.#t=e,this.#r=r}next(){let e=()=>this.#i();return this.#n=this.#n?this.#n.then(e,e):e(),this.#n}return(e){let r=()=>this.#o(e);return this.#n?this.#n.then(r,r):r()}async#i(){if(this.#e)return{done:!0,value:void 0};let e;try{e=await this.#t.read()}catch(r){throw this.#n=void 0,this.#e=!0,this.#t.releaseLock(),r}return e.done&&(this.#n=void 0,this.#e=!0,this.#t.releaseLock()),e}async#o(e){if(this.#e)return{done:!0,value:e};if(this.#e=!0,!this.#r){let r=this.#t.cancel(e);return this.#t.releaseLock(),await r,{done:!0,value:e}}return this.#t.releaseLock(),{done:!0,value:e}}},Yn=Symbol();function pu(){return this[Yn].next()}Object.defineProperty(pu,"name",{value:"next"});function mu(t){return this[Yn].return(t)}Object.defineProperty(mu,"name",{value:"return"});var ef=Object.create(QD,{next:{enumerable:!0,configurable:!0,writable:!0,value:pu},return:{enumerable:!0,configurable:!0,writable:!0,value:mu}});function Kn({preventCancel:t=!1}={}){let e=this.getReader(),r=new qn(e,t),n=Object.create(ef);return n[Yn]=r,n}var du=t=>{if(ye(t,{checkOpen:!1})&&tt.on!==void 0)return rf(t);if(typeof t?.[Symbol.asyncIterator]=="function")return t;if(tf.call(t)==="[object ReadableStream]")return Kn.call(t);throw new TypeError("The first argument must be a Readable, a ReadableStream, or an async iterable.")},{toString:tf}=Object.prototype,rf=async function*(t){let e=new AbortController,r={};nf(t,e,r);try{for await(let[n]of tt.on(t,"data",{signal:e.signal}))yield n}catch(n){if(r.error!==void 0)throw r.error;if(!e.signal.aborted)throw n}finally{t.destroy()}},nf=async(t,e,r)=>{try{await tt.finished(t,{cleanup:!0,readable:!0,writable:!1,error:!1})}catch(n){r.error=n}finally{e.abort()}},tt={};var Pe=async(t,{init:e,convertChunk:r,getSize:n,truncateChunk:i,addChunk:s,getFinalChunk:o,finalize:a},{maxBuffer:u=Number.POSITIVE_INFINITY}={})=>{let l=du(t),c=e();c.length=0;try{for await(let p of l){let m=sf(p),d=r[m](p,c);hu({convertedChunk:d,state:c,getSize:n,truncateChunk:i,addChunk:s,maxBuffer:u})}return of({state:c,convertChunk:r,getSize:n,truncateChunk:i,addChunk:s,getFinalChunk:o,maxBuffer:u}),a(c)}catch(p){let m=typeof p=="object"&&p!==null?p:new Error(p);throw m.bufferedData=a(c),m}},of=({state:t,getSize:e,truncateChunk:r,addChunk:n,getFinalChunk:i,maxBuffer:s})=>{let o=i(t);o!==void 0&&hu({convertedChunk:o,state:t,getSize:e,truncateChunk:r,addChunk:n,maxBuffer:s})},hu=({convertedChunk:t,state:e,getSize:r,truncateChunk:n,addChunk:i,maxBuffer:s})=>{let o=r(t),a=e.length+o;if(a<=s){Du(t,e,i,a);return}let u=n(t,s-e.length);throw u!==void 0&&Du(u,e,i,s),new te},Du=(t,e,r,n)=>{e.contents=r(t,e,n),e.length=n},sf=t=>{let e=typeof t;if(e==="string")return"string";if(e!=="object"||t===null)return"others";if(globalThis.Buffer?.isBuffer(t))return"buffer";let r=fu.call(t);return r==="[object ArrayBuffer]"?"arrayBuffer":r==="[object DataView]"?"dataView":Number.isInteger(t.byteLength)&&Number.isInteger(t.byteOffset)&&fu.call(t.buffer)==="[object ArrayBuffer]"?"typedArray":"others"},{toString:fu}=Object.prototype,te=class extends Error{name="MaxBufferError";constructor(){super("maxBuffer exceeded")}};var se=t=>t,rt=()=>{},ar=({contents:t})=>t,ur=t=>{throw new Error(`Streams in object mode are not supported: ${String(t)}`)},cr=t=>t.length;async function lr(t,e){return Pe(t,lf,e)}var af=()=>({contents:[]}),uf=()=>1,cf=(t,{contents:e})=>(e.push(t),e),lf={init:af,convertChunk:{string:se,buffer:se,arrayBuffer:se,dataView:se,typedArray:se,others:se},getSize:uf,truncateChunk:rt,addChunk:cf,getFinalChunk:rt,finalize:ar};async function pr(t,e){return Pe(t,bf,e)}var pf=()=>({contents:new ArrayBuffer(0)}),mf=t=>df.encode(t),df=new TextEncoder,gu=t=>new Uint8Array(t),Cu=t=>new Uint8Array(t.buffer,t.byteOffset,t.byteLength),Df=(t,e)=>t.slice(0,e),ff=(t,{contents:e,length:r},n)=>{let i=Eu()?gf(e,n):hf(e,n);return new Uint8Array(i).set(t,r),i},hf=(t,e)=>{if(e<=t.byteLength)return t;let r=new ArrayBuffer(yu(e));return new Uint8Array(r).set(new Uint8Array(t),0),r},gf=(t,e)=>{if(e<=t.maxByteLength)return t.resize(e),t;let r=new ArrayBuffer(e,{maxByteLength:yu(e)});return new Uint8Array(r).set(new Uint8Array(t),0),r},yu=t=>bu**Math.ceil(Math.log(t)/Math.log(bu)),bu=2,Cf=({contents:t,length:e})=>Eu()?t:t.slice(0,e),Eu=()=>"resize"in ArrayBuffer.prototype,bf={init:pf,convertChunk:{string:mf,buffer:gu,arrayBuffer:gu,dataView:Cu,typedArray:Cu,others:ur},getSize:cr,truncateChunk:Df,addChunk:ff,getFinalChunk:rt,finalize:Cf};async function dr(t,e){return Pe(t,Sf,e)}var yf=()=>({contents:"",textDecoder:new TextDecoder}),mr=(t,{textDecoder:e})=>e.decode(t,{stream:!0}),Ef=(t,{contents:e})=>e+t,Ff=(t,e)=>t.slice(0,e),wf=({textDecoder:t})=>{let e=t.decode();return e===""?void 0:e},Sf={init:yf,convertChunk:{string:se,buffer:mr,arrayBuffer:mr,dataView:mr,typedArray:mr,others:ur},getSize:cr,truncateChunk:Ff,addChunk:Ef,getFinalChunk:wf,finalize:ar};Object.assign(tt,{on:xf,finished:Af});var Fu=({error:t,stream:e,readableObjectMode:r,lines:n,encoding:i,fdNumber:s})=>{if(!(t instanceof te))throw t;if(s==="all")return t;let o=$f(r,n,i);throw t.maxBufferInfo={fdNumber:s,unit:o},e.destroy(),t},$f=(t,e,r)=>t?"objects":e?"lines":r==="buffer"?"bytes":"characters",wu=(t,e,r)=>{if(e.length!==r)return;let n=new te;throw n.maxBufferInfo={fdNumber:"ipc"},n},Su=(t,e)=>{let{streamName:r,threshold:n,unit:i}=Of(t,e);return`Command's ${r} was larger than ${n} ${i}`},Of=(t,e)=>{if(t?.maxBufferInfo===void 0)return{streamName:"output",threshold:e[1],unit:"bytes"};let{maxBufferInfo:{fdNumber:r,unit:n}}=t;delete t.maxBufferInfo;let i=ie(e,r);return r==="ipc"?{streamName:"IPC output",threshold:i,unit:"messages"}:{streamName:_t(r),threshold:i,unit:n}},xu=(t,e,r)=>t?.code==="ENOBUFS"&&e!==null&&e.some(n=>n!==null&&n.length>Dr(r)),Au=(t,e,r)=>{if(!e)return t;let n=Dr(r);return t.length>n?t.slice(0,n):t},Dr=([,t])=>t;var Ou=({stdio:t,all:e,ipcOutput:r,originalError:n,signal:i,signalDescription:s,exitCode:o,escapedCommand:a,timedOut:u,isCanceled:l,isGracefullyCanceled:c,isMaxBuffer:p,isForcefullyTerminated:m,forceKillAfterDelay:d,killSignal:f,maxBuffer:g,timeout:F,cwd:b})=>{let O=n?.code,T=_f({originalError:n,timedOut:u,timeout:F,isMaxBuffer:p,maxBuffer:g,errorCode:O,signal:i,signalDescription:s,exitCode:o,isCanceled:l,isGracefullyCanceled:c,isForcefullyTerminated:m,forceKillAfterDelay:d,killSignal:f}),y=Tf(n,b),S=y===void 0?"":`
${y}`,_=`${T}: ${a}${S}`,P=e===void 0?[t[2],t[1]]:[e],ue=[_,...P,...t.slice(3),r.map(ce=>If(ce)).join(`
`)].map(ce=>Ke(Me(Rf(ce)))).filter(Boolean).join(`

`);return{originalMessage:y,shortMessage:_,message:ue}},_f=({originalError:t,timedOut:e,timeout:r,isMaxBuffer:n,maxBuffer:i,errorCode:s,signal:o,signalDescription:a,exitCode:u,isCanceled:l,isGracefullyCanceled:c,isForcefullyTerminated:p,forceKillAfterDelay:m,killSignal:d})=>{let f=vf(p,m);return e?`Command timed out after ${r} milliseconds${f}`:c?o===void 0?`Command was gracefully canceled with exit code ${u}`:p?`Command was gracefully canceled${f}`:`Command was gracefully canceled with ${o} (${a})`:l?`Command was canceled${f}`:n?`${Su(t,i)}${f}`:s!==void 0?`Command failed with ${s}${f}`:p?`Command was killed with ${d} (${Wt(d)})${f}`:o!==void 0?`Command was killed with ${o} (${a})`:u!==void 0?`Command failed with exit code ${u}`:"Command failed"},vf=(t,e)=>t?` and was forcefully terminated after ${e} milliseconds`:"",Tf=(t,e)=>{if(t instanceof z)return;let r=na(t)?t.originalMessage:String(t?.message??t),n=Ke(su(r,e));return n===""?void 0:n},If=t=>typeof t=="string"?t:Bf(t),Rf=t=>Array.isArray(t)?t.map(e=>Me($u(e))).filter(Boolean).join(`
`):$u(t),$u=t=>typeof t=="string"?t:v(t)?Ot(t):"";var fr=({command:t,escapedCommand:e,stdio:r,all:n,ipcOutput:i,options:{cwd:s},startTime:o})=>Bu({command:t,escapedCommand:e,cwd:s,durationMs:Sn(o),failed:!1,timedOut:!1,isCanceled:!1,isGracefullyCanceled:!1,isTerminated:!1,isMaxBuffer:!1,isForcefullyTerminated:!1,exitCode:0,stdout:r[1],stderr:r[2],all:n,stdio:r,ipcOutput:i,pipedFrom:[]}),ke=({error:t,command:e,escapedCommand:r,fileDescriptors:n,options:i,startTime:s,isSync:o})=>nt({error:t,command:e,escapedCommand:r,startTime:s,timedOut:!1,isCanceled:!1,isGracefullyCanceled:!1,isMaxBuffer:!1,isForcefullyTerminated:!1,stdio:Array.from({length:n.length}),ipcOutput:[],options:i,isSync:o}),nt=({error:t,command:e,escapedCommand:r,startTime:n,timedOut:i,isCanceled:s,isGracefullyCanceled:o,isMaxBuffer:a,isForcefullyTerminated:u,exitCode:l,signal:c,stdio:p,all:m,ipcOutput:d,options:{timeoutDuration:f,timeout:g=f,forceKillAfterDelay:F,killSignal:b,cwd:O,maxBuffer:T},isSync:y})=>{let{exitCode:S,signal:_,signalDescription:P}=Pf(l,c),{originalMessage:ue,shortMessage:ce,message:kr}=Ou({stdio:p,all:m,ipcOutput:d,originalError:t,signal:_,signalDescription:P,exitCode:S,escapedCommand:r,timedOut:i,isCanceled:s,isGracefullyCanceled:o,isMaxBuffer:a,isForcefullyTerminated:u,forceKillAfterDelay:F,killSignal:b,maxBuffer:T,timeout:g,cwd:O}),Ge=ta(t,kr,y);return Object.assign(Ge,Mf({error:Ge,command:e,escapedCommand:r,startTime:n,timedOut:i,isCanceled:s,isGracefullyCanceled:o,isMaxBuffer:a,isForcefullyTerminated:u,exitCode:S,signal:_,signalDescription:P,stdio:p,all:m,ipcOutput:d,cwd:O,originalMessage:ue,shortMessage:ce})),Ge},Mf=({error:t,command:e,escapedCommand:r,startTime:n,timedOut:i,isCanceled:s,isGracefullyCanceled:o,isMaxBuffer:a,isForcefullyTerminated:u,exitCode:l,signal:c,signalDescription:p,stdio:m,all:d,ipcOutput:f,cwd:g,originalMessage:F,shortMessage:b})=>Bu({shortMessage:b,originalMessage:F,command:e,escapedCommand:r,cwd:g,durationMs:Sn(n),failed:!0,timedOut:i,isCanceled:s,isGracefullyCanceled:o,isTerminated:c!==void 0,isMaxBuffer:a,isForcefullyTerminated:u,exitCode:l,signal:c,signalDescription:p,code:t.cause?.code,stdout:m[1],stderr:m[2],all:d,stdio:m,ipcOutput:f,pipedFrom:[]}),Bu=t=>Object.fromEntries(Object.entries(t).filter(([,e])=>e!==void 0)),Pf=(t,e)=>{let r=t===null?void 0:t,n=e===null?void 0:e,i=n===void 0?void 0:Wt(e);return{exitCode:r,signal:n,signalDescription:i}};var _u=t=>Number.isFinite(t)?t:0;function kf(t){return{days:Math.trunc(t/864e5),hours:Math.trunc(t/36e5%24),minutes:Math.trunc(t/6e4%60),seconds:Math.trunc(t/1e3%60),milliseconds:Math.trunc(t%1e3),microseconds:Math.trunc(_u(t*1e3)%1e3),nanoseconds:Math.trunc(_u(t*1e6)%1e3)}}function Lf(t){return{days:t/86400000n,hours:t/3600000n%24n,minutes:t/60000n%60n,seconds:t/1000n%60n,milliseconds:t%1000n,microseconds:0n,nanoseconds:0n}}function Jn(t){switch(typeof t){case"number":{if(Number.isFinite(t))return kf(t);break}case"bigint":return Lf(t)}throw new TypeError("Expected a finite number or bigint")}var jf=t=>t===0||t===0n,Nf=(t,e)=>e===1||e===1n?t:`${t}s`,Uf=1e-7,Vf=24n*60n*60n*1000n;function Xn(t,e){let r=typeof t=="bigint";if(!r&&!Number.isFinite(t))throw new TypeError("Expected a finite number or bigint");e={...e};let n=t<0?"-":"";t=t<0?-t:t,e.colonNotation&&(e.compact=!1,e.formatSubMilliseconds=!1,e.separateMilliseconds=!1,e.verbose=!1),e.compact&&(e.unitCount=1,e.secondsDecimalDigits=0,e.millisecondsDecimalDigits=0);let i=[],s=(c,p)=>{let m=Math.floor(c*10**p+Uf);return(Math.round(m)/10**p).toFixed(p)},o=(c,p,m,d)=>{if(!((i.length===0||!e.colonNotation)&&jf(c)&&!(e.colonNotation&&m==="m"))){if(d??=String(c),e.colonNotation){let f=d.includes(".")?d.split(".")[0].length:d.length,g=i.length>0?2:1;d="0".repeat(Math.max(0,g-f))+d}else d+=e.verbose?" "+Nf(p,c):m;i.push(d)}},a=Jn(t),u=BigInt(a.days);if(e.hideYearAndDays?o(BigInt(u)*24n+BigInt(a.hours),"hour","h"):(e.hideYear?o(u,"day","d"):(o(u/365n,"year","y"),o(u%365n,"day","d")),o(Number(a.hours),"hour","h")),o(Number(a.minutes),"minute","m"),!e.hideSeconds)if(e.separateMilliseconds||e.formatSubMilliseconds||!e.colonNotation&&t<1e3&&!e.subSecondsAsDecimals){let c=Number(a.seconds),p=Number(a.milliseconds),m=Number(a.microseconds),d=Number(a.nanoseconds);if(o(c,"second","s"),e.formatSubMilliseconds)o(p,"millisecond","ms"),o(m,"microsecond","\xB5s"),o(d,"nanosecond","ns");else{let f=p+m/1e3+d/1e6,g=typeof e.millisecondsDecimalDigits=="number"?e.millisecondsDecimalDigits:0,F=f>=1?Math.round(f):Math.ceil(f),b=g?f.toFixed(g):F;o(Number.parseFloat(b),"millisecond","ms",b)}}else{let c=(r?Number(t%Vf):t)/1e3%60,p=typeof e.secondsDecimalDigits=="number"?e.secondsDecimalDigits:1,m=s(c,p),d=e.keepDecimalsOnWholeSeconds?m:m.replace(/\.0+$/,"");o(Number.parseFloat(d),"second","s",d)}if(i.length===0)return n+"0"+(e.verbose?" milliseconds":"ms");let l=e.colonNotation?":":" ";return typeof e.unitCount=="number"&&(i=i.slice(0,Math.max(e.unitCount,1))),n+i.join(l)}var vu=(t,e)=>{t.failed&&Z({type:"error",verboseMessage:t.shortMessage,verboseInfo:e,result:t})};var Tu=(t,e)=>{Oe(e)&&(vu(t,e),Gf(t,e))},Gf=(t,e)=>{let r=`(done in ${Xn(t.durationMs)})`;Z({type:"duration",verboseMessage:r,verboseInfo:e,result:t})};var Le=(t,e,{reject:r})=>{if(Tu(t,e),t.failed&&r)throw t;return t};import{readFileSync as ic}from"fs";var Mu=(t,e)=>Ee(t)?"asyncGenerator":Lu(t)?"generator":hr(t)?"fileUrl":Yf(t)?"filePath":Xf(t)?"webStream":Y(t,{checkOpen:!1})?"native":v(t)?"uint8Array":Zf(t)?"asyncIterable":Qf(t)?"iterable":eo(t)?Pu({transform:t},e):qf(t)?Wf(t,e):"native",Wf=(t,e)=>zn(t.transform,{checkOpen:!1})?Hf(t,e):eo(t.transform)?Pu(t,e):zf(t,e),Hf=(t,e)=>(ku(t,e,"Duplex stream"),"duplex"),Pu=(t,e)=>(ku(t,e,"web TransformStream"),"webTransform"),ku=({final:t,binary:e,objectMode:r},n,i)=>{Iu(t,`${n}.final`,i),Iu(e,`${n}.binary`,i),Zn(r,`${n}.objectMode`)},Iu=(t,e,r)=>{if(t!==void 0)throw new TypeError(`The \`${e}\` option can only be defined when using a generator, not a ${r}.`)},zf=({transform:t,final:e,binary:r,objectMode:n},i)=>{if(t!==void 0&&!Ru(t))throw new TypeError(`The \`${i}.transform\` option must be a generator, a Duplex stream or a web TransformStream.`);if(zn(e,{checkOpen:!1}))throw new TypeError(`The \`${i}.final\` option must not be a Duplex stream.`);if(eo(e))throw new TypeError(`The \`${i}.final\` option must not be a web TransformStream.`);if(e!==void 0&&!Ru(e))throw new TypeError(`The \`${i}.final\` option must be a generator.`);return Zn(r,`${i}.binary`),Zn(n,`${i}.objectMode`),Ee(t)||Ee(e)?"asyncGenerator":"generator"},Zn=(t,e)=>{if(t!==void 0&&typeof t!="boolean")throw new TypeError(`The \`${e}\` option must use a boolean.`)},Ru=t=>Ee(t)||Lu(t),Ee=t=>Object.prototype.toString.call(t)==="[object AsyncGeneratorFunction]",Lu=t=>Object.prototype.toString.call(t)==="[object GeneratorFunction]",qf=t=>$(t)&&(t.transform!==void 0||t.final!==void 0),hr=t=>Object.prototype.toString.call(t)==="[object URL]",ju=t=>hr(t)&&t.protocol!=="file:",Yf=t=>$(t)&&Object.keys(t).length>0&&Object.keys(t).every(e=>Kf.has(e))&&Qn(t.file),Kf=new Set(["file","append"]),Qn=t=>typeof t=="string",Nu=(t,e)=>t==="native"&&typeof e=="string"&&!Jf.has(e),Jf=new Set(["ipc","ignore","inherit","overlapped","pipe"]),Uu=t=>Object.prototype.toString.call(t)==="[object ReadableStream]",gr=t=>Object.prototype.toString.call(t)==="[object WritableStream]",Xf=t=>Uu(t)||gr(t),eo=t=>Uu(t?.readable)&&gr(t?.writable),Zf=t=>Vu(t)&&typeof t[Symbol.asyncIterator]=="function",Qf=t=>Vu(t)&&typeof t[Symbol.iterator]=="function",Vu=t=>typeof t=="object"&&t!==null,G=new Set(["generator","asyncGenerator","duplex","webTransform"]),Cr=new Set(["fileUrl","filePath","fileNumber"]),to=new Set(["fileUrl","filePath"]),Gu=new Set([...to,"webStream","nodeStream"]),Wu=new Set(["webTransform","duplex"]),De={generator:"a generator",asyncGenerator:"an async generator",fileUrl:"a file URL",filePath:"a file path string",fileNumber:"a file descriptor number",webStream:"a web stream",nodeStream:"a Node.js stream",webTransform:"a web TransformStream",duplex:"a Duplex stream",native:"any value",iterable:"an iterable",asyncIterable:"an async iterable",string:"a string",uint8Array:"a Uint8Array"};var ro=(t,e,r,n)=>n==="output"?eh(t,e,r):th(t,e,r),eh=(t,e,r)=>{let n=e!==0&&r[e-1].value.readableObjectMode;return{writableObjectMode:n,readableObjectMode:t??n}},th=(t,e,r)=>{let n=e===0?t===!0:r[e-1].value.readableObjectMode,i=e!==r.length-1&&(t??n);return{writableObjectMode:n,readableObjectMode:i}},Hu=(t,e)=>{let r=t.findLast(({type:n})=>G.has(n));return r===void 0?!1:e==="input"?r.value.writableObjectMode:r.value.readableObjectMode};var zu=(t,e,r,n)=>[...t.filter(({type:i})=>!G.has(i)),...rh(t,e,r,n)],rh=(t,e,r,{encoding:n})=>{let i=t.filter(({type:o})=>G.has(o)),s=Array.from({length:i.length});for(let[o,a]of Object.entries(i))s[o]=nh({stdioItem:a,index:Number(o),newTransforms:s,optionName:e,direction:r,encoding:n});return ah(s,r)},nh=({stdioItem:t,stdioItem:{type:e},index:r,newTransforms:n,optionName:i,direction:s,encoding:o})=>e==="duplex"?oh({stdioItem:t,optionName:i}):e==="webTransform"?ih({stdioItem:t,index:r,newTransforms:n,direction:s}):sh({stdioItem:t,index:r,newTransforms:n,direction:s,encoding:o}),oh=({stdioItem:t,stdioItem:{value:{transform:e,transform:{writableObjectMode:r,readableObjectMode:n},objectMode:i=n}},optionName:s})=>{if(i&&!n)throw new TypeError(`The \`${s}.objectMode\` option can only be \`true\` if \`new Duplex({objectMode: true})\` is used.`);if(!i&&n)throw new TypeError(`The \`${s}.objectMode\` option cannot be \`false\` if \`new Duplex({objectMode: true})\` is used.`);return{...t,value:{transform:e,writableObjectMode:r,readableObjectMode:n}}},ih=({stdioItem:t,stdioItem:{value:e},index:r,newTransforms:n,direction:i})=>{let{transform:s,objectMode:o}=$(e)?e:{transform:e},{writableObjectMode:a,readableObjectMode:u}=ro(o,r,n,i);return{...t,value:{transform:s,writableObjectMode:a,readableObjectMode:u}}},sh=({stdioItem:t,stdioItem:{value:e},index:r,newTransforms:n,direction:i,encoding:s})=>{let{transform:o,final:a,binary:u=!1,preserveNewlines:l=!1,objectMode:c}=$(e)?e:{transform:e},p=u||j.has(s),{writableObjectMode:m,readableObjectMode:d}=ro(c,r,n,i);return{...t,value:{transform:o,final:a,binary:p,preserveNewlines:l,writableObjectMode:m,readableObjectMode:d}}},ah=(t,e)=>e==="input"?t.reverse():t;import no from"process";var qu=(t,e,r)=>{let n=t.map(i=>uh(i,e));if(n.includes("input")&&n.includes("output"))throw new TypeError(`The \`${r}\` option must not be an array of both readable and writable values.`);return n.find(Boolean)??ph},uh=({type:t,value:e},r)=>ch[r]??Yu[t](e),ch=["input","output","output"],je=()=>{},oo=()=>"input",Yu={generator:je,asyncGenerator:je,fileUrl:je,filePath:je,iterable:oo,asyncIterable:oo,uint8Array:oo,webStream:t=>gr(t)?"output":"input",nodeStream(t){return ye(t,{checkOpen:!1})?Hn(t,{checkOpen:!1})?void 0:"input":"output"},webTransform:je,duplex:je,native(t){let e=lh(t);if(e!==void 0)return e;if(Y(t,{checkOpen:!1}))return Yu.nodeStream(t)}},lh=t=>{if([0,no.stdin].includes(t))return"input";if([1,2,no.stdout,no.stderr].includes(t))return"output"},ph="output";var Ku=(t,e)=>e&&!t.includes("ipc")?[...t,"ipc"]:t;var Ju=({stdio:t,ipc:e,buffer:r,...n},i,s)=>{let o=mh(t,n).map((a,u)=>Xu(a,u));return s?Dh(o,r,i):Ku(o,e)},mh=(t,e)=>{if(t===void 0)return V.map(n=>e[n]);if(dh(e))throw new Error(`It's not possible to provide \`stdio\` in combination with one of ${V.map(n=>`\`${n}\``).join(", ")}`);if(typeof t=="string")return[t,t,t];if(!Array.isArray(t))throw new TypeError(`Expected \`stdio\` to be of type \`string\` or \`Array\`, got \`${typeof t}\``);let r=Math.max(t.length,V.length);return Array.from({length:r},(n,i)=>t[i])},dh=t=>V.some(e=>t[e]!==void 0),Xu=(t,e)=>Array.isArray(t)?t.map(r=>Xu(r,e)):t??(e>=V.length?"ignore":"pipe"),Dh=(t,e,r)=>t.map((n,i)=>!e[i]&&i!==0&&!Be(r,i)&&fh(n)?"ignore":n),fh=t=>t==="pipe"||Array.isArray(t)&&t.every(e=>e==="pipe");import{readFileSync as hh}from"fs";import gh from"tty";var Qu=({stdioItem:t,stdioItem:{type:e},isStdioArray:r,fdNumber:n,direction:i,isSync:s})=>!r||e!=="native"?t:s?Ch({stdioItem:t,fdNumber:n,direction:i}):Eh({stdioItem:t,fdNumber:n}),Ch=({stdioItem:t,stdioItem:{value:e,optionName:r},fdNumber:n,direction:i})=>{let s=bh({value:e,optionName:r,fdNumber:n,direction:i});if(s!==void 0)return s;if(Y(e,{checkOpen:!1}))throw new TypeError(`The \`${r}: Stream\` option cannot both be an array and include a stream with synchronous methods.`);return t},bh=({value:t,optionName:e,fdNumber:r,direction:n})=>{let i=yh(t,r);if(i!==void 0){if(n==="output")return{type:"fileNumber",value:i,optionName:e};if(gh.isatty(i))throw new TypeError(`The \`${e}: ${qt(t)}\` option is invalid: it cannot be a TTY with synchronous methods.`);return{type:"uint8Array",value:oe(hh(i)),optionName:e}}},yh=(t,e)=>{if(t==="inherit")return e;if(typeof t=="number")return t;let r=Bt.indexOf(t);if(r!==-1)return r},Eh=({stdioItem:t,stdioItem:{value:e,optionName:r},fdNumber:n})=>e==="inherit"?{type:"nodeStream",value:Zu(n,e,r),optionName:r}:typeof e=="number"?{type:"nodeStream",value:Zu(e,e,r),optionName:r}:Y(e,{checkOpen:!1})?{type:"nodeStream",value:e,optionName:r}:t,Zu=(t,e,r)=>{let n=Bt[t];if(n===void 0)throw new TypeError(`The \`${r}: ${e}\` option is invalid: no such standard stream.`);return n};var ec=({input:t,inputFile:e},r)=>r===0?[...Fh(t),...Sh(e)]:[],Fh=t=>t===void 0?[]:[{type:wh(t),value:t,optionName:"input"}],wh=t=>{if(ye(t,{checkOpen:!1}))return"nodeStream";if(typeof t=="string")return"string";if(v(t))return"uint8Array";throw new Error("The `input` option must be a string, a Uint8Array or a Node.js Readable stream.")},Sh=t=>t===void 0?[]:[{...xh(t),optionName:"inputFile"}],xh=t=>{if(hr(t))return{type:"fileUrl",value:t};if(Qn(t))return{type:"filePath",value:{file:t}};throw new Error("The `inputFile` option must be a file path string or a file URL.")};var tc=t=>t.filter((e,r)=>t.every((n,i)=>e.value!==n.value||r>=i||e.type==="generator"||e.type==="asyncGenerator")),rc=({stdioItem:{type:t,value:e,optionName:r},direction:n,fileDescriptors:i,isSync:s})=>{let o=Ah(i,t);if(o.length!==0){if(s){$h({otherStdioItems:o,type:t,value:e,optionName:r,direction:n});return}if(Gu.has(t))return nc({otherStdioItems:o,type:t,value:e,optionName:r,direction:n});Wu.has(t)&&Bh({otherStdioItems:o,type:t,value:e,optionName:r})}},Ah=(t,e)=>t.flatMap(({direction:r,stdioItems:n})=>n.filter(i=>i.type===e).map((i=>({...i,direction:r})))),$h=({otherStdioItems:t,type:e,value:r,optionName:n,direction:i})=>{to.has(e)&&nc({otherStdioItems:t,type:e,value:r,optionName:n,direction:i})},nc=({otherStdioItems:t,type:e,value:r,optionName:n,direction:i})=>{let s=t.filter(a=>Oh(a,r));if(s.length===0)return;let o=s.find(a=>a.direction!==i);return oc(o,n,e),i==="output"?s[0].stream:void 0},Oh=({type:t,value:e},r)=>t==="filePath"?e.file===r.file:t==="fileUrl"?e.href===r.href:e===r,Bh=({otherStdioItems:t,type:e,value:r,optionName:n})=>{let i=t.find(({value:{transform:s}})=>s===r.transform);oc(i,n,e)},oc=(t,e,r)=>{if(t!==void 0)throw new TypeError(`The \`${t.optionName}\` and \`${e}\` options must not target ${De[r]} that is the same.`)};var br=(t,e,r,n)=>{let s=Ju(e,r,n).map((a,u)=>_h({stdioOption:a,fdNumber:u,options:e,isSync:n})),o=Lh({initialFileDescriptors:s,addProperties:t,options:e,isSync:n});return e.stdio=o.map(({stdioItems:a})=>Uh(a)),o},_h=({stdioOption:t,fdNumber:e,options:r,isSync:n})=>{let i=_t(e),{stdioItems:s,isStdioArray:o}=vh({stdioOption:t,fdNumber:e,options:r,optionName:i}),a=qu(s,e,i),u=s.map(p=>Qu({stdioItem:p,isStdioArray:o,fdNumber:e,direction:a,isSync:n})),l=zu(u,i,a,r),c=Hu(l,a);return kh(l,c),{direction:a,objectMode:c,stdioItems:l}},vh=({stdioOption:t,fdNumber:e,options:r,optionName:n})=>{let s=[...(Array.isArray(t)?t:[t]).map(u=>Th(u,n)),...ec(r,e)],o=tc(s),a=o.length>1;return Ih(o,a,n),Mh(o),{stdioItems:o,isStdioArray:a}},Th=(t,e)=>({type:Mu(t,e),value:t,optionName:e}),Ih=(t,e,r)=>{if(t.length===0)throw new TypeError(`The \`${r}\` option must not be an empty array.`);if(e){for(let{value:n,optionName:i}of t)if(Rh.has(n))throw new Error(`The \`${i}\` option must not include \`${n}\`.`)}},Rh=new Set(["ignore","ipc"]),Mh=t=>{for(let e of t)Ph(e)},Ph=({type:t,value:e,optionName:r})=>{if(ju(e))throw new TypeError(`The \`${r}: URL\` option must use the \`file:\` scheme.
For example, you can use the \`pathToFileURL()\` method of the \`url\` core module.`);if(Nu(t,e))throw new TypeError(`The \`${r}: { file: '...' }\` option must be used instead of \`${r}: '...'\`.`)},kh=(t,e)=>{if(!e)return;let r=t.find(({type:n})=>Cr.has(n));if(r!==void 0)throw new TypeError(`The \`${r.optionName}\` option cannot use both files and transforms in objectMode.`)},Lh=({initialFileDescriptors:t,addProperties:e,options:r,isSync:n})=>{let i=[];try{for(let s of t)i.push(jh({fileDescriptor:s,fileDescriptors:i,addProperties:e,options:r,isSync:n}));return i}catch(s){throw io(i),s}},jh=({fileDescriptor:{direction:t,objectMode:e,stdioItems:r},fileDescriptors:n,addProperties:i,options:s,isSync:o})=>{let a=r.map(u=>Nh({stdioItem:u,addProperties:i,direction:t,options:s,fileDescriptors:n,isSync:o}));return{direction:t,objectMode:e,stdioItems:a}},Nh=({stdioItem:t,addProperties:e,direction:r,options:n,fileDescriptors:i,isSync:s})=>{let o=rc({stdioItem:t,direction:r,fileDescriptors:i,isSync:s});return o!==void 0?{...t,stream:o}:{...t,...e[r][t.type](t,n)}},io=t=>{for(let{stdioItems:e}of t)for(let{stream:r}of e)r!==void 0&&!H(r)&&r.destroy()},Uh=t=>{if(t.length>1)return t.some(({value:n})=>n==="overlapped")?"overlapped":"pipe";let[{type:e,value:r}]=t;return e==="native"?r:"pipe"};var ac=(t,e)=>br(Gh,t,e,!0),re=({type:t,optionName:e})=>{uc(e,De[t])},Vh=({optionName:t,value:e})=>((e==="ipc"||e==="overlapped")&&uc(t,`"${e}"`),{}),uc=(t,e)=>{throw new TypeError(`The \`${t}\` option cannot be ${e} with synchronous methods.`)},sc={generator(){},asyncGenerator:re,webStream:re,nodeStream:re,webTransform:re,duplex:re,asyncIterable:re,native:Vh},Gh={input:{...sc,fileUrl:({value:t})=>({contents:[oe(ic(t))]}),filePath:({value:{file:t}})=>({contents:[oe(ic(t))]}),fileNumber:re,iterable:({value:t})=>({contents:[...t]}),string:({value:t})=>({contents:[t]}),uint8Array:({value:t})=>({contents:[t]})},output:{...sc,fileUrl:({value:t})=>({path:t}),filePath:({value:{file:t,append:e}})=>({path:t,append:e}),fileNumber:({value:t})=>({path:t}),iterable:re,string:re,uint8Array:re}};var ae=(t,{stripFinalNewline:e},r)=>so(e,r)&&t!==void 0&&!Array.isArray(t)?Me(t):t,so=(t,e)=>e==="all"?t[1]||t[2]:t[e];import{Transform as lg,getDefaultHighWaterMark as bc}from"stream";var yr=(t,e,r,n)=>t||r?void 0:lc(e,n),uo=(t,e,r)=>r?t.flatMap(n=>cc(n,e)):cc(t,e),cc=(t,e)=>{let{transform:r,final:n}=lc(e,{});return[...r(t),...n()]},lc=(t,e)=>(e.previousChunks="",{transform:Wh.bind(void 0,e,t),final:zh.bind(void 0,e)}),Wh=function*(t,e,r){if(typeof r!="string"){yield r;return}let{previousChunks:n}=t,i=-1;for(let s=0;s<r.length;s+=1)if(r[s]===`
`){let o=Hh(r,s,e,t),a=r.slice(i+1,s+1-o);n.length>0&&(a=ao(n,a),n=""),yield a,i=s}i!==r.length-1&&(n=ao(n,r.slice(i+1))),t.previousChunks=n},Hh=(t,e,r,n)=>r?0:(n.isWindowsNewline=e!==0&&t[e-1]==="\r",n.isWindowsNewline?2:1),zh=function*({previousChunks:t}){t.length>0&&(yield t)},pc=({binary:t,preserveNewlines:e,readableObjectMode:r,state:n})=>t||e||r?void 0:{transform:qh.bind(void 0,n)},qh=function*({isWindowsNewline:t=!1},e){let{unixNewline:r,windowsNewline:n,LF:i,concatBytes:s}=typeof e=="string"?Yh:Jh;if(e.at(-1)===i){yield e;return}yield s(e,t?n:r)},ao=(t,e)=>`${t}${e}`,Yh={windowsNewline:`\r
`,unixNewline:`
`,LF:`
`,concatBytes:ao},Kh=(t,e)=>{let r=new Uint8Array(t.length+e.length);return r.set(t,0),r.set(e,t.length),r},Jh={windowsNewline:new Uint8Array([13,10]),unixNewline:new Uint8Array([10]),LF:10,concatBytes:Kh};import{Buffer as Xh}from"buffer";var mc=(t,e)=>t?void 0:Zh.bind(void 0,e),Zh=function*(t,e){if(typeof e!="string"&&!v(e)&&!Xh.isBuffer(e))throw new TypeError(`The \`${t}\` option's transform must use "objectMode: true" to receive as input: ${typeof e}.`);yield e},dc=(t,e)=>t?Qh.bind(void 0,e):eg.bind(void 0,e),Qh=function*(t,e){Dc(t,e),yield e},eg=function*(t,e){if(Dc(t,e),typeof e!="string"&&!v(e))throw new TypeError(`The \`${t}\` option's function must yield a string or an Uint8Array, not ${typeof e}.`);yield e},Dc=(t,e)=>{if(e==null)throw new TypeError(`The \`${t}\` option's function must not call \`yield ${e}\`.
Instead, \`yield\` should either be called with a value, or not be called at all. For example:
  if (condition) { yield value; }`)};import{Buffer as tg}from"buffer";import{StringDecoder as rg}from"string_decoder";var Er=(t,e,r)=>{if(r)return;if(t)return{transform:ng.bind(void 0,new TextEncoder)};let n=new rg(e);return{transform:og.bind(void 0,n),final:ig.bind(void 0,n)}},ng=function*(t,e){tg.isBuffer(e)?yield oe(e):typeof e=="string"?yield t.encode(e):yield e},og=function*(t,e){yield v(e)?t.write(e):e},ig=function*(t){let e=t.end();e!==""&&(yield e)};import{callbackify as fc}from"util";var co=fc(async(t,e,r,n)=>{e.currentIterable=t(...r);try{for await(let i of e.currentIterable)n.push(i)}finally{delete e.currentIterable}}),Fr=async function*(t,e,r){if(r===e.length){yield t;return}let{transform:n=ag}=e[r];for await(let i of n(t))yield*Fr(i,e,r+1)},hc=async function*(t){for(let[e,{final:r}]of Object.entries(t))yield*sg(r,Number(e),t)},sg=async function*(t,e,r){if(t!==void 0)for await(let n of t())yield*Fr(n,r,e+1)},gc=fc(async({currentIterable:t},e)=>{if(t!==void 0){await(e?t.throw(e):t.return());return}if(e)throw e}),ag=function*(t){yield t};var lo=(t,e,r,n)=>{try{for(let i of t(...e))r.push(i);n()}catch(i){n(i)}},Cc=(t,e)=>[...e.flatMap(r=>[...Fe(r,t,0)]),...ot(t)],Fe=function*(t,e,r){if(r===e.length){yield t;return}let{transform:n=cg}=e[r];for(let i of n(t))yield*Fe(i,e,r+1)},ot=function*(t){for(let[e,{final:r}]of Object.entries(t))yield*ug(r,Number(e),t)},ug=function*(t,e,r){if(t!==void 0)for(let n of t())yield*Fe(n,r,e+1)},cg=function*(t){yield t};var po=({value:t,value:{transform:e,final:r,writableObjectMode:n,readableObjectMode:i},optionName:s},{encoding:o})=>{let a={},u=yc(t,o,s),l=Ee(e),c=Ee(r),p=l?co.bind(void 0,Fr,a):lo.bind(void 0,Fe),m=l||c?co.bind(void 0,hc,a):lo.bind(void 0,ot),d=l||c?gc.bind(void 0,a):void 0;return{stream:new lg({writableObjectMode:n,writableHighWaterMark:bc(n),readableObjectMode:i,readableHighWaterMark:bc(i),transform(g,F,b){p([g,u,0],this,b)},flush(g){m([u],this,g)},destroy:d})}},wr=(t,e,r,n)=>{let i=e.filter(({type:o})=>o==="generator"),s=n?i.reverse():i;for(let{value:o,optionName:a}of s){let u=yc(o,r,a);t=Cc(u,t)}return t},yc=({transform:t,final:e,binary:r,writableObjectMode:n,readableObjectMode:i,preserveNewlines:s},o,a)=>{let u={};return[{transform:mc(n,a)},Er(r,o,n),yr(r,s,n,u),{transform:t,final:e},{transform:dc(i,a)},pc({binary:r,preserveNewlines:s,readableObjectMode:i,state:u})].filter(Boolean)};var Ec=(t,e)=>{for(let r of pg(t))mg(t,r,e)},pg=t=>new Set(Object.entries(t).filter(([,{direction:e}])=>e==="input").map(([e])=>Number(e))),mg=(t,e,r)=>{let{stdioItems:n}=t[e],i=n.filter(({contents:a})=>a!==void 0);if(i.length===0)return;if(e!==0){let[{type:a,optionName:u}]=i;throw new TypeError(`Only the \`stdin\` option, not \`${u}\`, can be ${De[a]} with synchronous methods.`)}let o=i.map(({contents:a})=>a).map(a=>dg(a,n));r.input=Ye(o)},dg=(t,e)=>{let r=wr(t,e,"utf8",!0);return Dg(r),Ye(r)},Dg=t=>{let e=t.find(r=>typeof r!="string"&&!v(r));if(e!==void 0)throw new TypeError(`The \`stdin\` option is invalid: when passing objects as input, a transform must be used to serialize them to strings or Uint8Arrays: ${e}.`)};import{writeFileSync as Cg,appendFileSync as bg}from"fs";var Sr=({stdioItems:t,encoding:e,verboseInfo:r,fdNumber:n})=>n!=="all"&&Be(r,n)&&!j.has(e)&&fg(n)&&(t.some(({type:i,value:s})=>i==="native"&&hg.has(s))||t.every(({type:i})=>G.has(i))),fg=t=>t===1||t===2,hg=new Set(["pipe","overlapped"]),Fc=async(t,e,r,n)=>{for await(let i of t)gg(e)||Sc(i,r,n)},wc=(t,e,r)=>{for(let n of t)Sc(n,e,r)},gg=t=>t._readableState.pipes.length>0,Sc=(t,e,r)=>{let n=Pt(t);Z({type:"output",verboseMessage:n,fdNumber:e,verboseInfo:r})};var xc=({fileDescriptors:t,syncResult:{output:e},options:r,isMaxBuffer:n,verboseInfo:i})=>{if(e===null)return{output:Array.from({length:3})};let s={},o=new Set([]);return{output:e.map((u,l)=>yg({result:u,fileDescriptors:t,fdNumber:l,state:s,outputFiles:o,isMaxBuffer:n,verboseInfo:i},r)),...s}},yg=({result:t,fileDescriptors:e,fdNumber:r,state:n,outputFiles:i,isMaxBuffer:s,verboseInfo:o},{buffer:a,encoding:u,lines:l,stripFinalNewline:c,maxBuffer:p})=>{if(t===null)return;let m=Au(t,s,p),d=oe(m),{stdioItems:f,objectMode:g}=e[r],F=Eg([d],f,u,n),{serializedResult:b,finalResult:O=b}=Fg({chunks:F,objectMode:g,encoding:u,lines:l,stripFinalNewline:c,fdNumber:r});wg({serializedResult:b,fdNumber:r,state:n,verboseInfo:o,encoding:u,stdioItems:f,objectMode:g});let T=a[r]?O:void 0;try{return n.error===void 0&&Sg(b,f,i),T}catch(y){return n.error=y,T}},Eg=(t,e,r,n)=>{try{return wr(t,e,r,!1)}catch(i){return n.error=i,t}},Fg=({chunks:t,objectMode:e,encoding:r,lines:n,stripFinalNewline:i,fdNumber:s})=>{if(e)return{serializedResult:t};if(r==="buffer")return{serializedResult:Ye(t)};let o=Ni(t,r);return n[s]?{serializedResult:o,finalResult:uo(o,!i[s],e)}:{serializedResult:o}},wg=({serializedResult:t,fdNumber:e,state:r,verboseInfo:n,encoding:i,stdioItems:s,objectMode:o})=>{if(!Sr({stdioItems:s,encoding:i,verboseInfo:n,fdNumber:e}))return;let a=uo(t,!1,o);try{wc(a,e,n)}catch(u){r.error??=u}},Sg=(t,e,r)=>{for(let{path:n,append:i}of e.filter(({type:s})=>Cr.has(s))){let s=typeof n=="string"?n:n.toString();i||r.has(s)?bg(n,t):(r.add(s),Cg(n,t))}};var Ac=([,t,e],r)=>{if(r.all)return t===void 0?e:e===void 0?t:Array.isArray(t)?Array.isArray(e)?[...t,...e]:[...t,ae(e,r,"all")]:Array.isArray(e)?[ae(t,r,"all"),...e]:v(t)&&v(e)?gn([t,e]):`${t}${e}`};import{once as mo}from"events";var $c=async(t,e)=>{let[r,n]=await xg(t);return e.isForcefullyTerminated??=!1,[r,n]},xg=async t=>{let[e,r]=await Promise.allSettled([mo(t,"spawn"),mo(t,"exit")]);return e.status==="rejected"?[]:r.status==="rejected"?Oc(t):r.value},Oc=async t=>{try{return await mo(t,"exit")}catch{return Oc(t)}},Bc=async t=>{let[e,r]=await t;if(!Ag(e,r)&&Do(e,r))throw new z;return[e,r]},Ag=(t,e)=>t===void 0&&e===void 0,Do=(t,e)=>t!==0||e!==null;var _c=({error:t,status:e,signal:r,output:n},{maxBuffer:i})=>{let s=$g(t,e,r),o=s?.code==="ETIMEDOUT",a=xu(s,n,i);return{resultError:s,exitCode:e,signal:r,timedOut:o,isMaxBuffer:a}},$g=(t,e,r)=>t!==void 0?t:Do(e,r)?new z:void 0;var vc=(t,e,r)=>{let{file:n,commandArguments:i,command:s,escapedCommand:o,startTime:a,verboseInfo:u,options:l,fileDescriptors:c}=Bg(t,e,r),p=Tg({file:n,commandArguments:i,options:l,command:s,escapedCommand:o,verboseInfo:u,fileDescriptors:c,startTime:a});return Le(p,u,l)},Bg=(t,e,r)=>{let{command:n,escapedCommand:i,startTime:s,verboseInfo:o}=Lt(t,e,r),a=_g(r),{file:u,commandArguments:l,options:c}=ir(t,e,a);vg(c);let p=ac(c,o);return{file:u,commandArguments:l,command:n,escapedCommand:i,startTime:s,verboseInfo:o,options:c,fileDescriptors:p}},_g=t=>t.node&&!t.ipc?{...t,ipc:!1}:t,vg=({ipc:t,ipcInput:e,detached:r,cancelSignal:n})=>{e&&xr("ipcInput"),t&&xr("ipc: true"),r&&xr("detached: true"),n&&xr("cancelSignal")},xr=t=>{throw new TypeError(`The "${t}" option cannot be used with synchronous methods.`)},Tg=({file:t,commandArguments:e,options:r,command:n,escapedCommand:i,verboseInfo:s,fileDescriptors:o,startTime:a})=>{let u=Ig({file:t,commandArguments:e,options:r,command:n,escapedCommand:i,fileDescriptors:o,startTime:a});if(u.failed)return u;let{resultError:l,exitCode:c,signal:p,timedOut:m,isMaxBuffer:d}=_c(u,r),{output:f,error:g=l}=xc({fileDescriptors:o,syncResult:u,options:r,isMaxBuffer:d,verboseInfo:s}),F=f.map((O,T)=>ae(O,r,T)),b=ae(Ac(f,r),r,"all");return Mg({error:g,exitCode:c,signal:p,timedOut:m,isMaxBuffer:d,stdio:F,all:b,options:r,command:n,escapedCommand:i,startTime:a})},Ig=({file:t,commandArguments:e,options:r,command:n,escapedCommand:i,fileDescriptors:s,startTime:o})=>{try{Ec(s,r);let a=Rg(r);return Og(...sr(t,e,a))}catch(a){return ke({error:a,command:n,escapedCommand:i,fileDescriptors:s,options:r,startTime:o,isSync:!0})}},Rg=({encoding:t,maxBuffer:e,...r})=>({...r,encoding:"buffer",maxBuffer:Dr(e)}),Mg=({error:t,exitCode:e,signal:r,timedOut:n,isMaxBuffer:i,stdio:s,all:o,options:a,command:u,escapedCommand:l,startTime:c})=>t===void 0?fr({command:u,escapedCommand:l,stdio:s,all:o,ipcOutput:[],options:a,startTime:c}):nt({error:t,command:u,escapedCommand:l,timedOut:n,isCanceled:!1,isGracefullyCanceled:!1,isMaxBuffer:i,isForcefullyTerminated:!1,exitCode:e,signal:r,stdio:s,all:o,ipcOutput:[],options:a,startTime:c,isSync:!0});import{setMaxListeners as Fb}from"events";import{spawn as wb}from"child_process";import Pc from"process";import{once as fo,on as Pg}from"events";var Tc=({anyProcess:t,channel:e,isSubprocess:r,ipc:n},{reference:i=!0,filter:s}={})=>(Te({methodName:"getOneMessage",isSubprocess:r,ipc:n,isConnected:Qt(t)}),kg({anyProcess:t,channel:e,isSubprocess:r,filter:s,reference:i})),kg=async({anyProcess:t,channel:e,isSubprocess:r,filter:n,reference:i})=>{Kt(e,i);let s=de(t,e,r),o=new AbortController;try{return await Promise.race([Lg(s,n,o),jg(s,r,o),Ng(s,r,o)])}catch(a){throw Ie(t),a}finally{o.abort(),Jt(e,i)}},Lg=async(t,e,{signal:r})=>{if(e===void 0){let[n]=await fo(t,"message",{signal:r});return n}for await(let[n]of Pg(t,"message",{signal:r}))if(e(n))return n},jg=async(t,e,{signal:r})=>{await fo(t,"disconnect",{signal:r}),Ca(e)},Ng=async(t,e,{signal:r})=>{let[n]=await fo(t,"strict:error",{signal:r});throw zt(n,e)};import{once as Rc,on as Ug}from"events";var Mc=({anyProcess:t,channel:e,isSubprocess:r,ipc:n},{reference:i=!0}={})=>ho({anyProcess:t,channel:e,isSubprocess:r,ipc:n,shouldAwait:!r,reference:i}),ho=({anyProcess:t,channel:e,isSubprocess:r,ipc:n,shouldAwait:i,reference:s})=>{Te({methodName:"getEachMessage",isSubprocess:r,ipc:n,isConnected:Qt(t)}),Kt(e,s);let o=de(t,e,r),a=new AbortController,u={};return Vg(t,o,a),Gg({ipcEmitter:o,isSubprocess:r,controller:a,state:u}),Wg({anyProcess:t,channel:e,ipcEmitter:o,isSubprocess:r,shouldAwait:i,controller:a,state:u,reference:s})},Vg=async(t,e,r)=>{try{await Rc(e,"disconnect",{signal:r.signal}),r.abort()}catch{}},Gg=async({ipcEmitter:t,isSubprocess:e,controller:r,state:n})=>{try{let[i]=await Rc(t,"strict:error",{signal:r.signal});n.error=zt(i,e),r.abort()}catch{}},Wg=async function*({anyProcess:t,channel:e,ipcEmitter:r,isSubprocess:n,shouldAwait:i,controller:s,state:o,reference:a}){try{for await(let[u]of Ug(r,"message",{signal:s.signal}))Ic(o),yield u}catch{Ic(o)}finally{s.abort(),Jt(e,a),n||Ie(t),i&&await t}},Ic=({error:t})=>{if(t)throw t};var kc=(t,{ipc:e})=>{Object.assign(t,jc(t,!1,e))},Lc=()=>{let t=Pc,e=!0,r=Pc.channel!==void 0;return{...jc(t,e,r),getCancelSignal:Ha.bind(void 0,{anyProcess:t,channel:t.channel,isSubprocess:e,ipc:r})}},jc=(t,e,r)=>({sendMessage:nr.bind(void 0,{anyProcess:t,channel:t.channel,isSubprocess:e,ipc:r}),getOneMessage:Tc.bind(void 0,{anyProcess:t,channel:t.channel,isSubprocess:e,ipc:r}),getEachMessage:Mc.bind(void 0,{anyProcess:t,channel:t.channel,isSubprocess:e,ipc:r})});import{ChildProcess as Hg}from"child_process";import{PassThrough as zg,Readable as qg,Writable as Yg,Duplex as Kg}from"stream";var Nc=({error:t,command:e,escapedCommand:r,fileDescriptors:n,options:i,startTime:s,verboseInfo:o})=>{io(n);let a=new Hg;Jg(a,n),Object.assign(a,{readable:Xg,writable:Zg,duplex:Qg});let u=ke({error:t,command:e,escapedCommand:r,fileDescriptors:n,options:i,startTime:s,isSync:!1}),l=eC(u,o,i);return{subprocess:a,promise:l}},Jg=(t,e)=>{let r=it(),n=it(),i=it(),s=Array.from({length:e.length-3},it),o=it(),a=[r,n,i,...s];Object.assign(t,{stdin:r,stdout:n,stderr:i,all:o,stdio:a})},it=()=>{let t=new zg;return t.end(),t},Xg=()=>new qg({read(){}}),Zg=()=>new Yg({write(){}}),Qg=()=>new Kg({read(){},write(){}}),eC=async(t,e,r)=>Le(t,e,r);import{createReadStream as Uc,createWriteStream as Vc}from"fs";import{Buffer as tC}from"buffer";import{Readable as st,Writable as rC,Duplex as nC}from"stream";var Wc=(t,e)=>br(oC,t,e,!1),at=({type:t,optionName:e})=>{throw new TypeError(`The \`${e}\` option cannot be ${De[t]}.`)},Gc={fileNumber:at,generator:po,asyncGenerator:po,nodeStream:({value:t})=>({stream:t}),webTransform({value:{transform:t,writableObjectMode:e,readableObjectMode:r}}){let n=e||r;return{stream:nC.fromWeb(t,{objectMode:n})}},duplex:({value:{transform:t}})=>({stream:t}),native(){}},oC={input:{...Gc,fileUrl:({value:t})=>({stream:Uc(t)}),filePath:({value:{file:t}})=>({stream:Uc(t)}),webStream:({value:t})=>({stream:st.fromWeb(t)}),iterable:({value:t})=>({stream:st.from(t)}),asyncIterable:({value:t})=>({stream:st.from(t)}),string:({value:t})=>({stream:st.from(t)}),uint8Array:({value:t})=>({stream:st.from(tC.from(t))})},output:{...Gc,fileUrl:({value:t})=>({stream:Vc(t)}),filePath:({value:{file:t,append:e}})=>({stream:Vc(t,e?{flags:"a"}:{})}),webStream:({value:t})=>({stream:rC.fromWeb(t)}),iterable:at,asyncIterable:at,string:at,uint8Array:at}};import{on as iC,once as Hc}from"events";import{PassThrough as sC,getDefaultHighWaterMark as aC}from"stream";import{finished as Yc}from"stream/promises";function we(t){if(!Array.isArray(t))throw new TypeError(`Expected an array, got \`${typeof t}\`.`);for(let i of t)Co(i);let e=t.some(({readableObjectMode:i})=>i),r=uC(t,e),n=new go({objectMode:e,writableHighWaterMark:r,readableHighWaterMark:r});for(let i of t)n.add(i);return n}var uC=(t,e)=>{if(t.length===0)return aC(e);let r=t.filter(({readableObjectMode:n})=>n===e).map(({readableHighWaterMark:n})=>n);return Math.max(...r)},go=class extends sC{#t=new Set([]);#r=new Set([]);#e=new Set([]);#n;#i=Symbol("unpipe");#o=new WeakMap;add(e){if(Co(e),this.#t.has(e))return;this.#t.add(e),this.#n??=cC(this,this.#t,this.#i);let r=mC({passThroughStream:this,stream:e,streams:this.#t,ended:this.#r,aborted:this.#e,onFinished:this.#n,unpipeEvent:this.#i});this.#o.set(e,r),e.pipe(this,{end:!1})}async remove(e){if(Co(e),!this.#t.has(e))return!1;let r=this.#o.get(e);return r===void 0?!1:(this.#o.delete(e),e.unpipe(this),await r,!0)}},cC=async(t,e,r)=>{Ar(t,zc);let n=new AbortController;try{await Promise.race([lC(t,n),pC(t,e,r,n)])}finally{n.abort(),Ar(t,-zc)}},lC=async(t,{signal:e})=>{try{await Yc(t,{signal:e,cleanup:!0})}catch(r){throw Kc(t,r),r}},pC=async(t,e,r,{signal:n})=>{for await(let[i]of iC(t,"unpipe",{signal:n}))e.has(i)&&i.emit(r)},Co=t=>{if(typeof t?.pipe!="function")throw new TypeError(`Expected a readable stream, got: \`${typeof t}\`.`)},mC=async({passThroughStream:t,stream:e,streams:r,ended:n,aborted:i,onFinished:s,unpipeEvent:o})=>{Ar(t,qc);let a=new AbortController;try{await Promise.race([dC(s,e,a),DC({passThroughStream:t,stream:e,streams:r,ended:n,aborted:i,controller:a}),fC({stream:e,streams:r,ended:n,aborted:i,unpipeEvent:o,controller:a})])}finally{a.abort(),Ar(t,-qc)}r.size>0&&r.size===n.size+i.size&&(n.size===0&&i.size>0?bo(t):hC(t))},dC=async(t,e,{signal:r})=>{try{await t,r.aborted||bo(e)}catch(n){r.aborted||Kc(e,n)}},DC=async({passThroughStream:t,stream:e,streams:r,ended:n,aborted:i,controller:{signal:s}})=>{try{await Yc(e,{signal:s,cleanup:!0,readable:!0,writable:!1}),r.has(e)&&n.add(e)}catch(o){if(s.aborted||!r.has(e))return;Jc(o)?i.add(e):Xc(t,o)}},fC=async({stream:t,streams:e,ended:r,aborted:n,unpipeEvent:i,controller:{signal:s}})=>{if(await Hc(t,i,{signal:s}),!t.readable)return Hc(s,"abort",{signal:s});e.delete(t),r.delete(t),n.delete(t)},hC=t=>{t.writable&&t.end()},Kc=(t,e)=>{Jc(e)?bo(t):Xc(t,e)},Jc=t=>t?.code==="ERR_STREAM_PREMATURE_CLOSE",bo=t=>{(t.readable||t.writable)&&t.destroy()},Xc=(t,e)=>{t.destroyed||(t.once("error",gC),t.destroy(e))},gC=()=>{},Ar=(t,e)=>{let r=t.getMaxListeners();r!==0&&r!==Number.POSITIVE_INFINITY&&t.setMaxListeners(r+e)},zc=2,qc=1;import{finished as Zc}from"stream/promises";var Ne=(t,e)=>{t.pipe(e),CC(t,e),bC(t,e)},CC=async(t,e)=>{if(!(H(t)||H(e))){try{await Zc(t,{cleanup:!0,readable:!0,writable:!1})}catch{}yo(e)}},yo=t=>{t.writable&&t.end()},bC=async(t,e)=>{if(!(H(t)||H(e))){try{await Zc(e,{cleanup:!0,readable:!1,writable:!0})}catch{}Eo(t)}},Eo=t=>{t.readable&&t.destroy()};var Qc=(t,e,r)=>{let n=new Map;for(let[i,{stdioItems:s,direction:o}]of Object.entries(e)){for(let{stream:a}of s.filter(({type:u})=>G.has(u)))yC(t,a,o,i);for(let{stream:a}of s.filter(({type:u})=>!G.has(u)))FC({subprocess:t,stream:a,direction:o,fdNumber:i,pipeGroups:n,controller:r})}for(let[i,s]of n.entries()){let o=s.length===1?s[0]:we(s);Ne(o,i)}},yC=(t,e,r,n)=>{r==="output"?Ne(t.stdio[n],e):Ne(e,t.stdio[n]);let i=EC[n];i!==void 0&&(t[i]=e),t.stdio[n]=e},EC=["stdin","stdout","stderr"],FC=({subprocess:t,stream:e,direction:r,fdNumber:n,pipeGroups:i,controller:s})=>{if(e===void 0)return;wC(e,s);let[o,a]=r==="output"?[e,t.stdio[n]]:[t.stdio[n],e],u=i.get(o)??[];i.set(o,[...u,a])},wC=(t,{signal:e})=>{H(t)&&be(t,SC,e)},SC=2;import{addAbortListener as $C}from"events";var Se=[];Se.push("SIGHUP","SIGINT","SIGTERM");process.platform!=="win32"&&Se.push("SIGALRM","SIGABRT","SIGVTALRM","SIGXCPU","SIGXFSZ","SIGUSR2","SIGTRAP","SIGSYS","SIGQUIT","SIGIOT");process.platform==="linux"&&Se.push("SIGIO","SIGPOLL","SIGPWR","SIGSTKFLT");var $r=t=>!!t&&typeof t=="object"&&typeof t.removeListener=="function"&&typeof t.emit=="function"&&typeof t.reallyExit=="function"&&typeof t.listeners=="function"&&typeof t.kill=="function"&&typeof t.pid=="number"&&typeof t.on=="function",Fo=Symbol.for("signal-exit emitter"),wo=globalThis,xC=Object.defineProperty.bind(Object),So=class{emitted={afterExit:!1,exit:!1};listeners={afterExit:[],exit:[]};count=0;id=Math.random();constructor(){if(wo[Fo])return wo[Fo];xC(wo,Fo,{value:this,writable:!1,enumerable:!1,configurable:!1})}on(e,r){this.listeners[e].push(r)}removeListener(e,r){let n=this.listeners[e],i=n.indexOf(r);i!==-1&&(i===0&&n.length===1?n.length=0:n.splice(i,1))}emit(e,r,n){if(this.emitted[e])return!1;this.emitted[e]=!0;let i=!1;for(let s of this.listeners[e])i=s(r,n)===!0||i;return e==="exit"&&(i=this.emit("afterExit",r,n)||i),i}},Or=class{},AC=t=>({onExit(e,r){return t.onExit(e,r)},load(){return t.load()},unload(){return t.unload()}}),xo=class extends Or{onExit(){return()=>{}}load(){}unload(){}},Ao=class extends Or{#t=$o.platform==="win32"?"SIGINT":"SIGHUP";#r=new So;#e;#n;#i;#o={};#s=!1;constructor(e){super(),this.#e=e,this.#o={};for(let r of Se)this.#o[r]=()=>{let n=this.#e.listeners(r),{count:i}=this.#r,s=e;if(typeof s.__signal_exit_emitter__=="object"&&typeof s.__signal_exit_emitter__.count=="number"&&(i+=s.__signal_exit_emitter__.count),n.length===i){this.unload();let o=this.#r.emit("exit",null,r),a=r==="SIGHUP"?this.#t:r;o||e.kill(e.pid,a)}};this.#i=e.reallyExit,this.#n=e.emit}onExit(e,r){if(!$r(this.#e))return()=>{};this.#s===!1&&this.load();let n=r?.alwaysLast?"afterExit":"exit";return this.#r.on(n,e),()=>{this.#r.removeListener(n,e),this.#r.listeners.exit.length===0&&this.#r.listeners.afterExit.length===0&&this.unload()}}load(){if(!this.#s){this.#s=!0,this.#r.count+=1;for(let e of Se)try{let r=this.#o[e];r&&this.#e.on(e,r)}catch{}this.#e.emit=(e,...r)=>this.#u(e,...r),this.#e.reallyExit=e=>this.#a(e)}}unload(){this.#s&&(this.#s=!1,Se.forEach(e=>{let r=this.#o[e];if(!r)throw new Error("Listener not defined for signal: "+e);try{this.#e.removeListener(e,r)}catch{}}),this.#e.emit=this.#n,this.#e.reallyExit=this.#i,this.#r.count-=1)}#a(e){return $r(this.#e)?(this.#e.exitCode=e||0,this.#r.emit("exit",this.#e.exitCode,null),this.#i.call(this.#e,this.#e.exitCode)):0}#u(e,...r){let n=this.#n;if(e==="exit"&&$r(this.#e)){typeof r[0]=="number"&&(this.#e.exitCode=r[0]);let i=n.call(this.#e,e,...r);return this.#r.emit("exit",this.#e.exitCode,null),i}else return n.call(this.#e,e,...r)}},$o=globalThis.process,{onExit:el,load:v3,unload:T3}=AC($r($o)?new Ao($o):new xo);var tl=(t,{cleanup:e,detached:r},{signal:n})=>{if(!e||r)return;let i=el(()=>{t.kill()});$C(n,()=>{i()})};var nl=({source:t,sourcePromise:e,boundOptions:r,createNested:n},...i)=>{let s=kt(),{destination:o,destinationStream:a,destinationError:u,from:l,unpipeSignal:c}=OC(r,n,i),{sourceStream:p,sourceError:m}=_C(t,l),{options:d,fileDescriptors:f}=ee.get(t);return{sourcePromise:e,sourceStream:p,sourceOptions:d,sourceError:m,destination:o,destinationStream:a,destinationError:u,unpipeSignal:c,fileDescriptors:f,startTime:s}},OC=(t,e,r)=>{try{let{destination:n,pipeOptions:{from:i,to:s,unpipeSignal:o}={}}=BC(t,e,...r),a=Yt(n,s);return{destination:n,destinationStream:a,from:i,unpipeSignal:o}}catch(n){return{destinationError:n}}},BC=(t,e,r,...n)=>{if(Array.isArray(r))return{destination:e(rl,t)(r,...n),pipeOptions:t};if(typeof r=="string"||r instanceof URL||fn(r)){if(Object.keys(t).length>0)throw new TypeError('Please use .pipe("file", ..., options) or .pipe(execa("file", ..., options)) instead of .pipe(options)("file", ...).');let[i,s,o]=$t(r,...n);return{destination:e(rl)(i,s,o),pipeOptions:o}}if(ee.has(r)){if(Object.keys(t).length>0)throw new TypeError("Please use .pipe(options)`command` or .pipe($(options)`command`) instead of .pipe(options)($`command`).");return{destination:r,pipeOptions:n[0]}}throw new TypeError(`The first argument must be a template string, an options object, or an Execa subprocess: ${r}`)},rl=({options:t})=>({options:{...t,stdin:"pipe",piped:!0}}),_C=(t,e)=>{try{return{sourceStream:Re(t,e)}}catch(r){return{sourceError:r}}};var il=({sourceStream:t,sourceError:e,destinationStream:r,destinationError:n,fileDescriptors:i,sourceOptions:s,startTime:o})=>{let a=vC({sourceStream:t,sourceError:e,destinationStream:r,destinationError:n});if(a!==void 0)throw Oo({error:a,fileDescriptors:i,sourceOptions:s,startTime:o})},vC=({sourceStream:t,sourceError:e,destinationStream:r,destinationError:n})=>{if(e!==void 0&&n!==void 0)return n;if(n!==void 0)return Eo(t),n;if(e!==void 0)return yo(r),e},Oo=({error:t,fileDescriptors:e,sourceOptions:r,startTime:n})=>ke({error:t,command:ol,escapedCommand:ol,fileDescriptors:e,options:r,startTime:n,isSync:!1}),ol="source.pipe(destination)";var sl=async t=>{let[{status:e,reason:r,value:n=r},{status:i,reason:s,value:o=s}]=await t;if(o.pipedFrom.includes(n)||o.pipedFrom.push(n),i==="rejected")throw o;if(e==="rejected")throw n;return o};import{finished as TC}from"stream/promises";var al=(t,e,r)=>{let n=Br.has(e)?RC(t,e):IC(t,e);return be(t,PC,r.signal),be(e,kC,r.signal),MC(e),n},IC=(t,e)=>{let r=we([t]);return Ne(r,e),Br.set(e,r),r},RC=(t,e)=>{let r=Br.get(e);return r.add(t),r},MC=async t=>{try{await TC(t,{cleanup:!0,readable:!1,writable:!0})}catch{}Br.delete(t)},Br=new WeakMap,PC=2,kC=1;import{aborted as LC}from"util";var ul=(t,e)=>t===void 0?[]:[jC(t,e)],jC=async(t,{sourceStream:e,mergedStream:r,fileDescriptors:n,sourceOptions:i,startTime:s})=>{await LC(t,e),await r.remove(e);let o=new Error("Pipe canceled by `unpipeSignal` option.");throw Oo({error:o,fileDescriptors:n,sourceOptions:i,startTime:s})};var _r=(t,...e)=>{if($(e[0]))return _r.bind(void 0,{...t,boundOptions:{...t.boundOptions,...e[0]}});let{destination:r,...n}=nl(t,...e),i=NC({...n,destination:r});return i.pipe=_r.bind(void 0,{...t,source:r,sourcePromise:i,boundOptions:{}}),i},NC=async({sourcePromise:t,sourceStream:e,sourceOptions:r,sourceError:n,destination:i,destinationStream:s,destinationError:o,unpipeSignal:a,fileDescriptors:u,startTime:l})=>{let c=UC(t,i);il({sourceStream:e,sourceError:n,destinationStream:s,destinationError:o,fileDescriptors:u,sourceOptions:r,startTime:l});let p=new AbortController;try{let m=al(e,s,p);return await Promise.race([sl(c),...ul(a,{sourceStream:e,mergedStream:m,sourceOptions:r,fileDescriptors:u,startTime:l})])}finally{p.abort()}},UC=(t,e)=>Promise.allSettled([t,e]);import{setImmediate as YC}from"timers/promises";import{on as VC}from"events";import{getDefaultHighWaterMark as GC}from"stream";var vr=({subprocessStdout:t,subprocess:e,binary:r,shouldEncode:n,encoding:i,preserveNewlines:s})=>{let o=new AbortController;return WC(e,o),ll({stream:t,controller:o,binary:r,shouldEncode:!t.readableObjectMode&&n,encoding:i,shouldSplit:!t.readableObjectMode,preserveNewlines:s})},WC=async(t,e)=>{try{await t}catch{}finally{e.abort()}},Bo=({stream:t,onStreamEnd:e,lines:r,encoding:n,stripFinalNewline:i,allMixed:s})=>{let o=new AbortController;HC(e,o,t);let a=t.readableObjectMode&&!s;return ll({stream:t,controller:o,binary:n==="buffer",shouldEncode:!a,encoding:n,shouldSplit:!a&&r,preserveNewlines:!i})},HC=async(t,e,r)=>{try{await t}catch{r.destroy()}finally{e.abort()}},ll=({stream:t,controller:e,binary:r,shouldEncode:n,encoding:i,shouldSplit:s,preserveNewlines:o})=>{let a=VC(t,"data",{signal:e.signal,highWaterMark:cl,highWatermark:cl});return zC({onStdoutChunk:a,controller:e,binary:r,shouldEncode:n,encoding:i,shouldSplit:s,preserveNewlines:o})},_o=GC(!0),cl=_o,zC=async function*({onStdoutChunk:t,controller:e,binary:r,shouldEncode:n,encoding:i,shouldSplit:s,preserveNewlines:o}){let a=qC({binary:r,shouldEncode:n,encoding:i,shouldSplit:s,preserveNewlines:o});try{for await(let[u]of t)yield*Fe(u,a,0)}catch(u){if(!e.signal.aborted)throw u}finally{yield*ot(a)}},qC=({binary:t,shouldEncode:e,encoding:r,shouldSplit:n,preserveNewlines:i})=>[Er(t,r,!e),yr(t,i,!n,{})].filter(Boolean);var pl=async({stream:t,onStreamEnd:e,fdNumber:r,encoding:n,buffer:i,maxBuffer:s,lines:o,allMixed:a,stripFinalNewline:u,verboseInfo:l,streamInfo:c})=>{let p=KC({stream:t,onStreamEnd:e,fdNumber:r,encoding:n,allMixed:a,verboseInfo:l,streamInfo:c});if(!i){await Promise.all([JC(t),p]);return}let m=so(u,r),d=Bo({stream:t,onStreamEnd:e,lines:o,encoding:n,stripFinalNewline:m,allMixed:a}),[f]=await Promise.all([XC({stream:t,iterable:d,fdNumber:r,encoding:n,maxBuffer:s,lines:o}),p]);return f},KC=async({stream:t,onStreamEnd:e,fdNumber:r,encoding:n,allMixed:i,verboseInfo:s,streamInfo:{fileDescriptors:o}})=>{if(!Sr({stdioItems:o[r]?.stdioItems,encoding:n,verboseInfo:s,fdNumber:r}))return;let a=Bo({stream:t,onStreamEnd:e,lines:!0,encoding:n,stripFinalNewline:!0,allMixed:i});await Fc(a,t,r,s)},JC=async t=>{await YC(),t.readableFlowing===null&&t.resume()},XC=async({stream:t,stream:{readableObjectMode:e},iterable:r,fdNumber:n,encoding:i,maxBuffer:s,lines:o})=>{try{return e||o?await lr(r,{maxBuffer:s}):i==="buffer"?new Uint8Array(await pr(r,{maxBuffer:s})):await dr(r,{maxBuffer:s})}catch(a){return ml(Fu({error:a,stream:t,readableObjectMode:e,lines:o,encoding:i,fdNumber:n}))}},vo=async t=>{try{return await t}catch(e){return ml(e)}},ml=({bufferedData:t})=>Li(t)?new Uint8Array(t):t;import{finished as ZC}from"stream/promises";var ut=async(t,e,r,{isSameDirection:n,stopOnExit:i=!1}={})=>{let s=QC(t,r),o=new AbortController;try{await Promise.race([...i?[r.exitPromise]:[],ZC(t,{cleanup:!0,signal:o.signal})])}catch(a){s.stdinCleanedUp||rb(a,e,r,n)}finally{o.abort()}},QC=(t,{originalStreams:[e],subprocess:r})=>{let n={stdinCleanedUp:!1};return t===e&&eb(t,r,n),n},eb=(t,e,r)=>{let{_destroy:n}=t;t._destroy=(...i)=>{tb(e,r),n.call(t,...i)}},tb=({exitCode:t,signalCode:e},r)=>{(t!==null||e!==null)&&(r.stdinCleanedUp=!0)},rb=(t,e,r,n)=>{if(!nb(t,e,r,n))throw t},nb=(t,e,r,n=!0)=>r.propagating?dl(t)||Tr(t):(r.propagating=!0,To(r,e)===n?dl(t):Tr(t)),To=({fileDescriptors:t},e)=>e!=="all"&&t[e].direction==="input",Tr=t=>t?.code==="ERR_STREAM_PREMATURE_CLOSE",dl=t=>t?.code==="EPIPE";var Dl=({subprocess:t,encoding:e,buffer:r,maxBuffer:n,lines:i,stripFinalNewline:s,verboseInfo:o,streamInfo:a})=>t.stdio.map((u,l)=>Io({stream:u,fdNumber:l,encoding:e,buffer:r[l],maxBuffer:n[l],lines:i[l],allMixed:!1,stripFinalNewline:s,verboseInfo:o,streamInfo:a})),Io=async({stream:t,fdNumber:e,encoding:r,buffer:n,maxBuffer:i,lines:s,allMixed:o,stripFinalNewline:a,verboseInfo:u,streamInfo:l})=>{if(!t)return;let c=ut(t,e,l);if(To(l,e)){await c;return}let[p]=await Promise.all([pl({stream:t,onStreamEnd:c,fdNumber:e,encoding:r,buffer:n,maxBuffer:i,lines:s,allMixed:o,stripFinalNewline:a,verboseInfo:u,streamInfo:l}),c]);return p};var fl=({stdout:t,stderr:e},{all:r})=>r&&(t||e)?we([t,e].filter(Boolean)):void 0,hl=({subprocess:t,encoding:e,buffer:r,maxBuffer:n,lines:i,stripFinalNewline:s,verboseInfo:o,streamInfo:a})=>Io({...ob(t,r),fdNumber:"all",encoding:e,maxBuffer:n[1]+n[2],lines:i[1]||i[2],allMixed:ib(t),stripFinalNewline:s,verboseInfo:o,streamInfo:a}),ob=({stdout:t,stderr:e,all:r},[,n,i])=>{let s=n||i;return s?n?i?{stream:r,buffer:s}:{stream:t,buffer:s}:{stream:e,buffer:s}:{stream:r,buffer:s}},ib=({all:t,stdout:e,stderr:r})=>t&&e&&r&&e.readableObjectMode!==r.readableObjectMode;import{once as sb}from"events";var gl=t=>Be(t,"ipc"),Cl=(t,e)=>{let r=Pt(t);Z({type:"ipc",verboseMessage:r,fdNumber:"ipc",verboseInfo:e})};var bl=async({subprocess:t,buffer:e,maxBuffer:r,ipc:n,ipcOutput:i,verboseInfo:s})=>{if(!n)return i;let o=gl(s),a=ie(e,"ipc"),u=ie(r,"ipc");for await(let l of ho({anyProcess:t,channel:t.channel,isSubprocess:!1,ipc:n,shouldAwait:!1,reference:!0}))a&&(wu(t,i,u),i.push(l)),o&&Cl(l,s);return i},yl=async(t,e)=>(await Promise.allSettled([t]),e);var El=async({subprocess:t,options:{encoding:e,buffer:r,maxBuffer:n,lines:i,timeoutDuration:s,cancelSignal:o,gracefulCancel:a,forceKillAfterDelay:u,stripFinalNewline:l,ipc:c,ipcInput:p},context:m,verboseInfo:d,fileDescriptors:f,originalStreams:g,onInternalError:F,controller:b})=>{let O=$c(t,m),T={originalStreams:g,fileDescriptors:f,subprocess:t,exitPromise:O,propagating:!1},y=Dl({subprocess:t,encoding:e,buffer:r,maxBuffer:n,lines:i,stripFinalNewline:l,verboseInfo:d,streamInfo:T}),S=hl({subprocess:t,encoding:e,buffer:r,maxBuffer:n,lines:i,stripFinalNewline:l,verboseInfo:d,streamInfo:T}),_=[],P=bl({subprocess:t,buffer:r,maxBuffer:n,ipc:c,ipcOutput:_,verboseInfo:d}),ue=ab(g,t,T),ce=ub(f,T);try{return await Promise.race([Promise.all([{},Bc(O),Promise.all(y),S,P,tu(t,p),...ue,...ce]),F,cb(t,b),...Ja(t,s,m,b),...ga({subprocess:t,cancelSignal:o,gracefulCancel:a,context:m,controller:b}),...Ya({subprocess:t,cancelSignal:o,gracefulCancel:a,forceKillAfterDelay:u,context:m,controller:b})])}catch(kr){return m.terminationReason??="other",Promise.all([{error:kr},O,Promise.all(y.map(Ge=>vo(Ge))),vo(S),yl(P,_),Promise.allSettled(ue),Promise.allSettled(ce)])}},ab=(t,e,r)=>t.map((n,i)=>n===e.stdio[i]?void 0:ut(n,i,r)),ub=(t,e)=>t.flatMap(({stdioItems:r},n)=>r.filter(({value:i,stream:s=i})=>Y(s,{checkOpen:!1})&&!H(s)).map(({type:i,value:s,stream:o=s})=>ut(o,n,e,{isSameDirection:G.has(i),stopOnExit:i==="native"}))),cb=async(t,{signal:e})=>{let[r]=await sb(t,"error",{signal:e});throw r};var Fl=()=>({readableDestroy:new WeakMap,writableFinal:new WeakMap,writableDestroy:new WeakMap}),ct=(t,e,r)=>{let n=t[r];n.has(e)||n.set(e,[]);let i=n.get(e),s=Q();return i.push(s),{resolve:s.resolve.bind(s),promises:i}},Ue=async({resolve:t,promises:e},r)=>{t();let[n]=await Promise.race([Promise.allSettled([!0,r]),Promise.all([!1,...e])]);return!n};import{Readable as lb}from"stream";import{callbackify as pb}from"util";import{finished as wl}from"stream/promises";var Ro=async t=>{if(t!==void 0)try{await Mo(t)}catch{}},Sl=async t=>{if(t!==void 0)try{await Po(t)}catch{}},Mo=async t=>{await wl(t,{cleanup:!0,readable:!1,writable:!0})},Po=async t=>{await wl(t,{cleanup:!0,readable:!0,writable:!1})},Ir=async(t,e)=>{if(await t,e)throw e},Rr=(t,e,r)=>{r&&!Tr(r)?t.destroy(r):e&&t.destroy()};var xl=({subprocess:t,concurrentStreams:e,encoding:r},{from:n,binary:i=!0,preserveNewlines:s=!0}={})=>{let o=i||j.has(r),{subprocessStdout:a,waitReadableDestroy:u}=ko(t,n,e),{readableEncoding:l,readableObjectMode:c,readableHighWaterMark:p}=Lo(a,o),{read:m,onStdoutDataDone:d}=jo({subprocessStdout:a,subprocess:t,binary:o,encoding:r,preserveNewlines:s}),f=new lb({read:m,destroy:pb(Uo.bind(void 0,{subprocessStdout:a,subprocess:t,waitReadableDestroy:u})),highWaterMark:p,objectMode:c,encoding:l});return No({subprocessStdout:a,onStdoutDataDone:d,readable:f,subprocess:t}),f},ko=(t,e,r)=>{let n=Re(t,e),i=ct(r,n,"readableDestroy");return{subprocessStdout:n,waitReadableDestroy:i}},Lo=({readableEncoding:t,readableObjectMode:e,readableHighWaterMark:r},n)=>n?{readableEncoding:t,readableObjectMode:e,readableHighWaterMark:r}:{readableEncoding:t,readableObjectMode:!0,readableHighWaterMark:_o},jo=({subprocessStdout:t,subprocess:e,binary:r,encoding:n,preserveNewlines:i})=>{let s=Q(),o=vr({subprocessStdout:t,subprocess:e,binary:r,shouldEncode:!r,encoding:n,preserveNewlines:i});return{read(){mb(this,o,s)},onStdoutDataDone:s}},mb=async(t,e,r)=>{try{let{value:n,done:i}=await e.next();i?r.resolve():t.push(n)}catch{}},No=async({subprocessStdout:t,onStdoutDataDone:e,readable:r,subprocess:n,subprocessStdin:i})=>{try{await Po(t),await n,await Ro(i),await e,r.readable&&r.push(null)}catch(s){await Ro(i),Al(r,s)}},Uo=async({subprocessStdout:t,subprocess:e,waitReadableDestroy:r},n)=>{await Ue(r,e)&&(Al(t,n),await Ir(e,n))},Al=(t,e)=>{Rr(t,t.readable,e)};import{Writable as db}from"stream";import{callbackify as $l}from"util";var Ol=({subprocess:t,concurrentStreams:e},{to:r}={})=>{let{subprocessStdin:n,waitWritableFinal:i,waitWritableDestroy:s}=Vo(t,r,e),o=new db({...Go(n,t,i),destroy:$l(Ho.bind(void 0,{subprocessStdin:n,subprocess:t,waitWritableFinal:i,waitWritableDestroy:s})),highWaterMark:n.writableHighWaterMark,objectMode:n.writableObjectMode});return Wo(n,o),o},Vo=(t,e,r)=>{let n=Yt(t,e),i=ct(r,n,"writableFinal"),s=ct(r,n,"writableDestroy");return{subprocessStdin:n,waitWritableFinal:i,waitWritableDestroy:s}},Go=(t,e,r)=>({write:Db.bind(void 0,t),final:$l(fb.bind(void 0,t,e,r))}),Db=(t,e,r,n)=>{t.write(e,r)?n():t.once("drain",n)},fb=async(t,e,r)=>{await Ue(r,e)&&(t.writable&&t.end(),await e)},Wo=async(t,e,r)=>{try{await Mo(t),e.writable&&e.end()}catch(n){await Sl(r),Bl(e,n)}},Ho=async({subprocessStdin:t,subprocess:e,waitWritableFinal:r,waitWritableDestroy:n},i)=>{await Ue(r,e),await Ue(n,e)&&(Bl(t,i),await Ir(e,i))},Bl=(t,e)=>{Rr(t,t.writable,e)};import{Duplex as hb}from"stream";import{callbackify as gb}from"util";var _l=({subprocess:t,concurrentStreams:e,encoding:r},{from:n,to:i,binary:s=!0,preserveNewlines:o=!0}={})=>{let a=s||j.has(r),{subprocessStdout:u,waitReadableDestroy:l}=ko(t,n,e),{subprocessStdin:c,waitWritableFinal:p,waitWritableDestroy:m}=Vo(t,i,e),{readableEncoding:d,readableObjectMode:f,readableHighWaterMark:g}=Lo(u,a),{read:F,onStdoutDataDone:b}=jo({subprocessStdout:u,subprocess:t,binary:a,encoding:r,preserveNewlines:o}),O=new hb({read:F,...Go(c,t,p),destroy:gb(Cb.bind(void 0,{subprocessStdout:u,subprocessStdin:c,subprocess:t,waitReadableDestroy:l,waitWritableFinal:p,waitWritableDestroy:m})),readableHighWaterMark:g,writableHighWaterMark:c.writableHighWaterMark,readableObjectMode:f,writableObjectMode:c.writableObjectMode,encoding:d});return No({subprocessStdout:u,onStdoutDataDone:b,readable:O,subprocess:t,subprocessStdin:c}),Wo(c,O,u),O},Cb=async({subprocessStdout:t,subprocessStdin:e,subprocess:r,waitReadableDestroy:n,waitWritableFinal:i,waitWritableDestroy:s},o)=>{await Promise.all([Uo({subprocessStdout:t,subprocess:r,waitReadableDestroy:n},o),Ho({subprocessStdin:e,subprocess:r,waitWritableFinal:i,waitWritableDestroy:s},o)])};var zo=(t,e,{from:r,binary:n=!1,preserveNewlines:i=!1}={})=>{let s=n||j.has(e),o=Re(t,r),a=vr({subprocessStdout:o,subprocess:t,binary:s,shouldEncode:!0,encoding:e,preserveNewlines:i});return bb(a,o,t)},bb=async function*(t,e,r){try{yield*t}finally{e.readable&&e.destroy(),await r}};var vl=(t,{encoding:e})=>{let r=Fl();t.readable=xl.bind(void 0,{subprocess:t,concurrentStreams:r,encoding:e}),t.writable=Ol.bind(void 0,{subprocess:t,concurrentStreams:r}),t.duplex=_l.bind(void 0,{subprocess:t,concurrentStreams:r,encoding:e}),t.iterable=zo.bind(void 0,t,e),t[Symbol.asyncIterator]=zo.bind(void 0,t,e,{})};var Tl=(t,e)=>{for(let[r,n]of Eb){let i=n.value.bind(e);Reflect.defineProperty(t,r,{...n,value:i})}},yb=(async()=>{})().constructor.prototype,Eb=["then","catch","finally"].map(t=>[t,Reflect.getOwnPropertyDescriptor(yb,t)]);var Il=(t,e,r,n)=>{let{file:i,commandArguments:s,command:o,escapedCommand:a,startTime:u,verboseInfo:l,options:c,fileDescriptors:p}=Sb(t,e,r),{subprocess:m,promise:d}=Ab({file:i,commandArguments:s,options:c,startTime:u,verboseInfo:l,command:o,escapedCommand:a,fileDescriptors:p});return m.pipe=_r.bind(void 0,{source:m,sourcePromise:d,boundOptions:{},createNested:n}),Tl(m,d),ee.set(m,{options:c,fileDescriptors:p}),m},Sb=(t,e,r)=>{let{command:n,escapedCommand:i,startTime:s,verboseInfo:o}=Lt(t,e,r),{file:a,commandArguments:u,options:l}=ir(t,e,r),c=xb(l),p=Wc(c,o);return{file:a,commandArguments:u,command:n,escapedCommand:i,startTime:s,verboseInfo:o,options:c,fileDescriptors:p}},xb=({timeout:t,signal:e,...r})=>{if(e!==void 0)throw new TypeError('The "signal" option has been renamed to "cancelSignal" instead.');return{...r,timeoutDuration:t}},Ab=({file:t,commandArguments:e,options:r,startTime:n,verboseInfo:i,command:s,escapedCommand:o,fileDescriptors:a})=>{let u;try{u=wb(...sr(t,e,r))}catch(f){return Nc({error:f,command:s,escapedCommand:o,fileDescriptors:a,options:r,startTime:n,verboseInfo:i})}let l=new AbortController;Fb(Number.POSITIVE_INFINITY,l.signal);let c=[...u.stdio];Qc(u,a,l),tl(u,r,l);let p={},m=Q();u.kill=fa.bind(void 0,{kill:u.kill.bind(u),options:r,onInternalError:m,context:p,controller:l}),u.all=fl(u,r),vl(u,r),kc(u,r);let d=$b({subprocess:u,options:r,startTime:n,verboseInfo:i,fileDescriptors:a,originalStreams:c,command:s,escapedCommand:o,context:p,onInternalError:m,controller:l});return{subprocess:u,promise:d}},$b=async({subprocess:t,options:e,startTime:r,verboseInfo:n,fileDescriptors:i,originalStreams:s,command:o,escapedCommand:a,context:u,onInternalError:l,controller:c})=>{let[p,[m,d],f,g,F]=await El({subprocess:t,options:e,context:u,verboseInfo:n,fileDescriptors:i,originalStreams:s,onInternalError:l,controller:c});c.abort(),l.resolve();let b=f.map((y,S)=>ae(y,e,S)),O=ae(g,e,"all"),T=Ob({errorInfo:p,exitCode:m,signal:d,stdio:b,all:O,ipcOutput:F,context:u,options:e,command:o,escapedCommand:a,startTime:r});return Le(T,n,e)},Ob=({errorInfo:t,exitCode:e,signal:r,stdio:n,all:i,ipcOutput:s,context:o,options:a,command:u,escapedCommand:l,startTime:c})=>"error"in t?nt({error:t.error,command:u,escapedCommand:l,timedOut:o.terminationReason==="timeout",isCanceled:o.terminationReason==="cancel"||o.terminationReason==="gracefulCancel",isGracefullyCanceled:o.terminationReason==="gracefulCancel",isMaxBuffer:t.error instanceof te,isForcefullyTerminated:o.isForcefullyTerminated,exitCode:e,signal:r,stdio:n,all:i,ipcOutput:s,options:a,startTime:c,isSync:!1}):fr({command:u,escapedCommand:l,stdio:n,all:i,ipcOutput:s,options:a,startTime:c});var Mr=(t,e)=>{let r=Object.fromEntries(Object.entries(e).map(([n,i])=>[n,Bb(n,t[n],i)]));return{...t,...r}},Bb=(t,e,r)=>_b.has(t)&&$(e)&&$(r)?{...e,...r}:r,_b=new Set(["env",...En]);var fe=(t,e,r,n)=>{let i=(o,a,u)=>fe(o,a,r,u),s=(...o)=>vb({mapArguments:t,deepOptions:r,boundOptions:e,setBoundExeca:n,createNested:i},...o);return n!==void 0&&n(s,i,e),s},vb=({mapArguments:t,deepOptions:e={},boundOptions:r={},setBoundExeca:n,createNested:i},s,...o)=>{if($(s))return i(t,Mr(r,s),n);let{file:a,commandArguments:u,options:l,isSync:c}=Tb({mapArguments:t,firstArgument:s,nextArguments:o,deepOptions:e,boundOptions:r});return c?vc(a,u,l):Il(a,u,l,i)},Tb=({mapArguments:t,firstArgument:e,nextArguments:r,deepOptions:n,boundOptions:i})=>{let s=Wi(e)?Hi(e,r):[e,...r],[o,a,u]=$t(...s),l=Mr(Mr(n,i),u),{file:c=o,commandArguments:p=a,options:m=l,isSync:d=!1}=t({file:o,commandArguments:a,options:l});return{file:c,commandArguments:p,options:m,isSync:d}};var Rl=({file:t,commandArguments:e})=>Pl(t,e),Ml=({file:t,commandArguments:e})=>({...Pl(t,e),isSync:!0}),Pl=(t,e)=>{if(e.length>0)throw new TypeError(`The command and its arguments must be passed as a single string: ${t} ${e}.`);let[r,...n]=Ib(t);return{file:r,commandArguments:n}},Ib=t=>{if(typeof t!="string")throw new TypeError(`The command must be a string: ${String(t)}.`);let e=t.trim();if(e==="")return[];let r=[];for(let n of e.split(Rb)){let i=r.at(-1);i&&i.endsWith("\\")?r[r.length-1]=`${i.slice(0,-1)} ${n}`:r.push(n)}return r},Rb=/ +/g;var kl=(t,e,r)=>{t.sync=e(Mb,r),t.s=t.sync},Ll=({options:t})=>jl(t),Mb=({options:t})=>({...jl(t),isSync:!0}),jl=t=>({options:{...Pb(t),...t}}),Pb=({input:t,inputFile:e,stdio:r})=>t===void 0&&e===void 0&&r===void 0?{stdin:"inherit"}:{},Nl={preferLocal:!0};var lt=fe(()=>({})),EA=fe(()=>({isSync:!0})),FA=fe(Rl),wA=fe(Ml),SA=fe(Za),xA=fe(Ll,{},Nl,kl),{sendMessage:AA,getOneMessage:$A,getEachMessage:OA,getCancelSignal:BA}=Lc();async function K(t,e,r){return lt("docker",["compose",...t],{cwd:e,...r})}async function Ve(t,e){let{stdout:r}=await lt("docker",["compose","exec","-T","web","bin/rails","runner",t],{cwd:e});return r}async function Ul(t){await lt("docker",["compose","exec","web","bin/rails","c"],{cwd:t,stdio:"inherit"})}async function Pr(t,e){await lt("docker",["compose","logs","-f",t],{cwd:e,stdio:"inherit"})}function Vl(t){t.command("dev").description("Start services and stream logs").action(async()=>{let e=B(),r=I();r.start("Starting Docker services..."),await K(["up","-d"],e.projectDir),r.stop("Docker services started."),At(["",pt.default.bold("Admin Dashboard"),`  ${pt.default.cyan(`http://localhost:${e.port}/admin`)}`,`  Email:    ${Ii}`,`  Password: ${Ri}`,"",pt.default.bold("Store API"),`  ${pt.default.cyan(`http://localhost:${e.port}/api/v3/store`)}`,""].join(`
`),"Spree Commerce"),M.info(`Streaming logs (Ctrl+C to stop)...
`),await Pr("web",e.projectDir)})}function Gl(t){t.command("stop").description("Stop services").action(async()=>{let e=B(),r=I();r.start("Stopping services..."),await K(["stop"],e.projectDir),r.stop("Services stopped.")})}function Wl(t){t.command("update").description("Pull latest image and recreate containers").action(async()=>{let e=B(),r=I();r.start("Pulling latest images..."),await K(["pull"],e.projectDir),r.stop("Images pulled."),r.start("Recreating containers..."),await K(["up","-d"],e.projectDir),r.stop("Containers recreated."),M.success("Update complete! Migrations will run automatically on startup."),M.info("Run `spree logs` to follow the startup progress.")})}function Hl(t){t.command("logs").description("Stream service logs").argument("[service]","service name (web or worker)","web").action(async e=>{let r=B();await Pr(e,r.projectDir)})}function zl(t){t.command("console").description("Open Rails console").action(async()=>{let e=B();await Ul(e.projectDir)})}var ql=X(he(),1);function Yl(t){t.command("user").description("Manage admin users").command("create").description("Create an admin user").option("--email <email>","admin email").option("--password <password>","admin password").action(async r=>{let n=B(),i=r.email,s=r.password;if(!i){let c=await xt({message:"Admin email:",placeholder:"admin@example.com",validate(p){if(!p)return"Email is required";if(!p.includes("@"))return"Invalid email"}});pe(c)&&(Ae("Cancelled."),process.exit(0)),i=c}if(!s){let c=await vi({message:"Admin password:",validate(p){if(!p||p.length<6)return"Password must be at least 6 characters"}});pe(c)&&(Ae("Cancelled."),process.exit(0)),s=c}let o=I();o.start("Creating admin user...");let a=i.replace(/'/g,"\\'"),u=s.replace(/'/g,"\\'"),l=["admin = Spree.admin_user_class.create!(",`email: '${a}',`,`password: '${u}',`,`password_confirmation: '${u}'`,");","admin.add_role('admin', Spree::Store.default);","print admin.email"].join(" ");await Ve(l,n.projectDir),o.stop("Admin user created."),M.success(`Email: ${ql.default.cyan(i)}`)})}var N=X(he(),1);function Kl(t){let e=t.command("api-key").description("Manage API keys");e.command("create").description("Create an API key").option("--name <name>","key name").option("--type <type>","key type: publishable or secret").action(async r=>{let n=B(),i=r.name,s=r.type;if(!i){let f=await xt({message:"Key name:",placeholder:"My Storefront",validate(g){if(!g)return"Name is required"}});pe(f)&&(Ae("Cancelled."),process.exit(0)),i=f}if(!s){let f=await Ti({message:"Key type:",options:[{value:"publishable",label:"Publishable (for storefronts)"},{value:"secret",label:"Secret (for server-to-server)"}]});pe(f)&&(Ae("Cancelled."),process.exit(0)),s=f}if(s!=="publishable"&&s!=="secret")throw new Error('Key type must be "publishable" or "secret".');let o=I();o.start("Creating API key...");let u=["key = Spree::Store.default.api_keys.create!(",`name: '${i.replace(/'/g,"\\'")}',`,`key_type: '${s}'`,");","print key.plaintext_token"].join(" "),l=await Ve(u,n.projectDir),c=s==="publishable"?"pk_":"sk_",p=l.match(new RegExp(`${c}[A-Za-z0-9_-]+`)),m=p?p[0]:l.trim();o.stop("API key created.");let d=[`${N.default.bold("Name:")}  ${i}`,`${N.default.bold("Type:")}  ${s}`,`${N.default.bold("Token:")} ${N.default.cyan(m)}`];s==="secret"&&(d.push(""),d.push(N.default.yellow("Save this token now \u2014 secret keys cannot be retrieved later."))),At(d.join(`
`),"API Key")}),e.command("list").description("List API keys").action(async()=>{let r=B(),n=I();n.start("Fetching API keys...");let i=["Spree::Store.default.api_keys.order(created_at: :desc).each { |k|","status = k.revoked_at ? 'revoked' : 'active';","prefix = k.secret? ? k.token_prefix : k.token;","puts [k.name, k.key_type, prefix, k.created_at.strftime('%Y-%m-%d %H:%M'), status].join('|')","}"].join(" "),s=await Ve(i,r.projectDir);n.stop("");let o=s.trim().split(`
`).filter(Boolean);if(o.length===0){M.info("No API keys found.");return}console.log(""),console.log(`  ${N.default.bold("Name".padEnd(25))} ${N.default.bold("Type".padEnd(14))} ${N.default.bold("Token".padEnd(30))} ${N.default.bold("Created".padEnd(18))} ${N.default.bold("Status")}`),console.log(`  ${"\u2500".repeat(95)}`);for(let a of o){let[u,l,c,p,m]=a.split("|"),d=m==="active"?N.default.green(m):N.default.red(m);console.log(`  ${(u??"").padEnd(25)} ${(l??"").padEnd(14)} ${(c??"").padEnd(30)} ${(p??"").padEnd(18)} ${d}`)}console.log("")}),e.command("revoke").description("Revoke an API key").argument("<token>","token or token prefix of the key to revoke").action(async r=>{let n=B(),i=I();i.start("Revoking API key...");let s=r.replace(/'/g,"\\'"),o=[`key = Spree::Store.default.api_keys.find_by(token: '${s}') ||`,`Spree::Store.default.api_keys.find_by!(token_prefix: '${s}');`,"key.revoke!;","print key.name"].join(" "),u=(await Ve(o,n.projectDir)).trim();i.stop(`API key "${u}" revoked.`)})}function Jl(t){t.command("seed").description("Seed the database").action(async()=>{let e=B(),r=I();r.start("Seeding database..."),await K(["exec","-T","web","bin/rails","db:seed"],e.projectDir),r.stop("Database seeded.")})}function Xl(t){t.command("sample-data").description("Load sample data (products, categories, images)").action(async()=>{let e=B(),r=I();r.start("Loading sample data..."),await K(["exec","-T","web","bin/rails","spree:load_sample_data"],e.projectDir),r.stop("Sample data loaded.")})}var J=new ai().name("spree").description("CLI for managing Spree Commerce projects").version("0.1.0");Vl(J);Gl(J);Wl(J);Hl(J);zl(J);Yl(J);Kl(J);Jl(J);Xl(J);J.exitOverride();async function kb(){try{await J.parseAsync()}catch(t){t instanceof Error&&"code"in t&&(t.code==="commander.helpDisplayed"||t.code==="commander.version")&&process.exit(0);let e=t instanceof Error?t.message:"An unexpected error occurred.";console.error(`
${Zl.default.red("Error:")} ${e}
`),process.exit(1)}}kb();
