// card-validator@10.0.2 downloaded from https://ga.jspm.io/npm:card-validator@10.0.2/dist/index.js

import*as e from"credit-card-type";var r={};Object.defineProperty(r,"__esModule",{value:true});r.cardholderName=void 0;var t=/^[\d\s-]*$/;var i=255;function verification$6(e,r){return{isValid:e,isPotentiallyValid:r}}function cardholderName(e){return typeof e!=="string"?verification$6(false,false):e.length===0?verification$6(false,true):e.length>i?verification$6(false,false):t.test(e)?verification$6(false,true):verification$6(true,true)}r.cardholderName=cardholderName;var a={};function luhn10$1(e){var r=0;var t=false;var i=e.length-1;var a;while(i>=0){a=parseInt(e.charAt(i),10);if(t){a*=2;a>9&&(a=a%10+1)}t=!t;r+=a;i--}return r%10===0}a=luhn10$1;var n=a;var l=e;try{"default"in e&&(l=e.default)}catch(e){}var o={};Object.defineProperty(o,"__esModule",{value:true});o.cardNumber=void 0;var f=n;var u=l;function verification$5(e,r,t){return{card:e,isPotentiallyValid:r,isValid:t}}function cardNumber(e,r){r===void 0&&(r={});var t,i,a;if(typeof e!=="string"&&typeof e!=="number")return verification$5(null,false,false);var n=String(e).replace(/-|\s/g,"");if(!/^\d*$/.test(n))return verification$5(null,false,false);var l=u(n);if(l.length===0)return verification$5(null,false,false);if(l.length!==1)return verification$5(null,true,false);var o=l[0];if(r.maxLength&&n.length>r.maxLength)return verification$5(o,false,false);i=r.skipLuhnValidation===true||o.type===u.types.UNIONPAY&&r.luhnValidateUnionPay!==true||f(n);a=Math.max.apply(null,o.lengths);r.maxLength&&(a=Math.min(r.maxLength,a));for(var s=0;s<o.lengths.length;s++)if(o.lengths[s]===n.length){t=n.length<a||i;return verification$5(o,t,i)}return verification$5(o,n.length<a,false)}o.cardNumber=cardNumber;var s={};Object.defineProperty(s,"__esModule",{value:true});s.expirationYear=void 0;var v=19;function verification$4(e,r,t){return{isValid:e,isPotentiallyValid:r,isCurrentYear:t||false}}function expirationYear(e,r){r===void 0&&(r=v);var t;if(typeof e!=="string")return verification$4(false,false);if(e.replace(/\s/g,"")==="")return verification$4(false,true);if(!/^\d*$/.test(e))return verification$4(false,false);var i=e.length;if(i<2)return verification$4(false,true);var a=(new Date).getFullYear();if(i===3){var n=e.slice(0,2);var l=String(a).slice(0,2);return verification$4(false,n===l)}if(i>4)return verification$4(false,false);var o=parseInt(e,10);var f=Number(String(a).substr(2,2));var u=false;if(i===2){if(String(a).substr(0,2)===e)return verification$4(false,true);t=f===o;u=o>=f&&o<=f+r}else if(i===4){t=a===o;u=o>=a&&o<=a+r}return verification$4(u,u,t)}s.expirationYear=expirationYear;var c={};Object.defineProperty(c,"__esModule",{value:true});c.isArray=void 0;c.isArray=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"};var d={};Object.defineProperty(d,"__esModule",{value:true});d.parseDate=void 0;var p=s;var h=c;function getNumberOfMonthDigitsInDateString(e){var r=Number(e[0]);var t;if(r===0)return 2;if(r>1)return 1;if(r===1&&Number(e[1])>2)return 1;if(r===1){t=e.substr(1);return(0,p.expirationYear)(t).isPotentiallyValid?1:2}return e.length===5?1:e.length>5?2:1}function parseDate(e){var r;/^\d{4}-\d{1,2}$/.test(e)?r=e.split("-").reverse():/\//.test(e)?r=e.split(/\s*\/\s*/g):/\s/.test(e)&&(r=e.split(/ +/g));if((0,h.isArray)(r))return{month:r[0]||"",year:r.slice(1).join()};var t=getNumberOfMonthDigitsInDateString(e);var i=e.substr(0,t);return{month:i,year:e.substr(i.length)}}d.parseDate=parseDate;var g={};Object.defineProperty(g,"__esModule",{value:true});g.expirationMonth=void 0;function verification$3(e,r,t){return{isValid:e,isPotentiallyValid:r,isValidForThisYear:t||false}}function expirationMonth(e){var r=(new Date).getMonth()+1;if(typeof e!=="string")return verification$3(false,false);if(e.replace(/\s/g,"")===""||e==="0")return verification$3(false,true);if(!/^\d*$/.test(e))return verification$3(false,false);var t=parseInt(e,10);if(isNaN(Number(e)))return verification$3(false,false);var i=t>0&&t<13;return verification$3(i,i,i&&t>=r)}g.expirationMonth=expirationMonth;var y={};var $=y&&y.__assign||function(){$=Object.assign||function(e){for(var r,t=1,i=arguments.length;t<i;t++){r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e};return $.apply(this,arguments)};Object.defineProperty(y,"__esModule",{value:true});y.expirationDate=void 0;var m=d;var b=g;var x=s;function verification$2(e,r,t,i){return{isValid:e,isPotentiallyValid:r,month:t,year:i}}function expirationDate(e,r){var t;if(typeof e==="string"){e=e.replace(/^(\d\d) (\d\d(\d\d)?)$/,"$1/$2");t=(0,m.parseDate)(String(e))}else{if(e===null||typeof e!=="object")return verification$2(false,false,null,null);var i=$({},e);t={month:String(i.month),year:String(i.year)}}var a=(0,b.expirationMonth)(t.month);var n=(0,x.expirationYear)(t.year,r);if(a.isValid){if(n.isCurrentYear){var l=a.isValidForThisYear;return verification$2(l,l,t.month,t.year)}if(n.isValid)return verification$2(true,true,t.month,t.year)}return a.isPotentiallyValid&&n.isPotentiallyValid?verification$2(false,true,null,null):verification$2(false,false,null,null)}y.expirationDate=expirationDate;var _={};Object.defineProperty(_,"__esModule",{value:true});_.cvv=void 0;var P=3;function includes(e,r){for(var t=0;t<e.length;t++)if(r===e[t])return true;return false}function max(e){var r=P;var t=0;for(;t<e.length;t++)r=e[t]>r?e[t]:r;return r}function verification$1(e,r){return{isValid:e,isPotentiallyValid:r}}function cvv(e,r){r===void 0&&(r=P);r=r instanceof Array?r:[r];return typeof e!=="string"?verification$1(false,false):/^\d*$/.test(e)?includes(r,e.length)?verification$1(true,true):e.length<Math.min.apply(null,r)?verification$1(false,true):e.length>max(r)?verification$1(false,false):verification$1(true,true):verification$1(false,false)}_.cvv=cvv;var M={};Object.defineProperty(M,"__esModule",{value:true});M.postalCode=void 0;var O=3;var V=new RegExp(/^[a-z0-9]+$/i);function verification(e,r){return{isValid:e,isPotentiallyValid:r}}function postalCode(e,r){r===void 0&&(r={});var t=r.minLength||O;return typeof e!=="string"?verification(false,false):e.length<t?verification(false,true):V.test(e.trim().slice(0,t))?verification(true,true):verification(false,true)}M.postalCode=postalCode;var j=e;try{"default"in e&&(j=e.default)}catch(e){}var N={};var D=N&&N.__createBinding||(Object.create?function(e,r,t,i){i===void 0&&(i=t);var a=Object.getOwnPropertyDescriptor(r,t);a&&!("get"in a?!r.__esModule:a.writable||a.configurable)||(a={enumerable:true,get:function(){return r[t]}});Object.defineProperty(e,i,a)}:function(e,r,t,i){i===void 0&&(i=t);e[i]=r[t]});var Y=N&&N.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:true,value:r})}:function(e,r){e.default=r});var S=N&&N.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(e!=null)for(var t in e)t!=="default"&&Object.prototype.hasOwnProperty.call(e,t)&&D(r,e,t);Y(r,e);return r};var A=S(j);var C=r;var w=o;var I=y;var L=g;var F=s;var T=_;var U=M;var k={creditCardType:A,cardholderName:C.cardholderName,number:w.cardNumber,expirationDate:I.expirationDate,expirationMonth:L.expirationMonth,expirationYear:F.expirationYear,cvv:T.cvv,postalCode:U.postalCode};N=k;var z=N;export{z as default};

