---
title: Create Admin UI
sidebarTitle: Brands Admin Dashboard
description: Learn how to create Admin Dashboard UI for your new resource
---

Now that we've created a complete "Brand" model, let's create a Admin Dashboard interface so we can manage the brands.

## Step 1: Run the spree admin scaffold generator

Admin Scaffold generator is a tool that helps you create a complete Admin Dashboard UI for your new resource

Run the following command in your Spree application root directory:

```bash
bin/rails g spree:admin:scaffold Spree::Brand
```

This will create the following files:

- `app/controllers/spree/admin/brands_controller.rb`
- `app/views/spree/admin/brands/index.html.erb`
- `app/views/spree/admin/brands/new.html.erb`
- `app/views/spree/admin/brands/edit.html.erb`
- `app/views/spree/admin/brands/_table_header.html.erb`
- `app/views/spree/admin/brands/_table_row.html.erb`
- `app/views/spree/admin/brands/_filters.html.erb`
- `app/views/spree/admin/brands/_form.html.erb`

It will also automatically add the following routes to your `config/routes.rb` file:

```ruby
namespace :admin do
  resources :brands
end
```

The router matches incoming HTTP requests to specific controller actions in your application based on the URL path. The router also generates path and URL helpers based on the resources configured in the router.

You will now be able to access the brands resource at `http://localhost:3000/admin/brands` in your browser. To reference this route in your code, you can use the `spree.admin_brands_path` helper.

## Step 2: Customize the Admin Controller

You'll probably want to customize the newly created controller at `app/controllers/spree/admin/brands_controller.rb`:

```ruby
module Spree
  module Admin
    class BrandsController < ResourceController
      # Optional: customize the index collection scope
      # def scope
      #   super.with_logo
      # end

      # Default sort for the index action
      def collection_default_sort
        'name asc'
      end

      # avoid N+1 queries by specifying the includes
      def collection_includes
        { logo_attachment: :blob }
      end

      private

      # Define permitted parameters which users can submit through the new/edit form
      def permitted_resource_params
        params.require(:brand).permit(
          :name,
          :slug,
          :description,
          :logo,
          :active,
          :position
        )
      end
    end
  end
end
```

**Controller inheritance benefits:**
`Spree::Admin::ResourceController` provides:
- Standard CRUD actions (index, new, create, edit, update, destroy)
- Automatic authorization via CanCanCan
- Flash messages
- Collection and object loading
- Pagination support

**Customization points:**
- Override `scope` to modify the index query
- Override `collection_includes` to specify the includes for the index query
- Override `permitted_resource_params` for strong parameters
- Override individual actions (create, update, etc.) for custom logic

## Step 3: Customize the Views

### Index View

Customize `app/views/spree/admin/brands/index.html.erb` to add sorting support.

```erb
<%= content_for :page_title do %>
  <%= Spree.t(:brands) %>
<% end %>

<%= content_for :page_actions do %>
  <%= link_to_with_icon 'plus', Spree.t(:new_brand), new_object_url, class: 'btn btn-primary' if can?(:create, Spree::Brand) %>
<% end %>

<%= render 'spree/admin/shared/index_table' %> // [!code --]
<%= render 'spree/admin/shared/index_table', sortable: true %> // [!code ++]
```

This uses the standard [index_table.html.erb](https://github.com/spree/spree/blob/main/admin/app/views/spree/admin/shared/_index_table.html.erb) template which handles:
- Turbo Frame wrapping for fast updates
- Automatic empty state handling
- Pagination
- Optional filters support
- Sortable support

### Table Header Partial

Create `app/views/spree/admin/brands/_table_header.html.erb`:

```erb
<tr>
  <th scope="col"><%= sort_link @search, :name, Spree.t(:name) %></th>
  <th scope="col"><%= Spree.t(:active) %>?</th>
  <th scope="col"></th>
</tr>
```

The `sort_link` helper provides sortable column headers that work with Ransack.

### Table Row Partial

Customize `app/views/spree/admin/brands/_table_row.html.erb` file to add the following content:

```erb
<tr id="<%= spree_dom_id(brand) %>" data-controller="row-link" class="cursor-pointer">
  <td data-action="click->row-link#openLink"><%= brand.name %></td>
  <td data-action="click->row-link#openLink">
    <%= active_badge(brand.active?) %>
  </td>
  <td class="actions">
    <%= link_to_edit brand, data: { row_link_target: 'link', turbo_frame: '_top' } if can?(:edit, brand) %>
  </td>
</tr>
```

**Key features:**
- `data-controller="row-link"` - Makes entire row clickable
- `spree_dom_id(brand)` - Generates unique ID for Turbo updates
- `active_badge` helper - Displays consistent status badges
- `link_to_edit` helper - Standard edit link with proper permissions
- Dropdown menu for additional actions
- `turbo_frame: '_top'` - Ensures edit navigates full page

### New View

Scaffold created a `app/views/spree/admin/brands/new.html.erb` template with the following content:

```erb
<%= render 'spree/admin/shared/new_resource' %>
```

That's it! The [new_resource.html.erb](https://github.com/spree/spree/blob/main/admin/app/views/spree/admin/shared/_new_resource.html.erb) partial handles:
- Page title with back button
- Form wrapper with proper URL
- Error message display
- Form partial rendering
- Submit/cancel buttons

### Edit View

Scaffold created a `app/views/spree/admin/brands/edit.html.erb` template with the following content:

```erb
<%= render 'spree/admin/shared/edit_resource' %>
```

The [edit_resource.html.erb](https://github.com/spree/spree/blob/main/admin/app/views/spree/admin/shared/_edit_resource.html.erb) partial handles:
- Page title with resource name
- Form wrapper with proper URL
- Error message display
- Form partial rendering
- Submit/cancel buttons
- Delete button

### Form Partial

Customize `app/views/spree/admin/brands/_form.html.erb` file to add the following fields:

```erb
<div class="card mb-4" data-controller="slug-form">
  <div class="card-header">
    <h5 class="card-title">
      <%= Spree.t(:general_settings) %>
    </h5>
  </div>

  <div class="card-body">
    <%= f.spree_text_field :name,
        required: true,
        help: "Brand name as displayed to customers",
        data: { slug_form_target: :name, action: 'slug-form#updateUrlFromName' } %>

    <%= f.spree_text_field :slug,
        required: true,
        help: "URL-friendly identifier (auto-generated from name)",
        data: { slug_form_target: :url } %>

    <%= f.spree_rich_text_area :description,
        help: "Optional brand description" %>

    <%= f.spree_check_box :active,
        label: "Active" %>
  </div>
</div>

<div class="card mb-4">
  <div class="card-header">
    <h5 class="card-title"><%= Spree.t(:images) %></h5>
  </div>
  <div class="card-body">
    <%= f.label :logo, Spree.t(:logo) %>
    <%= render 'active_storage/upload_form',
        form: f,
        field_name: :logo,
        width: 800,
        height: 400 %>
    <%= f.error_message_on :logo %>
  </div>
</div>
```

**Form structure:**
- Stack cards vertically
- Use card components for visual grouping
- Use [Spree::Admin::FormBuilder](/developer/admin/form-builder) methods (automatically available)
- Add help text for non-obvious fields
- Use `active_storage/upload_form` partial for file uploads with specified dimensions
- Use `slug-form` Stimulus controller for slug generation preview (so user don't need to type the slug manually)
- Uses `spree_rich_text_area` to embed a fully-featured rich text editor

## Step 4: Add Navigation Menu Item

Now that we've created a complete Admin Dashboard UI for the brand resource, let's add a navigation menu item to the main sidebar so we can access it from the admin dashboard.

### Create Navigation Partial

Create `app/views/spree/admin/shared/_brands_nav.html.erb`:

```erb
<% if can?(:manage, Spree::Brand) %>
  <%= nav_item(
    Spree.t(:brands),
    spree.admin_brands_path,
    icon: 'tag',
    active: controller_name == 'brands'
  ) %>
<% end %>
```

**Key elements:**
- Wrap with `can?()` authorization check
- Use `nav_item` helper for proper formatting
- Specify icon from [Tabler Icons](https://tabler.io/icons)
- Define active state based on controller name
- Use `spree.` prefix for route helpers

### Register Navigation Partial

Add to `config/initializers/spree.rb`:

```ruby
Rails.application.config.spree_admin.store_nav_partials << 'spree/admin/shared/brands_nav'
```

This adds the navigation item to the main sidebar after Reports and before Storefront.

### Alternative: Add as Submenu Item

To add Brands under the existing Products menu, use the products injection point:

**Create:** `app/views/spree/admin/shared/_brands_products_nav.html.erb`

```erb
<% if can?(:manage, Spree::Brand) %>
  <%= nav_item(
    Spree.t(:brands),
    spree.admin_brands_path,
    active: controller_name == 'brands'
  ) %>
<% end %>
```

**Register:**

```ruby
Rails.application.config.spree_admin.store_products_nav_partials << 'spree/admin/shared/brands_products_nav'
```

