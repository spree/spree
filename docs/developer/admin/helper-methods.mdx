---
title: Admin Dashboard Helper Methods
sidebarTitle: Helper Methods
---

import SpreeStore from '/snippets/objects/spree_store.mdx'
import SpreeVendor from '/snippets/objects/spree_vendor.mdx'

Here you can find a list of helper methods that are available in the Admin Dashboard that you can use in every template.

<Warning>
The list is incomplete.
</Warning>

## `active_badge`

Displays a badge with a color based on the condition.

```erb
<%= active_badge(order.sent_to_erp_at.blank?) %>
```

If the condition is true, it will render

```html
<span class="badge badge-success">Active</span>
```

If the condition is false, it will render

```html
<span class="badge badge-danger">Inactive</span>
```

You can also pass a custom label to the badge:

<ParamField query="label" type="string">
  Custom text to display in the badge. If not provided, will show "Active"/"Inactive" based on the condition.
</ParamField>

## `active_link_to_with_icon`

Same as [link_to_with_icon](/developer/admin/helper-methods#link-to-with-icon), but it will add the `active` class if the current page is the same as the link.

```erb
<%= active_link_to_with_icon 'eye', "View Order in ERP", spree.admin_order_path(order), class: "btn btn-primary" %>
```

You can also pass a custom `active` condition.

```erb
<%= active_link_to_with_icon 'eye', "View Order in ERP", spree.admin_order_path(order), class: "btn btn-primary", active: order.sent_to_erp_at.blank? %>
```

## `current_currency`

Returns the currently selected currency. By default in Admin Dashboard this will be `store.default_currency`. This can be changed in the `Settings -> Store Defaults` page.

```erb
<%= current_currency %>
```

will return

```
USD
```

## `current_store`

<ResponseField name="current_store" type="Spree::Store" description="The current store object.">
  <SpreeStore />
</ResponseField>

Returns the current store [Spree::Store](https://github.com/spree/spree/blob/master/core/app/models/spree/store.rb) instance.

## `current_vendor`

<Info>
  Available only in [Spree Enterprise Edition](https://spreecommerce.com/pricing).
</Info>

<ResponseField name="current_vendor" type="Spree::Vendor" description="The current vendor object.">
  <SpreeVendor />
</ResponseField>

## `dropdown`

Creates a dropdown container with automatic Stimulus controller setup.

```erb
<%= dropdown do %>
  <%= dropdown_toggle class: 'btn-sm' do %>
    <%= icon('dots-vertical') %>
  <% end %>

  <%= dropdown_menu do %>
    <%= link_to_with_icon 'edit', Spree.t(:edit), edit_admin_brand_path(@brand), class: 'dropdown-item' %>
    <%= link_to_with_icon 'trash', Spree.t(:delete), admin_brand_path(@brand),
        class: 'dropdown-item text-danger',
        data: { turbo_method: :delete, turbo_confirm: Spree.t(:are_you_sure) } %>
  <% end %>
<% end %>
```

Will render:

```html
<div class="dropdown" data-controller="dropdown">
  <!-- dropdown content -->
</div>
```

**Features:**
- Automatically adds `data-controller="dropdown"` for Stimulus
- Smart positioning with Floating UI
- Auto-flip to stay in viewport
- Closes on outside click and Escape key

<ParamField query="class" type="string">
  Additional CSS classes to add to the dropdown container
</ParamField>

<ParamField query="data" type="hash">
  Additional data attributes to add to the dropdown container
</ParamField>

## `dropdown_toggle`

Creates a button that toggles the dropdown menu.

```erb
<%= dropdown_toggle class: 'btn-primary' do %>
  <%= Spree.t(:actions) %>
<% end %>
```

Will render:

```html
<button type="button"
        class="btn btn-primary"
        data-action="dropdown#toggle click@window->dropdown#hide"
        data-dropdown-target="toggle">
  Actions
</button>
```

**Features:**
- Automatically adds required Stimulus actions and targets
- Properly styled as a button element
- Handles window click events for closing

<ParamField query="class" type="string">
  Additional CSS classes to add to the button (e.g., 'btn-sm', 'btn-primary')
</ParamField>

<ParamField query="data" type="hash">
  Additional data attributes to merge with default dropdown attributes
</ParamField>

## `dropdown_menu`

Creates the dropdown menu container with proper positioning.

```erb
<%= dropdown_menu class: 'dropdown-menu-right' do %>
  <%= link_to Spree.t(:edit), edit_admin_brand_path(@brand), class: 'dropdown-item' %>
  <%= link_to Spree.t(:delete), admin_brand_path(@brand), class: 'dropdown-item text-danger' %>
<% end %>
```

Will render:

```html
<div class="dropdown-container hidden dropdown-menu-right"
     data-dropdown-target="menu"
     data-dropdown-placement-value="bottom-start">
  <!-- menu items -->
</div>
```

**Features:**
- Automatically adds required Stimulus target
- Hidden by default
- Configurable placement using Floating UI

<ParamField query="class" type="string">
  Additional CSS classes (e.g., 'dropdown-menu-right' for right-aligned menu)
</ParamField>

<ParamField query="placement" type="string">
  Dropdown placement position. Options: 'bottom-start' (default), 'bottom-end', 'top-start', 'top-end'
</ParamField>

<ParamField query="direction" type="string">
  Legacy option for positioning. Use `placement` instead. Options: 'left', 'top', 'top-left'
</ParamField>

<ParamField query="data" type="hash">
  Additional data attributes to merge with default dropdown attributes
</ParamField>

### Complete Dropdown Example

```erb
<%= content_for :page_actions do %>
  <%= dropdown do %>
    <%= dropdown_toggle class: 'btn-primary' do %>
      <%= icon('adjustments', class: 'mr-2') %>
      <%= Spree.t(:actions) %>
      <%= icon('chevron-down', class: 'ml-2') %>
    <% end %>

    <%= dropdown_menu class: 'dropdown-menu-right' do %>
      <%= link_to_with_icon 'download', Spree.t(:export_csv), export_admin_brands_path(format: :csv), class: 'dropdown-item' %>
      <%= link_to_with_icon 'file-export', Spree.t(:export_excel), export_admin_brands_path(format: :xlsx), class: 'dropdown-item' %>
      <div class="dropdown-divider"></div>
      <%= link_to_with_icon 'upload', Spree.t(:import), import_admin_brands_path, class: 'dropdown-item' %>
      <div class="dropdown-divider"></div>
      <%= link_to_with_icon 'trash', Spree.t(:bulk_delete), bulk_delete_admin_brands_path,
          class: 'dropdown-item text-danger',
          data: { turbo_method: :delete, turbo_confirm: Spree.t(:are_you_sure) } %>
    <% end %>
  <% end %>
<% end %>
```

## `icon`

Displays an icon.

```erb
<%= icon('eye') %>
```

Will render

```html
<i class="ti ti-eye"></i>
```

We use [Tabler Icons](https://tabler.io/icons) library for icons.

You can also pass additional options such as:

<ParamField query="class" type="string">
  Add additional CSS classes to the icon
</ParamField>

<ParamField query="style" type="string">
  Add additional inline styles to the icon
</ParamField>

<ParamField query="height" type="integer">
  Set the height of the icon in pixels
</ParamField>

```erb
<%= icon('eye', class: 'mr-2', height: 20, style: 'color: red;') %>
```

will render

```html
<i class="ti ti-eye mr-2" style="font-size: 20px; color: red;"></i>
```

## `local_time`

Displays a time in the user's timezone in a human readable format (based on the browser's timezone).

```erb
<%= local_time(order.sent_to_erp_at) %>
```

Provided by [local_time gem](https://github.com/basecamp/local_time).

## `link_to_with_icon`

Creates a link with an icon.

```erb
<%= link_to_with_icon 'eye', "View Order in ERP", "https://erp.com/orders/#{order.number}", class: "btn btn-primary" %>
```

* `eye` is the icon name.
* `View Order in ERP` is the link text.
* `https://erp.com/orders/#{order.number}` is the link url. For internal links, please use `spree.` routes helper, eg. `spree.admin_order_path(order)`.
* `btn btn-primary` is the bootstrap class for styling the link

## `supported_currencies`

Returns the list of supported currencies for the current store as an array of strings.

```erb
<%= supported_currencies %>
```

will return

```ruby
["USD", "EUR"]
```

## `try_spree_current_user`

Returns the current user object (class depends on the `Spree.admin_user_class` configuration). If the user is not signed in, it will return `nil`.

```erb
<%= try_spree_current_user.email %>
```

If you want to check if the user is signed in, you can use the following:

```erb
<%= try_spree_current_user.present? %>
```