= ActiveMerchant CHANGELOG

* Protx does support UK Maestro [cody]
* Add tests for length of UK Maestro cards [cody]
* Return all the error messages and codes from paypal responses [cody]
* Fail hard when attempting to capture without a credit card with NetRegistry [cody]
* Add support for the order fields to the create_customer_profile_transaction in Authorize.net CIM. [Patrick T. Joyce]
* Strip invalid characters and limit lengths of Protx customer data [Simon Russell]
* Fix empty start or end dates in Protx [Simon Russell]
* Add support for Authorize.net CIM [Patrick T. Joyce, Ian Lotinsky]
* Add option to skip order review to all PayPal Express gateways [garret.alfert, cody]
* Add capturing partial amounts, fix issue number formatting, fix authorization string when nil values returned, fix parsing of multiple '=' characters, simplify message_from [Simon Russell]
* Fix StartDate in ProtxGatewy [cody]
* Add support for refunds and continuous authority references to DataCashGateway [joel.chippindale]
* Fix gross in HiTrust notification. Don't use Money object in Verifi gateway [cody]
* Initial implementation of Payflow Name-Value API [Greg Furmanek]
* Add support for CyberSource credits [mjuneja]

== Version 1.3.2 (February 24, 2008)

* Actually fix the bug by adding extdata element to Payflow Requests [cody]
* Fix bug with adding name to Payflow requests [cody]
* Gateways will now look for CreditCard#brand before looking for CreditCard#type [cody]
* Make before_validate in CreditCard more clear [keith_du...@mac.com, cody]
* Don't send full Australian state names to PayPal [cody]
* Return last_digits that are less than 4 characters long [cody]
* Fix Bug with Authorize.Net ARB Remote Test [patrick.t.joyce]
* Add support for forcing test mode on Secure Pay AU gateway [cody]
* Update Secure Pay Au to meet specs for MessageInfo elements [cody]
* Add support for the Australian Secure Pay payment gateway [cody]
* Allow LinkPoint cancellations for recurring billing. [yanagimoto.shin]
* Add support for Ã…land Islands to the country list [cody]

== Version 1.3.1 (January 28, 2008)

* Rename BrainTreeGateway to BraintreeGateway, but keep alias to old naming for backwards compatibility [cody]

== Version 1.3.0 (January 28, 2008)

* Remove attr_readers for url and response from Gateway [cody]
* Remove @url from EfsnetGateway [cody]
* Remove @response instance variable in QuickpayGateway. [cody]
* Remove @response instance variable in PsigateGateway. Don't use billing address for shipping [cody]
* Remove @response instance variable in PaypalGateway. Don't use billing address for shipping. [cody]
* Remove @response instance variable in PayflowGateway [cody]
* Remove @response instance variable in MonerisGateway [cody]
* Remove @response instance variable and don't use billing address for shipping address in LinkpointGateway [cody]
* Remove @response instance variable from ExactGateway [cody]
* Remove @response instance variable from EwayGateway [cody]
* Remove @response instance variable from EfsnetGateway [cody]
* Remove @response instance variable from DataCashGateway [cody]
* Don't use billing_address for shipping_address in CyberSourceGateway [cody]
* Remove @response instance variable from CardStreamGateway [cody]
* Remove @response instance variable from BrainTreeGateway [cody]
* Remove unused deal_with_cc method from BogusGateway [cody]
* Remove test_result_from_cc_number completely from ActiveMerchant [cody]
* Don't use billing_address for shipping_address in Realex [cody]
* Update Realex to add support for cvv data. remove test_result_from_cc_number. [cody]
* Update Protx to add support for avs and cvv data. remove test_result_from_cc_number. [cody]
* Include ActiveMerchant::Utils module in test_helper and use generate_unique_id from the module instead of generate_order_id. [cody]
* Update SecurePay tests to check for avs and cvv data. [cody]
* Update SkipJack to add support for avs and cvv data. remove test_result_from_cc_number. [cody]
* Move generate_unique_id to its own module [cody]
* Update Viaklix to add support for avs and cvv data. remove test_result_from_cc_number. Truncate fields to avoid failure [cody]
* Update PSL Card Gateway to add support for avs and cvv data. remove test_result_from_cc_number. [cody]
* Update PlugNPayGateway to support avs and cvv data. Remove test_result_from_cc_number. [cody]
* Update PaymentExpressGateway to remove test_result_from_cc_number. [cody]
* Update PaySecure to remove test_result_from_cc_number. [cody]
* Update NetbillingGateway to support avs and cvv data. Remove test_result_from_cc_number. [cody]
* Replace all usage of :address with :billing_address in test cases [cody]
* Remove sensitive data from NetRegistryGateway responses. Refactor gateway and tests. Remove test_result_from_cc_number. [cody]
* Update VerifiGateway to support avs and cvv data. Remove test_result_from_cc_number. [cody]
* Small refactoring of UsaEpayGateway [cody]
* Update UsaEpayGateway to support avs and cvv data. Remove test_result_from_cc_number. [cody]
* Update TrustCommerce docs now that the gateway falls back to SSL post when tclink isn't available [cody]
* Change ARB to use correct :address1 key for addresses [cody]
* No need for specialized recurring response for Authorize.net recurring billing [cody]
* Update TransFirst to support avs and cvv data. Remove test_result_from_cc_number. [cody]
* Maintain backwards compatibility with :address option for now in the Payflow gateways [cody]
* Remove test_result_from_cc_number from SecurePayTech. Improve unit test coverage [cody]
* Fix email option in PayflowGateway. Remove support for :address option. :billing_address and :shipping_address must now be passed in separately. [cody]
* Make Bogus gateway's credit() method behave like capture [cody]
* Add update and delete methods to update and delete records stored in the vault. [benjamin.curtis]
* Add support for recurring_inquiry() to the PayflowGateway [dave.my...@contentfree.com]
* Add support for Authorize.net Automated Recurring Billing (ARB) [vkurnavenkov, forestcarlisle, ianlotin...@hotmail.com, patrick.t.joyce]
* Fix laser card regex [ladislav.martincik]
* Cleanup whitepace in README [patrick.t.joyce]
* Update ExactGateway to support avs and cvv data. Remove test_result_from_cc_number. [cody]
* Remove test_result_from_cc_number from eWay gateway. [cody]
* Remove duplicate attr_reader definitions from all gateways [cody]
* Remove useless tests raising Error [cody]
* Update gateway templates [cody]
* Fix Authorize.net test where authorize() was being called instead of purchase(). Perform some cleanup of the tests [ianlotin...@hotmail.com, cody]
* Improve Authorize.net documentation based on the DataCashGateway docs [patrick.t.joyce]
* Update EfsnetGateway to support avs and cvv data. Remove test_result_from_cc_number. [cody]
* Remove test_result_from_cc_number from DataCash. Improve unit test coverage [cody]
* Update CyberSourceGateway to support avs and cvv results. Remove test_result_from_cc_number. [cody]
* Remove match information from CVVResult [cody]
* Remove Response#card_data. The application has access to the information anyway [cody]
* Return the last 4 digits of the card number from the Response instead of the masked number [cody]
* Actually use the shipping address in TrustCommerce [cody]
* Update TrustCommerceGateway to support avs and cvv results. Remove test_result_from_cc_number. Automatically fallback to SSL POST if the TCLink library is not available. Add additional customer information to the requests. [cody]
* Fix remote CardStreamGateway tests [cody]
* Map merchant AVS codes to street and postal match codes [cody]
* Update CardStreamGateway to support avs and cvv data [cody]
* Remove merchant_data hash. Add additional CVV codes [cody]
* Update QuickpayGateway to support merchant_data hash. Remove test_result_from_cc_number. [cody]
* Update LinkpointGateway to support merchant_data hash. Remove test_result_from_cc_number. [cody]
* Update PsigateGateway to support merchant_data hash. Remove test_result_from_cc_number. [cody]
* Update MonerisGateway to support merchant_data hash. Remove test_result_from_cc_number. [cody]
* Remove AVS Message and CVV2 Message from params hash in Authorize.net [cody]
* Update BrainTreeGateway to support merchant_data hash [cody]
* Update PaypalGateway to support merchant_data hash [cody]
* Update Payflow to support merchant_data hash [cody]
* Add card data to PayJunction response. PayJunction does not return the CVV or AVS result codes. Remote test_result_from_cc_number from PayJunction. [cody]
* Rename CCVResult to CVVResult to be more aligned with ActiveMerchant's usage of the term verification value [cody]
* Remove test_result_from_cc_number from Authorize.net in favour of mocking [cody]
* Add merchant_data hash, which contains all of the card_data, avs_result, and ccv_result. [cody]
* Add CCVResult for the Card Code Verification Result. Update Authorize.net to use the new class [cody]
* Rename AVSResult#match_type AVSResult#match [cody]
* Rename AVS::Result class to AVSResult [cody]
* Convert Authorize.net gateway to use the new AVS module [cody]
* Add AVS data to the Response object [cody]
* Fix credentials for remote Authorize.net TEST MODE test [cody]
* Add AVS module and AVS::Result class [cody]
* Update base gateway class RDOC [cody]
* Update the README with the latest list of supported gateways. Update the example in the README to include the verification value, which is now required by the credit card object by default. [cody]
* Handle the return from 2Checkout [cody]
* Automatically determine the credit card type when a type is not provided [cody]
* Revert to initial implementation of LUHN algorithm because it all fits in one simple method [cody]
* Remove unused api_cert_chain.crt file [cody]
* Update PaypalGateway, and PaypalExpressGateway to send requests to the correct endpoints when using API signatures [cody]
* Successful return code for HiTRUST is actually 00 [cody]
* Make ActiveMerchant::Billing::Error a subclass of ActiveMerchant::ActiveMerchantError [cody]
* Handle the return from the offsite payment gateways [cody]
* Default HiTRUST order description to "Store purchase" [cody]
* Fix HiTRUST field names [cody]
* Add support for passing in the locale code [georg.fr...@meandevel.com]
* Add support for the Offsite payment gateway HiTRUST [cody]
* Accept SuccessWithWarning as success [cody]
* Add a link to the LinkPoint staging server docs in remote_linkpoint_test.rb [cody]
* Update Discover regex [cody]
* Match full pan range of Maestro cards from 12 - 19 digits in length [cody]
* Fix errors on base of CreditCard [josh.bassett]
* Update product to use Rubigen instead of stolen Rails generator [cody]
* Mimic directory structure of unit tests in remote tests [cody]
* Restructure the location of the remote tests [cody] 
* Ensure DataCash order_id is limited to 30 characters [cody]
* Return the pretty messages from PayJunction based on the return code [cody]
* make CreditCard.require_verification_value = true the default [cody]
* Use existing credit_card helper in credit card tests [cody]
* Return the authrorization number of the original transaction in the SkipJack gateway [cody]
* Update format of line items given to the gateway. Cleanup and uncomment unit tests [cody]
* Add support for the SkipJack gateway [Bill Bereza, cody]
* Make the bogus gateway easier to test by moving messages into constants [cody]
* Add retry logic when connection has been refused for all gateways. Enable safe retries of all connection failures with the PayflowGateway, as it has a unique request header. [cody]
* Catch Timeout::Error when posting data [cody]
* Change order of loading ActionPack for tests since assert_success defined in ActionController::Assertions::DeprecatedAssertions inteferes with ActiveMerchant's definition [cody]
* Catch Errno::ETIMEDOUT and extend open and read timeouts to 60 seconds [cody]
* Add address2 to the billing address of Viaklix transactions [cody]
* Improve Psigate generic error message [cody]
* Fix small errors in Psigate documentation [cody]
* Add Response#fraud_review? query method to the response. Allows gateways to indicate that a payment is pending review by the fraud service [cody]
* Handle Errno::ECONNRESET when posting data [cody]
* Fix broken USA ePay URL [cody]
* Update RequiresParameters to support HashWithIndifferentAccess [cody]
* Add support for SecurePayTech payment gateway [Jasper Bryant-Greene]
* Detect when test credentials are being used with PayJunction [cody]
* Update documentation about TrustCommerce void [cody]
* Add void to TrustCommerce [jesse.c.scott]
* Add support for echecks to the BrainTree gateway [Jeremy Voorhis]
* Fix before_validate and validate methods in CreditCard [rick.denatale]
* Add support for Netbilling payment gateway [cody]
* Pass in N/A for unknown states when a country is present in PaypalGateway [cody]
* Strip non alpha chars from order_id in Payflow gateway, as Paymentech Tampa can't handle them [cody]
* Add support for the PaySecure payment gateway [cody]
* Add support for descriptions in Authorize.net credits [shiva.kaul]
* Great cleanup and improvement of CreditCard code, tests, and docs [James Herdman]

== Version 1.2.1

* Fix remote PayPal tests [cody]

== Version 1.2.0

* Update Linkpoint tests to remove useless pem file [cody]
* Use symbols for CreditCard error messages, since errors have indifferent access [cody]
* Improve CreditCard error messages [George Ogata]
* Change deny to assert_false, and deny_success to assert_failure.  Remove Gateway.gateway, as it is available from Base [cody]
* Improve documentation, and test coverage [James Herdman]
* Refactor MonerisGateway, improve test coverage and documentation [James Herdman]
* Add support for crediting to Moneris [James Herdman]
* Send state N/A in Payflow when the state is blank.  Fixes UK PayPal Express payments when not providing a state [cody]
* Load remote test credentials from a fixtures file.  ActiveMerchant will look for a custom file ~/.active_merchant/fixtures.yml.  If the file exists it will be loaded instead of the default fixtures provided by ActiveMerchant.  This makes development easier, and removes the risk of committing non-public test account credentials to subversion. [cody]
* Add support for password protected pem files [cody]
* Add support for Concord Efsnet payment gateway [snacktime]
* Fix dependency loading for gateways that are subclasses [cody]
* Add Braintree payment gateway [Michael J. Mangino]
* Add support for PayPal API signatures [Benjamin Curtis, cody]
* Add payment gateway Viaklix [Sal Scotto, cody]
* Add Australian payment gateway NetRegistry [George Ogata]
* Take order email from the options hash instead of the address for CyberSource [cody]
* Use an array for LineItems when calculating tax in CyberSource gateway [cody]
* Add CyberSource gateway [Matt Margolis]
* Sanitize Protx order id [cody]
* Fix support for electron in Protx [cody]
* Add support for Protx [shiftx, cody]
* Use undef_method with a single argument in SecurePay to prevent JRuby from choking on it. [jonathan.l.bartlett]
* Default address_override to 0 for PayPal Website Payments Standard payments. [cody]
* Enhance credit card error messages [manfred]
* Use HashWithIndifferentAccess for CreditCard for compatibility with Rails applications [michael.j.mangino]
* Fix nil exception when no response reason text is found in Authorize.net [cody]
* Add support for PayJunction [Matt Sanders] 
* Change billing_address to shipping_address in PayPal Integration helper, as billing_address was incorrect.  Addresses passed to billing_address for the PayPal helper will no longer be added to the form. This will break existing code, as the address will not be passed.
* Remove switch patterns from card detection that were eliminated on July 1, 2007 [cody]
* Format the issue number in Payflow requests to always be 2 digits [cody]
* Move application_id to Gateway and Helper class respectively [cody]
* Improve TrustCommerce documentation [cody]
* Add credit to Payflow [cody]
* Add support for the Plug 'N Pay gateway [ryan.norbauer, cody]
* Add support for ItemTotal, Shipping, Handling, and Tax amounts in the PayPal Express and PayPal gateways [baldwindavid, cody]
* Add page customization options to the PaypalExpress, and PayflowExpress gateways [ cpjolicoeur, cody]
* Add Verifi gateway [Paul Hepworth]
* Add a PayflowResponse object with a profile_id accessor method.  Return the correct authorization number on recurring actions [cody]
* Add support for an initial transaction with recurring payments [findchris, cody]
* Add support for email receipts to recurring Payflow Payments [Rick Olson]
* Ensure the ButtonSource isn't too long [cody]
* Add ButtonSource to Paypal and PaypalExpress gateways [cody]
* Rename application to application_id and place it on Base, so it can be set once and forgotten about [cody]
* Add ButtonSource field to PayflowExpress gateway [cody]
* Add a field for the bn to the PayPal helper [cody]
* Add remote secure pay test and correctly define test? [cody]
* Undefine unsupported methods from SecurePay [cody]
* Enhance the TransFirst error message for declined transactions [cody]
* Add initial support for TransFirst gateway [cody]
* Deprecate certification_id in Payflow gateways [cody]
* Work around required PayPal state fields for countries that don't require states [cody]
* Add metadata to SecurePay gateway [cody]
* Add initial support for the SecurePay gateway using the Authorize.net translator [cody]
* Add the homepage_url and display_name accessors to each gateway [cody]
* Remove Money dependency from main gateways. Cleanup tests.  Add supported_countries class accessor which returns an array of 2 digit iso country codes for which countries the gateway supports accounts in [cody]
* Add American Express card to Psigate [cody]
* Send N/A to PayPal in the PayPal Helper when we don't know the UK county [cody]
* Actually pass the amount of the capture through to Payflow [cody]
* Update ExactGateway test and test mode [cody]
* Remove unused method in PslCardGateway [cody]
* Add updated credit card tests [cody]
* Update and test PslCardGateway [cody]
* Add Laser card type [cody]
* Update Nochex documentation [cody]
* Sanitize the Realex order_id [cody] 
* Add support for Irish Realex payment gateway [John Ward, cody]
* Move credit_card helper method to the test_helper [cody]
* Update PayflowExpressResponse to match the interface of the PayflowExpressResponse.  Add :no_shipping and :address_override options to PayflowExpress [cody]
* Add a currency option to the Payflow and Paypal gateways [cody]
* PaypalExpress should use the shipping address, not the billing address [cody]
* Allow overriding the user with Payflow so that a vendor and user can be provided when making requests [cody]
* PayPal DirectPayment API requires a UK County to be sent as the state or province.  Return N/A as the state when one isn't provided to ensure that PayPal doesn't reject the payment [cody]
* Add ability to perform reference transactions with Payflow [Al Evans, cody]
* Enhance recurring Payflow tests and recurring_inquiry [Al Evans]
* Add recurring payments to Payflow [Rick Olson]
* Improve the error message generated by requires! [cody]
* Update credit card regular expressions and update Quickpay gateway with tests for new cards [cody]
* Add support for token based payments to PaymentExpress [Nik Wakelin]
* Refactor default_currency to the base gateway class [cody]
* Clean unsupported characters from the Quickpay ordernum [cody]
* Call the :sale and :authorization in QuickpayGateway [cody]
* Add Danish gateway Quickpay [cody]
* Remove redundant hash brackets from generator template [cody]
* Add additional options to the PayPal Website Payments Standard Helper [Rick Olson]
* Move generate_unique_id method to Gateway class so other gateways can also use it [cody]
* Allow notification name / value pairs to have a . in the name like checkout.x = 400 [cody]
* Fix PaypalExpressGateway#purchase to have the same method signature as other gateways [cody]
* Cargo cult off the rails unique id generator instead of UUID library [cody]
* Add uuid-1.0.3 for generating random request UUIDs [cody]
* Remove mock_methods and http mock from the library [cody]
* PaypalExpress cannot setup a payment for 0 dollars.  If the amount is zero then setup a payment for $1. [cody]
* Small changes to PslCard gateway [cody]
* Fix Money dependency with PslCard gateway [cody]
* Add PslCard payment gateway [MoneySpyder http://moneyspyder.co.uk]
* Scrub the card number, expiry, and CVV code from the response [cody]
* Use test? query for checking test mode [cody]
* Add support for the E-xact Payment Gateway [James Edward Gray II, cody]
* Fix partially broken method of dealing with phone numbers in the PayPal Helper [cody]
* Update remote tests for PaymentExpress [cody]
* Add Content-Type header to PaymentExpress post [cody]
* Use DECLINED as the message for declined transactions in the PaymentExpress remote tests [cody]
* Add JCB as a supported card type for the PaymentExpressGateway [cody]
* Rename DpsGateway to PaymentExpressGateway [cody]
* Add DPS Payment Express gateway (NZ) [dgjones, cody]
* Remove duplicate and incorrect expdate method from Authorize.net [cody]
* Allow authorization and purchase using a billing_id retrieved from TrustCommerce citadel [jesse.c.scott]
* Don't return a frozen string from CreditCard.type? [cody]
* Update remote Psigate test to ensure using a verification value doesn't break anything [cody]
* Update remote Moneris test to ensure using a verification value doesn't break anything [cody]
* Fix Solo issue number with CardStream gateway and improve test coverage [cody]
* Add CardStream gateway [Jonah Fox, Thomas Nichols, cody]
* Verify Peer in PayPal notifications and add account method [cody]

== Version 1.1.0

* Add unique_id option to PayPal mass payments [Haig]
* Fix expiry date in USA ePay [cody]
* Fix PayPal Payments Pro UK with Switch & Solo cards [cody]
* Add reauthorization to PaypalGateway and PaypalExpressGateway [dorrenchen]
* Update DataCash tests and format merchant reference number to meet DataCash's requirements [MoneySpyder, cody]
* Add Datacash gateway [MoneySpyder, cody]
* VERIFY_PEER on all SSL requests [cody]
* Add support for 2Checkout [cody] 

== Version 1.0.3

* Add support for PayPal mass payments to the PaypalGateway and the PaypalExpressGateway [Brandon Keepers]
* Add a credit method to Authorize.net [cody]

== Version 1.0.2

* Add support for OrderDescription, Payer, and InvoiceID fields in PaypalGateway [cody]

== Version 1.0.1

* Add support for crediting to PayPal [cody, Haig]

== Version 1.0.0

* Add discover to list of supported card types for Authorize.net
* Fix Psigate crediting [sean.alien8@gmail.com]
* Fix dependency loading of tests
* Add methods for storing credit cards to the Bogus gateway [Jim Kane]
* Fix bugs in expiration dates. [Jim Kane]
* Fixed bugs related to authorized.net [Rick Olson]
* Linkpoint is now a full featured backend for active merchant [Ryan Heneise]
* Added linkpoint support [Ryan Heneise]
* Added trust commerce gateway [Hans Friedrich]
* Removed shipping stuff until there is time to implement it properly
* The library now rejects money amounts which are not either cents as integer or a Money object
* Moneris now uses the same layout as the authorized.net plugin
* Added authorized.net
* Changed default to :test mode. Set to production with ActiveMerchant::Billing::Base.gateway_mode = :production
* More refactoring 
* Refactored a bit so that there is space for billing and shipping area. None of the shipping aids are fleshed out yet. Needs more work.
* Added Moneris support
* Credit card in memory object resembling a AR object
* Credit card validation methods as static methods of the credit card object

